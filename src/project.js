window.__require=function t(e,n,o){function i(c,s){if(!n[c]){if(!e[c]){var r=c.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!s&&l)return l(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+c+"'")}}var u=n[c]={exports:{}};e[c][0].call(u.exports,function(t){return i(e[c][1][t]||t)},u,u.exports,t,e,n,o)}return n[c].exports}for(var a="function"==typeof __require&&__require,c=0;c<o.length;c++)i(o[c]);return i}({Avatar:[function(t,e,n){"use strict";cc._RF.push(e,"b6d21Ezl0VGeYF+0tarQ4RJ","Avatar");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./LoadingManager"),c=t("../../Common/Network/ConnectHandler"),s=t("../../Common/Data/LabelHelperConfigs"),r=t("../../Common/Data/GameData"),l=t("../../Common/Data/Constants"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.holderAvatar=null,e.nodeInfo=null,e.avatar=1,e.language=null,e}return o(e,t),e.prototype.onLoad=function(){this.language=s.TextData[r.default.getInstance().UserData.textPackage],cc.systemEvent.on(l.default.EVENT_API.UPDATE_AVATAR,this.onUpdateAvatarReponse.bind(this),this)},e.prototype.onUpdateAvatarReponse=function(t){a.default.getInstance().hide(),null!=t&&0==t.status&&(r.default.getInstance().UserData.avatar=this.avatar,cc.systemEvent.emit(l.default.EVENT_LOBBY.AVATAR,this.avatar),this.node.active=!1,this.nodeInfo.active=!0)},e.prototype.onBtnAvatar=function(t,e){for(var n in this.avatar=+e+1,this.holderAvatar.children){var o=this.holderAvatar.children[n];o.children[0].active=n==e}},e.prototype.onBtnBack=function(t){this.node.active=!1,this.nodeInfo.active=!0},e.prototype.onBtnConfirm=function(t){a.default.getInstance().show(),c.default.getInstance().processChangeAvatar(this.avatar)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([d(cc.Node)],e.prototype,"holderAvatar",void 0),i([d(cc.Node)],e.prototype,"nodeInfo",void 0),e=i([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","./LoadingManager":"LoadingManager"}],BanCaData:[function(t,e,n){"use strict";cc._RF.push(e,"b00e71lp9VMUJgu0lzztk0D","BanCaData");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BATTLECONFIG=new _,e.jackpotBanca=[],e.bulletRequire=!0,e.is_local=!1,e.lock_fish_target=null,e.is_pause=!1,e}var n;return o(e,t),n=e,e.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new n),this.Instance},e.prototype.setDefaut=function(){this.lock_fish_target=null,this.jackpotBanca=[],this.bulletRequire=!0,this.is_pause=!1,this.BATTLECONFIG=new _},e.Instance=null,e=n=i([c],e)}(cc.Component));n.default=s,n.EventNotification={updateValue:"updateValue",unlockFish:"unlockFish",lock_fish:"LOCK_FISH"},n.ZORDERGAME={BG:1,FISH:99,BULLET:100,PLAYER:105,NET:106,OTHERSCENE:107,UI:201,POPUP:202};var r=function(){return function(){this.fish_id=0,this.kind=0,this.location=new l(0,0,0,0)}}();n.FISH_LOCATION=r;var l=function(){return function(t,e,n,o){this.v1=cc.Vec2.ZERO,this.v2=cc.Vec2.ZERO,this.v1.x=t,this.v1.y=n,this.v2.x=e,this.v2.y=n}}();n.LOCATION_FISH=l;var u=function(){return function(){this.uid=0,this.nick="",this.balance=0,this.bullet_id=1,this.desk_no=0}}();n.ACCOUNT_INFO=u;var p=function(){return function(){this.bullet_id=0,this.bullet_kind=0,this.angle=0,this.lock_fish_id=0,this.desk_no=0,this.balance=0,this.amount=0}}();n.BULLET=p;var d=function(){return function(){this.name="",this.kind=0,this.multiple=0,this.box_h=0,this.box_w=0}}();n.FISH_INFO=d;var h=function(){return function(){this.desk_no=0,this.fish_id=0,this.amount=0,this.win=0,this.balance=0}}();n.FISH_DIE=h;var f=function(){return function(){this.speed=0,this.radius=0,this.name="",this.kind=0,this.active=1,this.amount=0}}();n.BULLET_INFO=f;var _=function(){return function(){this.is_Sound=!0,this.is_lock_fish=!1,this.is_auto_shoot=!1,this.is_lock_jackpot=!1,this.delta_shoot=.2,this.delta_no_action=60,this.isError=!1}}();n.BATTLE=_;var g=function(){return function(){this.code=-1,this.desc="",this.balance=0}}();n.ADD_MONEY=g;var m=function(){return function(){this.nick="",this.room_id=0,this.room_value=0,this.jackot_value=0,this.date_time=""}}();n.TOP_JACKPOT=m,n.ERROR_CODE={BALANCE_NOT_VALID:-6,OTHER_DEVICE:-7,KICK:-8,NOT_ENOUGHT_BALANCE:-5,REQUEST_ADD_MONEY:-4,REPAIRING_SYSTEM:-69,NOT_LOGIN:-1,JACKPOT_APPEAR:1,SUCCESS:0,LOCK_ACCOUNT:-101,ACCOUNT_NOT_EXIST:-102,WALLET_ERROR:-103,SYSTEM_ERROR:-150},cc._RF.pop()},{}],BanCaHandler:[function(t,e,n){"use strict";cc._RF.push(e,"32dc5hicMtBrrNiW8EkKEmX","BanCaHandler");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./BanCaData"),a=t("../../Common/Network/WsHandler"),c=t("../../Common/Data/GameConfigs"),s=t("../../Lobby/Scripts/LoadingManager"),r=t("../../Common/Data/GameData"),l=t("../../scenemanager/scripts/SceneManager"),u=t("../../Common/Data/Constants"),p=cc._decorator.ccclass,d=function(){function t(){this.onConnectMainPlayer=function(){},this.onUpdateFish=function(){},this.onRemoveFish=function(){},this.onOnlineUser=function(){},this.onUserFire=function(){},this.onFishDie=function(){},this.onLeaveUser=function(){},this.onPushJackpot=function(){},this.onNotification=function(){},this.onSwithScense=function(){},this.onCatchJackpot=function(){},this.onAddMoreMoney=function(){},this.onFailJoin=function(){},this.onTopJackpot=function(){},this.onKickUser=function(){},this.config_fish=[],this.config_bullet=[],this.is_kick=!1,this.is_LoadCatran=!1,this.ws=null,this.is_require_buy_money=!1,this.main_user=null,this.count_fail=0,this.kick_code=0}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e,this.Instance.init()),this.Instance},t.prototype.clearEventCallback=function(){this.onUpdateFish=function(){},this.onRemoveFish=function(){},this.onConnectMainPlayer=function(){},this.onOnlineUser=function(){},this.onFishDie=function(){},this.onUserFire=function(){},this.onLeaveUser=function(){},this.onPushJackpot=function(){},this.onNotification=function(){},this.onSwithScense=function(){},this.onCatchJackpot=function(){},this.onAddMoreMoney=function(){},this.onKickUser=function(){},this.onFailJoin=function(){},this.onTopJackpot=function(){},this.config_fish=[],this.config_bullet=[],this.main_user=null,this.is_kick=!1,this.kick_code=0},t.prototype.init=function(){i.default.getInstance().is_local||cc.systemEvent.on(c.GameConfigs.WSGameName.Banca,this.onMessage,this)},t.prototype.connect=function(){var t=this;i.default.getInstance().is_local?this.ws.onmessage=function(e){t.onMessage(e.data)}:a.WsHandler.getInstance().joinGame(c.GameConfigs.WSGameName.Banca),cc.systemEvent.once(c.GameConfigs.WSGameName.Banca+"leave_game",function(e){if(!(e.code<0))if(t.is_kick)t.onKickUser();else{s.default.getInstance().hide(),i.default.getInstance().setDefaut(),l.clientdev.SceneManager.Instance.LoadScene(c.GameConfigs.SceneName.Lobby,function(){});r.default.getInstance().UserData.balance;cc.systemEvent.emit(u.default.EVENT_LOBBY.UPDATE_BALANCE,r.default.getInstance().UserData.balance)}})},t.prototype.Close=function(){cc.systemEvent.targetOff(this)},t.prototype.sendData=function(t){cc.log("ws send :"+t),i.default.getInstance().is_local?this.ws.ws.send(t):a.WsHandler.getInstance().playGame(c.GameConfigs.WSGameName.Banca,t)},t.prototype.onMessage=function(t){if(!i.default.getInstance().is_pause&&(i.default.getInstance().is_local&&(t=JSON.parse(t)),null!=t))switch(t.cmd){case"s_account_info":this.parseAccountInfo(t.s_data);break;case"s_join_success":this.parseJoinGame(t.s_data);break;case"s_join_fail":this.parseJoinGameFail(t.s_data);break;case"s_battle_info":this.parseBattleInfo(t.s_data);break;case"s_fish_battle":this.parseFishBattle(t.s_data);break;case"s_user_fire":this.parseBullet(t.s_data);break;case"s_catch_fish":this.parseFishDie(t.s_data);break;case"s_user_leave":this.parseLeave(t.s_data);break;case"s_push_jackpot":this.parsePushJackpot(t.s_data);break;case"s_notify":this.parseNotification(t);break;case"s_switch_sceen":this.parse_switch_sceen(t.s_data.sceen);break;case"s_catch_fish_jackpot":this.parseCatchJackpot(t.s_data);break;case"s_request_add_money":this.parseAddMoreMoney(t.s_data);break;case"s_top_jackpot":this.parseTopJackpot(t.s_data);break;case"s_kick":this.is_kick=!0;break;case"s_money":this.parseMoney(t.s_data)}},t.prototype.processJoinGame=function(t){var e=JSON.stringify({cmd:"join_room",c_data:{money:t}});this.sendData(e)},t.prototype.processShoot=function(t){var e=JSON.stringify({cmd:"user_fire",c_data:{BulletKind:t.bullet_kind,BulletId:t.bullet_id,Angle:t.angle.toFixed(2),LockFishId:t.lock_fish_id}});this.sendData(e)},t.prototype.processBuyMoney=function(t){if(!this.is_require_buy_money){var e=JSON.stringify({cmd:"request_add_money",c_data:{money:t}});this.is_require_buy_money=!0,this.sendData(e)}},t.prototype.processHit=function(t,e){var n=JSON.stringify({cmd:"catch_fish",c_data:{BulletKind:e.bullet_kind,BulletId:e.bullet_id,FishId:t}});this.sendData(n)},t.prototype.processTopJackpot=function(){var t=JSON.stringify({cmd:"top_jackpot",c_data:""});this.sendData(t)},t.prototype.parseAccountInfo=function(t){s.default.getInstance().hide(),this.main_user=new i.ACCOUNT_INFO,this.main_user.uid=t.AccountId,this.main_user.nick=t.Nick,this.main_user.balance=t.Money},t.prototype.parseJoinGame=function(t){var e=this;this.config_fish=[],this.config_bullet=[],t.fishs.forEach(function(t){var n=new i.FISH_INFO;n.name=t.Name,n.kind=t.Kind,n.multiple=t.Multiple,n.box_h=t.BoxH,n.box_w=t.BoxW,e.config_fish.push(n)}),t.bullets.forEach(function(t){var n=new i.BULLET_INFO;n.name=t.bullet_name,n.kind=t.bullet_kind,n.active=t.is_active,n.speed=t.speed,n.radius=t.radius,e.config_bullet.push(n)}),null!=this.main_user&&this.onConnectMainPlayer(this.main_user),this.count_fail=0},t.prototype.parseJoinGameFail=function(t){this.count_fail++,5==this.count_fail?this.onKickUser():this.onFailJoin(t.code)},t.prototype.parseFishBattle=function(t){if(!this.is_LoadCatran)for(var e=[],n=0;n<t.length;n++){var o=new i.FISH_LOCATION;o.fish_id=t[n].FishId,o.kind=t[n].Kind,o.location=new i.LOCATION_FISH(t[n].Location.X1,t[n].Location.X2,t[n].Location.Y1,t[n].Location.Y2),e.push(o),this.onUpdateFish(o),n==t.length-1&&this.onRemoveFish(e)}},t.prototype.parseBattleInfo=function(t){var e=[];t.forEach(function(t){var n=new i.ACCOUNT_INFO;n.uid=t.AccountId,n.nick=t.Nick,n.balance=t.Money,n.bullet_id=t.BulletId,n.desk_no=t.DeskNo,e.push(n)}),this.onOnlineUser(e)},t.prototype.parseBullet=function(t){var e=new i.BULLET;e.bullet_id=t.BulletId,e.bullet_kind=t.BulletKind,e.angle=t.Angle,e.amount=t.Amount,e.lock_fish_id=t.LockFishId,e.desk_no=t.DeskNo,e.balance=t.Money,this.onUserFire(e)},t.prototype.parseFishDie=function(t){var e=new i.FISH_DIE;e.balance=t.Balance,e.fish_id=t.FishId,e.desk_no=t.DeskNo,e.win=t.Win,e.amount=t.Amount,this.onFishDie(e)},t.prototype.parseLeave=function(t){this.onLeaveUser(t.DeskNo)},t.prototype.parseMoney=function(t){r.default.getInstance().UserData.balance=t.balance},t.prototype.parsePushJackpot=function(t){var e=t.split(",");this.onPushJackpot(e)},t.prototype.parse_switch_sceen=function(t){this.onSwithScense(t)},t.prototype.parseNotification=function(t){switch(t.code){case i.ERROR_CODE.OTHER_DEVICE:case i.ERROR_CODE.KICK:case i.ERROR_CODE.REPAIRING_SYSTEM:this.is_kick=!0,this.kick_code=t.code}this.onNotification(t)},t.prototype.parseCatchJackpot=function(t){var e=new i.FISH_DIE;e.balance=t.Balance,e.fish_id=t.FishId,e.desk_no=t.DeskNo,e.win=t.Win,e.amount=t.Amount,this.onCatchJackpot(e)},t.prototype.parseAddMoreMoney=function(t){var e=new i.ADD_MONEY;e.code=t.code,e.balance=t.money,e.desc=t.desc,this.is_require_buy_money=!1,t.code>=0?this.count_fail=0:this.count_fail++,5==this.count_fail&&this.onKickUser(),this.onAddMoreMoney(e)},t.prototype.parseTopJackpot=function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n],a=new i.TOP_JACKPOT;a.room_id=o.RoomId,a.nick=o.Nick,a.room_value=o.RoomValue,a.jackot_value=o.JackpotValue,a.date_time=o.DateTime,e.push(a),n==t.length-1&&this.onTopJackpot(e)}},t.Instance=null,t=e=o([p],t)}();n.default=d,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Network/WsHandler":"WsHandler","../../Lobby/Scripts/LoadingManager":"LoadingManager","../../scenemanager/scripts/SceneManager":"SceneManager","./BanCaData":"BanCaData"}],BattleControl:[function(t,e,n){"use strict";cc._RF.push(e,"4caf2cUCbhGHbNBAFhdEvtY","BattleControl");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./BanCaHandler"),c=t("./FishManager"),s=t("./BulletControl"),r=t("./BanCaData"),l=t("./PlayerControl"),u=t("../../Common/Utilities/Utility"),p=t("./WinEffect"),d=t("../../Common/UI/NumberRun"),h=t("../../Common/Utilities/Shake"),f=t("../../Common/Network/WsHandler"),_=t("../../Common/Data/GameConfigs"),g=t("../../Common/Data/Constants"),m=t("./NotificationShow"),y=t("./PopupMoney"),v=t("../../Common/UI/Notification"),b=t("../../Common/UI/PopupInterface"),C=t("../../Lobby/Scripts/LoadingManager"),T=t("../../scenemanager/scripts/SceneManager"),I=t("../../Common/Data/GameData"),P=cc._decorator,N=P.ccclass,E=P.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_all=null,e.node_fish=null,e.node_bullet=null,e.node_bg=null,e.node_bg_catran=null,e.Spr_BG=[],e.node_desk=null,e.node_popup=null,e.node_jb=null,e.LoadCatran=null,e.player_prefab=null,e.bullet_prefab=null,e.win_prefab=null,e.money_prefab=null,e.rate_popup_prefab=null,e.listjb_popup_prefab=null,e.notification=null,e.bg_menu=null,e.node_arrow=null,e.popup_money=null,e.notifi=null,e.font_bitmap=null,e.icon_jb=null,e.particle=null,e.shoot_audio=[],e.gold_audio=null,e.sos_audio=null,e.bg_audio=null,e.Audio_Win=null,e.Audio_Click=null,e.Audio_BigWin=null,e.Audio_MegaWin=null,e.Audio_Jackpot=null,e.Audio_Jackpot_cm=null,e.Audio_Catran_cm=null,e.Audio_noti=null,e.btn_auto=null,e.btn_lock_jackpot=null,e.btn_lock=null,e.lb_notification=null,e.node_noti=null,e.popup_event=null,e.fish_manager=null,e.is_count=!1,e.people=85,e.is_sound=!0,e.main_user=null,e.main_player=null,e.isLoadCatran=!1,e.is_touch=!1,e.touch_scene=cc.Vec2.ZERO,e.is_logined=!1,e.delta_time=0,e.delta_shoot=0,e.can_shoot=!0,e.id_sound_Noti=0,e.popup_not_money=null,e.popup_e=null,e.list_bullet=[],e.jackot_effect=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.fish_manager=this.node.getComponent(c.default),cc.director.getCollisionManager().enabled=!0,this.node_all.on(cc.Node.EventType.TOUCH_START,this.onTouchBegin.bind(this),this),this.node_all.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd.bind(this),this),this.node_all.on(cc.Node.EventType.TOUCH_MOVE,function(e){var n=e.getLocation();(n.x>1425||n.x<175||n.y>795||n.y<115)&&t.onTouchEnd()}),this.playBGMusic(),this.icon_jb.getComponent(b.default).addTouchMove(),r.default.getInstance().is_local&&a.default.getInstance().connect(),a.default.getInstance().onUpdateFish=this.onUpdateFish.bind(this),a.default.getInstance().onRemoveFish=this.onRemoveFish.bind(this),a.default.getInstance().onConnectMainPlayer=this.onMainPlayer.bind(this),a.default.getInstance().onOnlineUser=this.onOnlineUser.bind(this),a.default.getInstance().onUserFire=this.onUserFire.bind(this),a.default.getInstance().onFishDie=this.onFishDie.bind(this),a.default.getInstance().onLeaveUser=this.onLeaveUser.bind(this),a.default.getInstance().onPushJackpot=this.onPushJackpot.bind(this),a.default.getInstance().onNotification=this.onNotification.bind(this),a.default.getInstance().onSwithScense=this.SwithScense.bind(this),a.default.getInstance().onCatchJackpot=this.onCatchJackpot.bind(this),a.default.getInstance().onAddMoreMoney=this.onAddMoreMoney.bind(this),a.default.getInstance().onKickUser=this.onKickUser.bind(this),a.default.getInstance().onFailJoin=this.onFailJoin.bind(this),cc.game.pause=function(){r.default.getInstance().is_pause=!0},cc.game.resume=function(){r.default.getInstance().is_pause=!1};var e=f.WsHandler.getInstance().listJPAll.filter(function(t){return"j_banca"==t.name});e.length>0&&this.onPushJackpot(e[0].value.split(","))},e.prototype.start=function(){var t=this;if(a.default.getInstance().is_kick){switch(a.default.getInstance().kick_code){case r.ERROR_CODE.BALANCE_NOT_VALID:break;case r.ERROR_CODE.OTHER_DEVICE:var e=cc.instantiate(this.notifi);e.getComponent(v.default).setContent("B\u1ea1n ch\u01a1i tr\xean thi\u1ebft b\u1ecb kh\xe1c!"),e.getComponent(v.default).showDialog(3,!0,function(){t.popup_money.btn_done.interactable=!0}),this.node_popup.addChild(e);break;case r.ERROR_CODE.KICK:var n=cc.instantiate(this.notifi);n.getComponent(v.default).setContent("B\u1ea1n \u0111\xe3 b\u1ecb kick!"),n.getComponent(v.default).showDialog(3,!0,function(){t.popup_money.btn_done.interactable=!0}),this.node_popup.addChild(n)}this.onKickUser()}},e.prototype.onKickUser=function(){this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){C.default.getInstance().hide(),r.default.getInstance().setDefaut(),T.clientdev.SceneManager.Instance.LoadScene(_.GameConfigs.SceneName.Lobby,function(){}),cc.systemEvent.emit(g.default.EVENT_LOBBY.UPDATE_BALANCE,I.default.getInstance().UserData.balance)},this)))},e.prototype.onFailJoin=function(t){var e=this;null==this.popup_not_money&&t==r.ERROR_CODE.WALLET_ERROR&&(this.popup_not_money=cc.instantiate(this.notifi),this.popup_not_money.getComponent(v.default).setContent("Kh\xf4ng \u0111\u1ee7 ti\u1ec1n \u0111\u1ec3 \u0111\u1ed5i!"),this.popup_not_money.getComponent(v.default).showDialog(3,!0,function(){e.popup_not_money=null,e.popup_money.btn_done.interactable=!0}),this.node_popup.addChild(this.popup_not_money))},e.prototype.showMessageInBattle=function(t,e,n){void 0===e&&(e=3);var o=cc.instantiate(this.notifi);o.getComponent(v.default).setContent(t),o.getComponent(v.default).showDialog(e,!0,function(){n&&n()}),this.node_popup.addChild(o)},e.prototype.onDestroy=function(){this.fish_manager.removeAllFish(),a.default.getInstance().clearEventCallback(),cc.systemEvent.targetOff(this),cc.audioEngine.stopAll(),cc.log("onDestroy Ca: ")},e.prototype.onScreenShake=function(){this.node_bg.getComponent(h.default).shake(3)},e.prototype.SwithScense=function(t){var e=this;this.is_sound&&cc.audioEngine.playMusic(this.Audio_Catran_cm,!1);var n=t%4;this.node_bg_catran.getComponent(cc.Sprite).spriteFrame=this.Spr_BG[n],a.default.getInstance().is_LoadCatran=!0,this.fish_manager.removeFishScence(),this.LoadCatran.active=!0,this.LoadCatran.getComponent(cc.Animation).play(),this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){a.default.getInstance().is_LoadCatran=!1}),cc.delayTime(7),cc.callFunc(function(){e.node_bg.getComponent(cc.Sprite).spriteFrame=e.Spr_BG[n],e.LoadCatran.active=!1})))},e.prototype.onShowNotification=function(){},e.prototype.onRunNotification=function(t,e,n){var o="<color=#ffe982>Ch\xfac m\u1eebng </color>";o+="<color=#00ff3c>"+t+"</color> <color=#ffe982>b\u1eafn ch\u1ebft</color> ",o+="<color=#faea2d>"+e+"</color> <color=#ffe982>th\u1eafng</color> ",o+="<color=#faea2d>"+u.Utility.getInstance().add_commas(n)+"</color> <color=#faea2d></color> ",this.runNotification(o)},e.prototype.playBGMusic=function(){cc.audioEngine.playMusic(this.bg_audio,!0)},e.prototype.onBtnMenu=function(){this.is_sound&&cc.audioEngine.playEffect(this.Audio_Click,!1),this.bg_menu.active=!this.bg_menu.active},e.prototype.onBtnAuto=function(){this.is_sound&&cc.audioEngine.playEffect(this.Audio_Click,!1),r.default.getInstance().BATTLECONFIG.is_auto_shoot=!r.default.getInstance().BATTLECONFIG.is_auto_shoot,this.btn_auto.node.children[1].active=!r.default.getInstance().BATTLECONFIG.is_auto_shoot},e.prototype.onBtnLockFish=function(){this.is_sound&&cc.audioEngine.playEffect(this.Audio_Click,!1),r.default.getInstance().BATTLECONFIG.is_lock_fish=!r.default.getInstance().BATTLECONFIG.is_lock_fish,this.btn_lock.node.children[1].active=!r.default.getInstance().BATTLECONFIG.is_lock_fish},e.prototype.onBtnLockJackpot=function(){this.is_sound&&cc.audioEngine.playEffect(this.Audio_Click,!1),r.default.getInstance().BATTLECONFIG.is_lock_jackpot=!r.default.getInstance().BATTLECONFIG.is_lock_jackpot,this.btn_lock_jackpot.node.children[1].active=!r.default.getInstance().BATTLECONFIG.is_lock_jackpot},e.prototype.onBtnListJP=function(){this.is_sound&&cc.audioEngine.playEffect(this.Audio_Click,!1);var t=cc.instantiate(this.listjb_popup_prefab);this.node_popup.addChild(t,g.default.zOderGame.POP_UP)},e.prototype.onBtnEvent=function(){var t=this;null==this.popup_e&&(this.popup_e=cc.instantiate(this.popup_event),this.node_popup.addChild(this.popup_e,g.default.zOderGame.POP_UP),this.popup_e.getComponent(b.default).callback=function(){t.popup_e=null})},e.prototype.onBtnRate=function(){this.is_sound&&cc.audioEngine.playEffect(this.Audio_Click,!1);var t=cc.instantiate(this.rate_popup_prefab);this.node_popup.addChild(t,g.default.zOderGame.POP_UP)},e.prototype.onBtnQuit=function(){this.is_sound&&cc.audioEngine.playEffect(this.Audio_Click,!1),C.default.getInstance().show(),this.node_bullet.removeAllChildren(),this.node_fish.removeAllChildren(),f.WsHandler.getInstance().leaveGame(_.GameConfigs.WSGameName.Banca)},e.prototype.clickOnScene=function(){if(this.can_shoot&&this.is_logined){if(1==this.bg_menu.active&&(this.bg_menu.active=!1),this.notification.node.active&&this.notification.STATE==this.notification.TYPE.NON_ACTION)return this.is_count=!1,cc.audioEngine.stopEffect(this.id_sound_Noti),void this.notification.cancleEvent();null!=this.jackot_effect&&(this.jackot_effect.removeFromParent(!0),this.jackot_effect=null),r.default.getInstance().lock_fish_target=null,this.playerShoot()}},e.prototype.playerShoot=function(){var t=this.node_desk.children[this.main_user.desk_no-1],e=this.touch_scene,n=0;null!=r.default.getInstance().lock_fish_target&&(e=r.default.getInstance().lock_fish_target.node.position,n=r.default.getInstance().lock_fish_target.fish_id);var o=u.Utility.getInstance().angle2Vector(t.position,e,this.main_user.desk_no>2?-1:1);this.delta_shoot=0,this.can_shoot=!1,this.delta_time=0;var i=cc.misc.radiansToDegrees(o);this.main_player.shoot(this.main_user.desk_no>2?i+90:i-90,n)},e.prototype.runNotification=function(t){var e=this;this.lb_notification.node.stopAllActions(),this.node_noti.active?this.lb_notification.string.length>25&&(this.lb_notification.string+="                              "+t):(this.lb_notification.node.setPosition(585,-20),this.lb_notification.string=t),this.node_noti.active=!0,this.lb_notification.node.children[0].width=this.lb_notification.node.width,this.lb_notification.node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(15,-585-this.lb_notification.node.width,-20),cc.callFunc(function(){e.lb_notification.node.setPosition(585,-20),e.node_noti.active=!1}))))},e.prototype.winEffectAction=function(t,e,n,o){void 0===n&&(n=""),void 0===o&&(o=0);var i="",a=0!=o?o:0,c=cc.instantiate(this.win_prefab),s=c.getComponent(p.default);switch(t){case 1:i="thanglon",a=2;break;case 2:i="thangslon",a=4;break;case 4:i="daphu",this.jackot_effect=c;break;case 5:i="thanglon",a=.8}s.init(i,e,a,n),c.x=cc.winSize.width/2-160,this.node_fish.addChild(c,100)},e.prototype.update=function(t){var e=this;if(!r.default.getInstance().BATTLECONFIG.isError&&(this.delta_time>r.default.getInstance().BATTLECONFIG.delta_no_action?(this.delta_time=0,this.is_count=!0,this.is_sound&&(this.id_sound_Noti=cc.audioEngine.playEffect(this.Audio_noti,!0)),this.notification.showNotification("",this.notification.TYPE.NON_ACTION,!0,function(){e.onBtnQuit()})):this.delta_time+=t,this.delta_shoot<r.default.getInstance().BATTLECONFIG.delta_shoot?this.delta_shoot+=t:this.can_shoot=!0,this.is_logined)){if(this.is_touch&&this.clickOnScene(),r.default.getInstance().BATTLECONFIG.is_auto_shoot&&null==r.default.getInstance().lock_fish_target){if(!this.can_shoot)return;this.playerShoot()}if(r.default.getInstance().BATTLECONFIG.is_lock_fish){if(null==r.default.getInstance().lock_fish_target)return;if(!this.can_shoot)return;this.playerShoot()}if(r.default.getInstance().BATTLECONFIG.is_lock_jackpot){if(null==r.default.getInstance().lock_fish_target)return;if(!this.can_shoot)return;this.playerShoot()}}},e.prototype.onBtnSound=function(t,e){"ON"==e&&(this.is_sound&&cc.audioEngine.playEffect(this.Audio_Click,!1),this.bg_menu.getChildByName("soundon").active=!1,this.bg_menu.getChildByName("soundoff").active=!0,this.is_sound=!1,r.default.getInstance().BATTLECONFIG.is_Sound=!1,cc.audioEngine.pauseAll()),"OFF"==e&&(this.is_sound&&cc.audioEngine.playEffect(this.Audio_Click,!1),this.bg_menu.getChildByName("soundon").active=!0,this.bg_menu.getChildByName("soundoff").active=!1,this.is_sound=!0,r.default.getInstance().BATTLECONFIG.is_Sound=!0,cc.audioEngine.playMusic(this.bg_audio,!0))},e.prototype.onUpdateFish=function(t){this.fish_manager.updateNewPostitionFish(t)},e.prototype.onRemoveFish=function(t){this.fish_manager.removePositionFish(t)},e.prototype.onMainPlayer=function(t){this.main_user=t,this.popup_money.node.active=!1,this.popup_money.is_login=!1},e.prototype.onOnlineUser=function(t){var e=this;t.forEach(function(t){t.uid===e.main_user.uid?e.createMainPlayer(t):e.createDeskPlayer(t)})},e.prototype.getBullet=function(){var t=this.list_bullet.filter(function(t){return 0==t.node.active});return t.length>0?t[0]:null},e.prototype.onUserFire=function(t){var e=this.node_desk.children[t.desk_no-1].children[0];if(null!=e&&void 0!=e){var n=this.getBullet();if(null==n)n=cc.instantiate(this.bullet_prefab).getComponent(s.default);var o=t.lock_fish_id>0?this.fish_manager.getFishById(t.lock_fish_id):null,i=e.getComponent(l.default);i.aminShoot(t.desk_no-1,t.angle,t.bullet_kind-1),i.setBalance(t.balance,this.main_user.desk_no==t.desk_no),i.setGoldBullet(t.bullet_kind-1),n.node.position=this.node_bullet.convertToNodeSpace(i.nodeBullet.convertToWorldSpace(cc.Vec2.ZERO)),n.init(t,o,t.desk_no===this.main_user.desk_no),null==n.node.getParent()&&(this.list_bullet.push(n),this.node_bullet.addChild(n.node,r.ZORDERGAME.BULLET)),this.is_sound&&cc.audioEngine.playEffect(this.shoot_audio[t.bullet_kind-1],!1)}},e.prototype.onFishDie=function(t){var e=this.fish_manager.getFishById(t.fish_id);e.is_die=!0;var n=this.node_desk.children[t.desk_no-1];if(this.createMoneyEffect(t.win,e.node.position,n.position,e.fish_kind),this.fish_manager.onFishDie(t.fish_id),this.node_desk.children[t.desk_no-1].children[0].getComponent(l.default).setBalance(t.balance),t.win<30*t.amount&&this.is_sound&&cc.audioEngine.playEffect(this.Audio_Win,!1),t.win>29*t.amount&&t.win<100*t.amount&&t.desk_no==this.main_user.desk_no&&(t.win==50*t.amount?this.winEffectAction(5,t.win):this.winEffectAction(1,t.win),this.is_sound&&cc.audioEngine.playEffect(this.Audio_BigWin,!1)),t.win>99*t.amount){t.desk_no==this.main_user.desk_no&&(this.winEffectAction(2,t.win),this.is_sound&&cc.audioEngine.playEffect(this.Audio_MegaWin,!1));var o=a.default.getInstance().config_fish[e.fish_kind].name;this.onRunNotification(n.children[0].getComponent(l.default).lbUserName.string,o,t.win)}},e.prototype.createMoneyEffect=function(t,e,n,o){var i=this;13==o&&(this.particle.node.active=!0,this.particle.resetSystem(),this.particle.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(function(){i.particle.node.active=!1}))));var a=new cc.Node;a.position=e;var c,s=a.addComponent(d.default);s.fontSize=18,s.font=this.font_bitmap,s.runNumberFish(t,1),this.node_fish.addChild(a,999),a.runAction(cc.sequence(cc.delayTime(1.4),cc.spawn(cc.moveTo(.5,n),cc.scaleTo(.5,.2)),cc.removeSelf(!0))),o<4&&(c=3),o>3&&o<8&&(c=6),o>7&&(c=9);for(var r=function(t){var o=cc.instantiate(l.money_prefab);o.scale=.2,o.getComponent(cc.Animation).play("Gold").speed=2,o.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){o.getComponent(cc.Animation).play("Gold").speed=5},cc.delayTime(.2+.1*t),cc.callFunc(function(){o.getComponent(cc.Animation).play("Gold").speed=10})))),o.x=e.x+u.Utility.getInstance().randomInt(-50,50),o.y=e.y+u.Utility.getInstance().randomInt(-50,50),l.node_fish.addChild(o);var a=.08,c=.92*(.92*e.x+a*e.x)+a*(.92*e.x+a*n.x),s=.92*(.92*e.y+a*n.y)+a*(.92*n.y+a*n.y),r=[cc.v2(o.x,o.y),cc.v2(o.x,s),cc.v2(c,s)],p=[e,cc.v2(e.x,n.y),n];o.runAction(cc.sequence(cc.delayTime(1.4-.5),cc.bezierTo(.5,r),cc.delayTime(.1*t),cc.bezierTo(.5,p),cc.callFunc(function(){i.is_sound&&cc.audioEngine.playEffect(i.gold_audio,!1)},l),cc.removeSelf(!0)))},l=this,p=0;p<c;p++)r(p)},e.prototype.createMainPlayer=function(t){if(null==this.main_player){this.is_logined=!0;var e=cc.instantiate(this.player_prefab);this.main_player=e.getComponent(l.default),this.main_user.desk_no=t.desk_no,e.getComponent(l.default).setUserInfo(t,!0),e.getComponent(l.default).battleControl=this,e.name="MAIN_PLAYER",t.desk_no>2&&(e.angle=-180),this.node_desk.children[t.desk_no-1].addChild(e,r.ZORDERGAME.PLAYER),this.touch_scene.x=this.node_desk.children[t.desk_no-1].position.x,this.touch_scene.y=cc.winSize.height/2}},e.prototype.createDeskPlayer=function(t){var e=cc.instantiate(this.player_prefab);e.name="OTHER_PLAYER",e.getComponent(l.default).setUserInfo(t,!1),t.desk_no>2&&(e.angle=-180),0!=this.node_desk.children[t.desk_no-1].children.length&&this.node_desk.children[t.desk_no-1].removeAllChildren(),this.node_desk.children[t.desk_no-1].addChild(e,r.ZORDERGAME.PLAYER)},e.prototype.onTouchBegin=function(t){this.is_touch=!0,this.touch_scene=this.node_all.convertToNodeSpace(t.touch.getLocation()),r.default.getInstance().lock_fish_target=null},e.prototype.onTouchEnd=function(){this.is_touch=!1},e.prototype.onLeaveUser=function(t){this.node_desk.children[t-1].removeAllChildren(!0)},e.prototype.onPushJackpot=function(t){for(var e=0;e<5;e++)this.node_jb.children[e+1].getComponent(d.default).runNumber(t[e],!0,3)},e.prototype.onCatchJackpot=function(t){var e=this.fish_manager.getFishById(t.fish_id),n=this.node_desk.children[t.desk_no-1];e.is_die=!0,this.createMoneyEffect(t.win,e.node.position,n.position,e.fish_kind),this.fish_manager.onFishDie(t.fish_id),n.children[0].getComponent(l.default).setBalance(t.balance);var o=a.default.getInstance().config_fish[e.fish_kind].name;this.onRunNotification(n.children[0].getComponent(l.default).lbUserName.string,o,t.win);var i=7;this.main_user.desk_no==t.desk_no&&(i=9999999),this.winEffectAction(4,t.win,n.children[0].getComponent(l.default).lbUserName.string,i),this.is_sound&&cc.audioEngine.playEffect(this.Audio_Jackpot,!1),r.default.getInstance().BATTLECONFIG.is_auto_shoot&&this.main_user.desk_no==t.desk_no&&this.onBtnAuto()},e.prototype.onAddMoreMoney=function(t){var e=this;null==this.popup_not_money&&(t.code>=0?(this.main_player.setBalance(t.balance),this.popup_money.node.active=!1):t.code==r.ERROR_CODE.WALLET_ERROR&&(this.popup_not_money=cc.instantiate(this.notifi),this.popup_not_money.getComponent(v.default).setContent("Kh\xf4ng \u0111\u1ee7 ti\u1ec1n \u0111\u1ec3 \u0111\u1ed5i!"),this.popup_not_money.getComponent(v.default).showDialog(3,!0,function(){e.popup_money.check_box_money.uncheck(),e.popup_money.btn_done.interactable=!0,e.popup_money.node.active=!0,e.popup_not_money=null}),this.node_popup.addChild(this.popup_not_money)))},e.prototype.onNotification=function(t){var e=this;switch(this.notification.getComponent(m.default).control=this,t.code){case 1:this.is_count||(this.notification.showNotification("",this.notification.TYPE.JACKPOT,!1),this.is_sound&&cc.audioEngine.playEffect(this.Audio_Jackpot_cm,!1));break;case 2:case r.ERROR_CODE.BALANCE_NOT_VALID:break;case r.ERROR_CODE.OTHER_DEVICE:this.notification.showNotification("B\u1ea1n ch\u01a1i tr\xean thi\u1ebft b\u1ecb kh\xe1c",this.notification.TYPE.KICK,!1,function(){});break;case r.ERROR_CODE.KICK:this.showNoti("B\u1ea1n b\u1ecb k\xedch kh\u1ecfi ph\xf2ng!"),this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){e.onBtnQuit()})));break;case r.ERROR_CODE.REPAIRING_SYSTEM:this.notification.showNotification("H\u1ec7 Th\u1ed1ng B\u1ea3o Tr\xec",this.notification.TYPE.KICK,!1,function(){});break;case r.ERROR_CODE.NOT_ENOUGHT_BALANCE:case r.ERROR_CODE.NOT_LOGIN:break;case r.ERROR_CODE.REQUEST_ADD_MONEY:this.popup_money.check_box_money.isChecked?a.default.getInstance().processBuyMoney(u.Utility.getInstance().moneytoNumber(this.popup_money.edit_box_money.string)):this.popup_money.node.active=!0}},e.prototype.showNoti=function(t){var e=this,n=cc.instantiate(this.notifi);n.getComponent(v.default).setContent(t),n.getComponent(v.default).showDialog(3,!0,function(){e.popup_money.btn_done.interactable=!0});var o=cc.winSize;n.setPosition(o.width/2,o.height/2),cc.director.getScene().addChild(n,_.GameConfigs.zOderGame.NOTI)},i([E(cc.Node)],e.prototype,"node_all",void 0),i([E(cc.Node)],e.prototype,"node_fish",void 0),i([E(cc.Node)],e.prototype,"node_bullet",void 0),i([E(cc.Node)],e.prototype,"node_bg",void 0),i([E(cc.Node)],e.prototype,"node_bg_catran",void 0),i([E(cc.SpriteFrame)],e.prototype,"Spr_BG",void 0),i([E(cc.Node)],e.prototype,"node_desk",void 0),i([E(cc.Node)],e.prototype,"node_popup",void 0),i([E(cc.Node)],e.prototype,"node_jb",void 0),i([E(cc.Node)],e.prototype,"LoadCatran",void 0),i([E(cc.Prefab)],e.prototype,"player_prefab",void 0),i([E(cc.Prefab)],e.prototype,"bullet_prefab",void 0),i([E(cc.Prefab)],e.prototype,"win_prefab",void 0),i([E(cc.Prefab)],e.prototype,"money_prefab",void 0),i([E(cc.Prefab)],e.prototype,"rate_popup_prefab",void 0),i([E(cc.Prefab)],e.prototype,"listjb_popup_prefab",void 0),i([E(m.default)],e.prototype,"notification",void 0),i([E(cc.Node)],e.prototype,"bg_menu",void 0),i([E(cc.Node)],e.prototype,"node_arrow",void 0),i([E(y.default)],e.prototype,"popup_money",void 0),i([E(cc.Prefab)],e.prototype,"notifi",void 0),i([E(cc.Font)],e.prototype,"font_bitmap",void 0),i([E(cc.Node)],e.prototype,"icon_jb",void 0),i([E(cc.ParticleSystem)],e.prototype,"particle",void 0),i([E([cc.AudioClip])],e.prototype,"shoot_audio",void 0),i([E(cc.AudioClip)],e.prototype,"gold_audio",void 0),i([E(cc.AudioClip)],e.prototype,"sos_audio",void 0),i([E(cc.AudioClip)],e.prototype,"bg_audio",void 0),i([E(cc.AudioClip)],e.prototype,"Audio_Win",void 0),i([E(cc.AudioClip)],e.prototype,"Audio_Click",void 0),i([E(cc.AudioClip)],e.prototype,"Audio_BigWin",void 0),i([E(cc.AudioClip)],e.prototype,"Audio_MegaWin",void 0),i([E(cc.AudioClip)],e.prototype,"Audio_Jackpot",void 0),i([E(cc.AudioClip)],e.prototype,"Audio_Jackpot_cm",void 0),i([E(cc.AudioClip)],e.prototype,"Audio_Catran_cm",void 0),i([E(cc.AudioClip)],e.prototype,"Audio_noti",void 0),i([E(cc.Button)],e.prototype,"btn_auto",void 0),i([E(cc.Button)],e.prototype,"btn_lock_jackpot",void 0),i([E(cc.Button)],e.prototype,"btn_lock",void 0),i([E(cc.RichText)],e.prototype,"lb_notification",void 0),i([E(cc.Node)],e.prototype,"node_noti",void 0),i([E(cc.Prefab)],e.prototype,"popup_event",void 0),e=i([N],e)}(cc.Component);n.default=S,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Network/WsHandler":"WsHandler","../../Common/UI/Notification":"Notification","../../Common/UI/NumberRun":"NumberRun","../../Common/UI/PopupInterface":"PopupInterface","../../Common/Utilities/Shake":"Shake","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","../../scenemanager/scripts/SceneManager":"SceneManager","./BanCaData":"BanCaData","./BanCaHandler":"BanCaHandler","./BulletControl":"BulletControl","./FishManager":"FishManager","./NotificationShow":"NotificationShow","./PlayerControl":"PlayerControl","./PopupMoney":"PopupMoney","./WinEffect":"WinEffect"}],BulletControl:[function(t,e,n){"use strict";cc._RF.push(e,"7d927hzCOlF8IhwkPTTZJ8S","BulletControl");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./FishObject"),c=t("./BanCaHandler"),s=t("../../Common/Utilities/Utility"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprFrame=[],e.goldWin=[],e.spr=null,e.degree=0,e.winsize=cc.size(1280,720),e.dirction=[[1,1],[1,-1],[-1,1]],e._dir=0,e.bullet=null,e.delta_time=0,e.isRequire=!1,e.fish=null,e.is_hit=!1,e.delta_box=20,e.is_main_require=!1,e.node_parent=null,e}return o(e,t),e.prototype.init=function(t,e,n){void 0===n&&(n=!1),this.node.angle=0,this.degree=0,this._dir=0,this.fish=e,this.bullet=t;var o=c.default.getInstance().config_bullet[this.bullet.bullet_kind-1];this.degree=t.angle,this.node.angle=-this.degree,this.spr.spriteFrame=this.sprFrame[t.bullet_kind-1],this.node.getComponent(cc.BoxCollider).size=cc.size(o.radius,o.radius),this.is_main_require=n,this.node.active=!0},e.prototype.onLoad=function(){this.node_parent=this.node.getParent()},e.prototype.onEnable=function(){this.is_hit=!1,this.delta_time=0},e.prototype.onCollisionEnter=function(t,e){!this.is_hit&&this.node.active&&(null==this.fish?this.fish=t.getComponent(a.default):this.fish.is_die&&(this.fish=t.getComponent(a.default)),null!=this.fish&&!this.fish.is_die&&null!=this.fish.node&&this.fish.node.active&&this.fish.fish_id===t.getComponent(a.default).fish_id&&this.onHit(this.fish))},e.prototype.onHit=function(t){this.is_hit||t.is_die||(this.fish=null,this.node.position.x=-3e3,this.node.position.y=-3e3,this.node.angle=0,this.degree=0,this._dir=0,t.actionOnHit(),this.is_main_require&&c.default.getInstance().processHit(t.fish_id,this.bullet),this.node.active=!1)},e.prototype.onDisable=function(){this.is_hit=!0,this.node.angle=0,this.degree=0,this._dir=0},e.prototype.update=function(t){if(!this.is_hit&&this.node.active){if(this.delta_time>3e3?(this.delta_time=0,this.fish=null):this.delta_time+=t,null!=this.fish&&null!=this.fish.node&&!this.fish.is_die&&this.fish.node.active){if(!this.fish.is_die)if(this.fish.node.position.x<0||this.fish.node.position.y<0||this.fish.node.position.y>this.winsize.height||this.fish.node.position.x>this.winsize.width)this.fish=null;else{var e=s.Utility.getInstance().angle2Vector(this.fish.node.position,this.node.position);this.degree=90-cc.misc.radiansToDegrees(e),this.node.rotation=this.bullet.desk_no>2?180-this.degree:this.degree}if(this.fish&&this.node)if(null!=this.fish&&void 0!=this.fish&&!this.fish.is_die)s.Utility.getInstance().distanceTwoPoint(this.fish.node.position,this.node.position)<20&&this.onHit(this.fish);this.degree=this.node.rotation}else this.fish=null;var n=this.node_parent.convertToNodeSpace(this.node.convertToWorldSpace(cc.Vec2.ZERO));(n.x<=0||n.x>=this.winsize.width)&&(this.node.rotation=-this.node.rotation,this.dirction[0][0]*=this.dirction[this._dir][0],this.dirction[0][1]*=this.dirction[this._dir][1],this._dir=2),(n.y<=0||n.y>=this.winsize.height)&&(this.node.rotation=180-this.node.rotation,this.dirction[0][0]*=this.dirction[this._dir][0],this.dirction[0][1]*=this.dirction[this._dir][1],this._dir=1);var o=cc.misc.degreesToRadians(this.degree),i=c.default.getInstance().config_bullet[this.bullet.bullet_kind-1].speed*Math.sin(o)/1280*this.winsize.width,a=c.default.getInstance().config_bullet[this.bullet.bullet_kind-1].speed*Math.cos(o)/720*this.winsize.height;this.node.x+=i*this.dirction[this._dir][0]*this.dirction[0][0],this.node.y+=a*this.dirction[this._dir][1]*this.dirction[0][1]}},e.prototype.onDestroy=function(){},i([u(cc.SpriteFrame)],e.prototype,"sprFrame",void 0),i([u(cc.Prefab)],e.prototype,"goldWin",void 0),i([u(cc.Sprite)],e.prototype,"spr",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","./BanCaHandler":"BanCaHandler","./FishObject":"FishObject"}],BupgGuide:[function(t,e,n){"use strict";cc._RF.push(e,"e7c05cY+G5GEZRl5DCn30uU","BupgGuide");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Data/GameConfigs"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.jackpot=null,e.roomId=1,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(c.GameConfigs.JPName.Gold,this.onJackpot.bind(this),this)},e.prototype.onJackpot=function(t){this.jackpot.money=t[this.roomId-1]},i([l(a.default)],e.prototype,"jackpot",void 0),e=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/UI/NumberRun":"NumberRun"}],BupgHandler:[function(t,e,n){"use strict";cc._RF.push(e,"564a6YxnVtEKqBnA9VI5o0y","BupgHandler");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Common/Network/WsHandler"),a=t("../../Common/Data/GameConfigs"),c=t("../../Common/Data/Constants"),s=cc._decorator,r=s.ccclass,l=(s.property,function(){function t(){this.joinRoom={eventRank:0,count:0,x2_event:!1},this.spinData={spin_id:47078,room_id:2,slot_string:"8,7,8,7,8,9,4,7,9,0,0,3,0,0,5",prize_string:"11,7,300",bet_value:1e3,is_jackpot:0,total_prize:300,balance:102066949,max_count:0,current_rank:0,is_x2_count:0,exec:0},this.room_id=1,this.listRank=[],this.listHistory=[],this.listJackpot=[],this.listLine=this.spinData.prize_string.split(",")}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e,this.Instance.init()),this.Instance},t.prototype.connect=function(){i.WsHandler.getInstance().joinGame(a.GameConfigs.WSGameName.ThienThu)},t.prototype.close=function(){i.WsHandler.getInstance().leaveGame(a.GameConfigs.WSGameName.ThienThu)},t.prototype.init=function(){cc.systemEvent.on(a.GameConfigs.WSGameName.ThienThu,this.onMessage.bind(this),this)},t.prototype.onMessage=function(t){try{var e=null,n=null;null!=t&&t.hasOwnProperty("cmd")&&(e=t.cmd,n=t.data),null!=n&&("PLAY_SPIN"==e&&this.parsePlaySpin(n),"GET_HISTORY"==e&&this.parseHistory(n),"GET_TOP_WIN"==e&&this.parseTopWin(n),"ERROR"==e&&cc.systemEvent.emit(c.default.EVENT_GOLD.ERROR,n))}catch(t){console.error(t)}},t.prototype.parsePlaySpin=function(t){this.spinData.spin_id=t.spin_id,this.spinData.room_id=t.room_id,this.spinData.slot_string=t.slot_string,this.spinData.prize_string=t.prize_string,this.spinData.bet_value=t.bet_value,this.spinData.is_jackpot=t.is_jackpot,this.spinData.total_prize=t.total_prize,this.spinData.balance=t.balance,this.spinData.max_count=t.max_count,this.spinData.current_rank=t.current_rank,this.spinData.is_x2_count=t.is_x2_count,this.spinData.exec=t.exec,this.listLine=[];var e=this.spinData.prize_string.split(";");if(e.length>0)for(var n in e){var o=e[n].split(",");this.listLine.push(o[0])}cc.systemEvent.emit(c.default.EVENT_GOLD.SPIN)},t.prototype.parseHistory=function(t){this.listHistory=t,cc.systemEvent.emit(c.default.EVENT_GOLD.HISTORY)},t.prototype.parseTopWin=function(t){this.listRank=t,cc.systemEvent.emit(c.default.EVENT_GOLD.RANK)},t.prototype.processSpin=function(t){var e=JSON.stringify({cmd:"PLAY_SPIN",data:{room_id:t}});i.WsHandler.getInstance().playGame(a.GameConfigs.WSGameName.ThienThu,e)},t.prototype.processRank=function(){var t=JSON.stringify({cmd:"GET_TOP_WIN",data:""});i.WsHandler.getInstance().playGame(a.GameConfigs.WSGameName.ThienThu,t)},t.prototype.processHistory=function(){var t=JSON.stringify({cmd:"GET_HISTORY",data:""});i.WsHandler.getInstance().playGame(a.GameConfigs.WSGameName.ThienThu,t)},t.Instance=null,t=e=o([r],t)}());n.BupgHandler=l,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/WsHandler":"WsHandler"}],BupgHistory:[function(t,e,n){"use strict";cc._RF.push(e,"0227ah+x29LFa/tOxMeT84Q","BupgHistory");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utilities/Utility"),c=t("./BupgHandler"),s=t("../../Common/Data/Constants"),r=t("../../Lobby/Scripts/LoadingManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabCellHistory=null,e.content=null,e}return o(e,t),e.prototype.onLoad=function(){r.default.getInstance().show();var t=setTimeout(function(){c.BupgHandler.getInstance().processHistory(),clearTimeout(t)},500);cc.systemEvent.on(s.default.EVENT_GOLD.HISTORY,this.onGetHistory.bind(this),this)},e.prototype.onGetHistory=function(){var t=c.BupgHandler.getInstance().listHistory;for(var e in t){var n=cc.instantiate(this.prefabCellHistory);parseInt(e)%2==0?n.getChildByName("layout").active=!1:n.getChildByName("layout1").active=!1,n.getChildByName("Session").getComponent(cc.Label).string=t[e].spin_id,n.getChildByName("Time").getComponent(cc.Label).string=t[e].create_time,n.getChildByName("Room").getComponent(cc.Label).string=a.Utility.getInstance().numberToCurrency(this.parseRoom(t[e].room_id)),n.getChildByName("Bet").getComponent(cc.Label).string=a.Utility.getInstance().numberToCurrency(t[e].bet_value),n.getChildByName("Win").getComponent(cc.Label).string=a.Utility.getInstance().numberToCurrency(t[e].win_prize),n.setPosition(0,-25-43*parseInt(e)),this.content.addChild(n)}this.content.height=43*t.length,r.default.getInstance().hide()},e.prototype.parseRoom=function(t){switch(t){case"1":return 100;case"2":return 1e3;case"3":return 1e4}},i([p(cc.Prefab)],e.prototype,"prefabCellHistory",void 0),i([p(cc.Node)],e.prototype,"content",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./BupgHandler":"BupgHandler"}],BupgRank:[function(t,e,n){"use strict";cc._RF.push(e,"eb0921epw1C27N7gm8LqERl","BupgRank");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utilities/Utility"),c=t("./BupgHandler"),s=t("../../Common/Data/LabelHelperConfigs"),r=t("../../Common/Data/GameData"),l=t("../../Common/Data/Constants"),u=t("../../Lobby/Scripts/LoadingManager"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabCellRank=null,e.content=null,e.scv=null,e}return o(e,t),e.prototype.onLoad=function(){u.default.getInstance().show();var t=setTimeout(function(){c.BupgHandler.getInstance().processRank(),clearTimeout(t)},500);cc.systemEvent.on(l.default.EVENT_GOLD.RANK,this.onGetRank.bind(this),this)},e.prototype.onGetRank=function(){var t=c.BupgHandler.getInstance().listRank;for(var e in t){var n=cc.instantiate(this.prefabCellRank);parseInt(e)%2==0?n.getChildByName("layout").active=!1:n.getChildByName("layout1").active=!1,n.getChildByName("Time").getComponent(cc.Label).string=t[e].create_time,n.getChildByName("NickName").getComponent(cc.Label).string=t[e].nick_name,n.getChildByName("Room").getComponent(cc.Label).string=this.roomInfo(t[e].room_id),n.getChildByName("Detail").getComponent(cc.Label).string=this.winInfo(t[e].is_jackpot),n.getChildByName("Win").getComponent(cc.Label).string=a.Utility.getInstance().numberToCurrency(t[e].win_prize),n.setPosition(0,-25-43*parseInt(e)),this.content.addChild(n)}this.content.height=43*t.length,this.scv.scrollToTop(.1),u.default.getInstance().hide()},e.prototype.winInfo=function(t){var e=s.TextData[r.default.getInstance().UserData.textPackage];return 0==t?e.bigwin:e.jackpot},e.prototype.roomInfo=function(t){return 1==t?"100":2==t?"1.000":3==t?"10.000":void 0},i([h(cc.Prefab)],e.prototype,"prefabCellRank",void 0),i([h(cc.Node)],e.prototype,"content",void 0),i([h(cc.ScrollView)],e.prototype,"scv",void 0),e=i([d],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./BupgHandler":"BupgHandler"}],BupgScroll:[function(t,e,n){"use strict";cc._RF.push(e,"fdd30kBYClBe7axEc6a3d0S","BupgScroll");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./BupgHandler"),c=t("../../Common/Utilities/Utility"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollContent=null,e.scrollViewItem=null,e.spaceBetweenItem=0,e.scrollIndex=0,e.frameItem=[],e.timeDelaySpin=0,e.isScrolling=!1,e.list_item_rd=[0,6,4,1,7,8],e.list_xxx_rd=[2,3,5,10,0],e}return o(e,t),e.prototype.onLoad=function(){this.init()},e.prototype.init=function(){this.timeDelaySpin=.25*this.scrollIndex,this.scrollContent.height=30*this.spaceBetweenItem;for(var t=0;t<30;t++){var e=new cc.Node,n=e.addComponent(cc.Sprite);e.name=t+"",e.y=-50-this.spaceBetweenItem*t;var o=0;o=this.scrollIndex<3?this.list_item_rd[c.Utility.getInstance().randomInt(0,5)]:this.list_xxx_rd[c.Utility.getInstance().randomInt(0,4)];var i=this.frameItem[o];n.spriteFrame=i,e.setScale(.9),this.scrollContent.addChild(e)}this.scrollViewItem.node.on("scroll-ended",this.eventScroll,this)},e.prototype.onEnable=function(){this.isScrolling&&(this.scrollContent.stopAllActions(),this.eventScroll())},e.prototype.setSpinFast=function(t){this.timeDelaySpin=t?0:.3*this.scrollIndex},e.prototype.ScrollItem=function(t){this.isScrolling=!0;var e=cc.sequence(cc.delayTime(this.timeDelaySpin),cc.moveBy(.1,cc.v2(0,15)));this.scrollContent.runAction(cc.sequence(e,cc.callFunc(function(){this.scrollViewItem.scrollToBottom(t,!1)},this)))},e.prototype.eventScroll=function(){null!=this.callBackEnd&&this.callBackEnd(),this.resetScroll(),this.scrollContent.runAction(cc.sequence(cc.moveBy(.1,cc.v2(0,15)),cc.moveBy(.1,cc.v2(0,-15))))},e.prototype.resetScroll=function(){this.isScrolling=!1,3==this.scrollIndex||4==this.scrollIndex?this.scrollContent.y=142:this.scrollContent.y=145;var t=a.BupgHandler.getInstance().spinData.slot_string;t=t.split(",");var e={0:[0,1,2],1:[3,4,5],2:[6,7,8],3:[9,10,11],4:[12,13,14]}[this.scrollIndex],n=[];n.push(t[e[0]]),n.push(t[e[1]]),n.push(t[e[2]]);for(var o=0;o<3;o++){this.scrollContent.getChildByName(o.toString()).getComponent(cc.Sprite).spriteFrame=this.frameItem[n[o]]}},i([l(cc.Node)],e.prototype,"scrollContent",void 0),i([l(cc.ScrollView)],e.prototype,"scrollViewItem",void 0),i([l(cc.Integer)],e.prototype,"spaceBetweenItem",void 0),i([l(cc.Integer)],e.prototype,"scrollIndex",void 0),i([l(cc.SpriteFrame)],e.prototype,"frameItem",void 0),e=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","./BupgHandler":"BupgHandler"}],Bupg:[function(t,e,n){"use strict";cc._RF.push(e,"37bbdAu9O9AD7tRNJ7cb9Vz","Bupg");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/UI/PopupInterface"),s=t("./BupgHandler"),r=t("../../Common/Utilities/Utility"),l=t("../../Common/Data/GameData"),u=t("../../Common/Data/GameConfigs"),p=t("../../Common/Data/Constants"),d=t("../../Common/UI/Notification"),h=t("../../Common/Data/LabelHelperConfigs"),f=t("./BupgGuide"),_=cc._decorator,g=_.ccclass,m=_.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Type_Btn={STOP_AUTO:0,SPEDD:1,STOP_SPEED:2,SPIN:3},e.lbSession=null,e.list_btn=[],e.nodeLine=null,e.labelMoneyWin=null,e.jackpotLabel=null,e.nodeFX=null,e.prefabWin=null,e.prefabBigWin=null,e.prefabMegaWin=null,e.prefabJackpotWin=null,e.prefabHistory=null,e.prefabRank=null,e.prefabGuide=null,e.notiPrefab=null,e.listScrollView=[],e.lbRoom=null,e.btnAuto=null,e.btnClose=null,e.Id_Room={R100:1,R1000:2,R10000:3},e.Room_Value={1:100,2:1e3,3:1e4},e.roomId=e.Id_Room.R100,e.Speed_Run={DEFAULT:.6,AUTO:.6,SPEED:.2},e.Type_Spin={DEFAULT:0,AUTO:1,SPEED:2,NONE:3},e.isSpin=e.Type_Spin.NONE,e.line_stt=0,e.intervalAuto=null,e.language=null,e.normalWin=!1,e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.language=h.TextData[l.default.getInstance().UserData.textPackage],this.registerAllEvent(),this.node.getComponent(c.default).addTouchMove(),this.node.on(cc.Node.EventType.TOUCH_START,function(){t.node.zIndex=u.GameConfigs.zOderGame.MINIGAME++}).bind(this),this.renderRoom()},e.prototype.init=function(){var t=this;this.node.getComponent(c.default).addTouchMove(),this.node.on(cc.Node.EventType.TOUCH_START,function(){t.node.zIndex=u.GameConfigs.zOderGame.MINIGAME++}).bind(this)},e.prototype.onDestroy=function(){s.BupgHandler.getInstance().close(),cc.systemEvent.targetOff(this)},e.prototype.registerAllEvent=function(){cc.systemEvent.on(p.default.EVENT_GOLD.SPIN,this.onPlaySpin.bind(this),this),cc.systemEvent.on(p.default.EVENT_GOLD.ERROR,this.onError.bind(this),this),cc.systemEvent.on(u.GameConfigs.JPName.ThienThu,this.onJackpot.bind(this),this),this.listScrollView[2].getComponent("BupgScroll").callBackEnd=this.callbackItem.bind(this),this.listScrollView[4].getComponent("BupgScroll").callBackEnd=this.callbackNumber.bind(this)},e.prototype.onError=function(t){this.showNoti(t),this.activeAllBtn(),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!1,this.list_btn[this.Type_Btn.SPEDD].node.active=!0},e.prototype.callbackItem=function(){this.line_stt=0,this.showOneLine()},e.prototype.callbackNumber=function(){var t=this;this.showMoneyWin();var e=s.BupgHandler.getInstance().spinData;if(e.is_jackpot<1){var n=1;e.total_prize>100*this.Room_Value[this.roomId]&&(n=5),e.total_prize>80*this.Room_Value[this.roomId]&&(n=5),e.total_prize>0&&(n=1.5),this.nodeLine.runAction(cc.sequence(cc.delayTime(n),cc.callFunc(function(){t.endShowResults()})))}},e.prototype.endShowResults=function(){this.isSpin==this.Type_Spin.SPEED||this.isSpin==this.Type_Spin.AUTO?(this.callPlaySpin(),this.nodeFX.removeAllChildren(),this.nodeFX.active=!1):(this.nodeFX.active=!1,this.isSpin=this.Type_Spin.NONE,this.activeAllBtn())},e.prototype.onPlaySpin=function(){var t=this,e=s.BupgHandler.getInstance().spinData;if(this.lbSession.string="#"+e.spin_id,e.exec<0){var n=this.language.system_busy;return-102==e.exec&&(n="T\xe0i kho\u1ea3n b\u1ecb kh\xf3a"),-103==e.exec&&(n="\u0110\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c ch\u01a1i game!"),-104==e.exec?(this.showNotEnoughMoney(),this.activeAllBtn(),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!1,this.list_btn[this.Type_Btn.SPEDD].node.active=!0,void(this.btnAuto.node.active=!0)):(this.onError(n),void(this.btnAuto.node.active=!0))}var o=this.Speed_Run.DEFAULT;this.isSpin==this.Type_Spin.AUTO&&(o=this.Speed_Run.AUTO),this.isSpin==this.Type_Spin.SPEED&&(o=this.Speed_Run.SPEED);var i=.1;this.isSpin==this.Type_Spin.SPEED&&(i=0);for(var a=function(e){c.nodeLine.runAction(cc.sequence(cc.delayTime(i*e),cc.callFunc(function(){t.listScrollView[e].getComponent("BupgScroll").setSpinFast(!0),t.listScrollView[e].getComponent("BupgScroll").ScrollItem(o)})))},c=this,r=0;r<this.listScrollView.length;r++)a(r)},e.prototype.showMoneyWin=function(){var t=this;this.normalWin=!1;var e=setTimeout(function(){t.labelMoneyWin.string=r.Utility.getInstance().numberToCurrency(s.BupgHandler.getInstance().spinData.total_prize),clearTimeout(e)},700),n=s.BupgHandler.getInstance().spinData.balance;l.default.getInstance().UserData.balance=n,cc.systemEvent.emit(p.default.EVENT_LOBBY.UPDATE_BALANCE,n),this.nodeFX.removeAllChildren();var o,i=s.BupgHandler.getInstance().spinData;return i.is_jackpot>0?((o=cc.instantiate(this.prefabJackpotWin)).getChildByName("money").getComponent(a.default).runNumber(i.total_prize,!0),this.nodeFX.active=!0,void this.nodeFX.addChild(o)):i.total_prize>10*this.Room_Value[this.roomId]?((o=cc.instantiate(this.prefabMegaWin)).getChildByName("money").getComponent(a.default).runNumber(i.total_prize,!0),this.nodeFX.active=!0,void this.nodeFX.addChild(o)):i.total_prize>5*this.Room_Value[this.roomId]?((o=cc.instantiate(this.prefabBigWin)).getChildByName("money").getComponent(a.default).runNumber(i.total_prize,!0),this.nodeFX.active=!0,void this.nodeFX.addChild(o)):i.total_prize>0?((o=cc.instantiate(this.prefabWin)).getChildByName("money").getComponent(a.default).runNumber(i.total_prize,!0),this.nodeFX.active=!0,this.normalWin=!0,void this.nodeFX.addChild(o)):void 0},e.prototype.showOneLine=function(){var t=this;if(!(s.BupgHandler.getInstance().listLine.length<1)){var e=s.BupgHandler.getInstance().listLine;this.line_stt>=e.length&&(this.line_stt=0);var n=e[this.line_stt];n&&(this.nodeLine.getChildByName(n.toString()).active=!0,this.nodeLine.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){t.nodeLine.getChildByName(n.toString()).active=!1}),cc.delayTime(.5),cc.callFunc(function(){t.line_stt++,t.showOneLine()}))))}},e.prototype.onJackpot=function(t){this.jackpotLabel.money=t[this.roomId-1]},e.prototype.disAllBtn=function(){for(var t in this.btnAuto.interactable=!1,this.list_btn)this.list_btn[t].interactable=!1;this.list_btn[4].node.opacity=120,this.list_btn[5].node.opacity=120,this.btnClose.interactable=!1},e.prototype.activeAllBtn=function(){for(var t in this.btnAuto.interactable=!0,this.list_btn)this.list_btn[t].interactable=!0;this.list_btn[4].node.opacity=255,this.list_btn[5].node.opacity=255,this.btnClose.interactable=!0},e.prototype.showNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent(d.default).setContent(t),e.getComponent(d.default).showDialog(2),cc.director.getScene().addChild(e,u.GameConfigs.zOderGame.POP_UP)},e.prototype.showNotEnoughMoney=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent(d.default).setContent(this.language.no_enough_balance),t.getComponent(d.default).showNotMoney(),cc.director.getScene().addChild(t,u.GameConfigs.zOderGame.POP_UP)},e.prototype.callPlaySpin=function(){var t=Math.pow(10,this.roomId+1);if(l.default.getInstance().UserData.balance<t)return this.activeAllBtn(),this.showNotEnoughMoney(),this.btnAuto.node.active=!0,this.list_btn[this.Type_Btn.SPEDD].node.active=!0,void(this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!1);s.BupgHandler.getInstance().listLine=[],this.nodeLine.stopAllActions(),this.nodeFX.removeAllChildren(),this.nodeFX.active=!1;for(var e=1;e<28;e++)this.nodeLine.getChildByName(e.toString()).active=!1;l.default.getInstance().UserData.balance-=t,cc.systemEvent.emit(p.default.EVENT_LOBBY.UPDATE_BALANCE,l.default.getInstance().UserData.balance),this.labelMoneyWin.string="0",s.BupgHandler.getInstance().processSpin(this.roomId)},e.prototype.renderRoom=function(){this.roomId==this.Id_Room.R100&&(this.lbRoom.string="100"),this.roomId==this.Id_Room.R1000&&(this.lbRoom.string="1.000"),this.roomId==this.Id_Room.R10000&&(this.lbRoom.string="10.000")},e.prototype.clickSpin=function(){this.disAllBtn(),this.callPlaySpin()},e.prototype.clickAuto=function(){this.isSpin=this.Type_Spin.AUTO,this.btnAuto.node.active=!1,this.disAllBtn(),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!0,this.list_btn[this.Type_Btn.STOP_AUTO].interactable=!0,this.callPlaySpin()},e.prototype.clickStopAuto=function(){this.isSpin=this.Type_Spin.DEFAULT,this.btnAuto.node.active=!0,this.disAllBtn(),this.list_btn[this.Type_Btn.SPIN].node.active=!0},e.prototype.clickSpeed=function(){this.isSpin=this.Type_Spin.SPEED,this.disAllBtn(),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!0,this.list_btn[this.Type_Btn.SPEDD].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].interactable=!0,this.callPlaySpin()},e.prototype.clickStopSpeed=function(){this.isSpin=this.Type_Spin.DEFAULT,this.disAllBtn(),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!1,this.list_btn[this.Type_Btn.SPEDD].node.active=!0},e.prototype.clickAddRoom=function(){this.roomId!=this.Id_Room.R10000&&(this.list_btn[4].node.opacity=255,this.list_btn[4].interactable=!0,this.roomId==this.Id_Room.R1000&&(this.roomId=this.Id_Room.R10000,this.list_btn[5].node.opacity=120,this.list_btn[5].interactable=!1),this.roomId==this.Id_Room.R100&&(this.roomId=this.Id_Room.R1000),this.renderRoom())},e.prototype.clickMinusRoom=function(){this.roomId!=this.Id_Room.R100&&(this.list_btn[5].node.opacity=255,this.list_btn[5].interactable=!0,this.roomId==this.Id_Room.R1000&&(this.roomId=this.Id_Room.R100,this.list_btn[4].node.opacity=120,this.list_btn[4].interactable=!1),this.roomId==this.Id_Room.R10000&&(this.roomId=this.Id_Room.R1000),this.renderRoom())},e.prototype.clickGuide=function(){var t=cc.instantiate(this.prefabGuide),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,t.getComponent(f.default).roomId=this.roomId,cc.director.getScene().addChild(t,u.GameConfigs.zOderGame.POP_UP)},e.prototype.clickRank=function(){var t=cc.instantiate(this.prefabRank),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,cc.director.getScene().addChild(t,u.GameConfigs.zOderGame.POP_UP)},e.prototype.clickHistory=function(){var t=cc.instantiate(this.prefabHistory),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,cc.director.getScene().addChild(t,u.GameConfigs.zOderGame.POP_UP)},e.prototype.clickClose=function(){this.node.removeFromParent(),this.node.destroy(),cc.systemEvent.targetOff(this),s.BupgHandler.getInstance().close()},e.prototype.clickNodeFX=function(){this.normalWin||this.endShowResults()},e.prototype.clickShowEvent=function(){},e.prototype.onBtnEvent=function(){},i([m(cc.Label)],e.prototype,"lbSession",void 0),i([m([cc.Button])],e.prototype,"list_btn",void 0),i([m(cc.Node)],e.prototype,"nodeLine",void 0),i([m(cc.Label)],e.prototype,"labelMoneyWin",void 0),i([m(a.default)],e.prototype,"jackpotLabel",void 0),i([m(cc.Node)],e.prototype,"nodeFX",void 0),i([m(cc.Prefab)],e.prototype,"prefabWin",void 0),i([m(cc.Prefab)],e.prototype,"prefabBigWin",void 0),i([m(cc.Prefab)],e.prototype,"prefabMegaWin",void 0),i([m(cc.Prefab)],e.prototype,"prefabJackpotWin",void 0),i([m(cc.Prefab)],e.prototype,"prefabHistory",void 0),i([m(cc.Prefab)],e.prototype,"prefabRank",void 0),i([m(cc.Prefab)],e.prototype,"prefabGuide",void 0),i([m(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([m(cc.ScrollView)],e.prototype,"listScrollView",void 0),i([m(cc.Label)],e.prototype,"lbRoom",void 0),i([m(cc.Button)],e.prototype,"btnAuto",void 0),i([m(cc.Button)],e.prototype,"btnClose",void 0),e=i([g],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/UI/Notification":"Notification","../../Common/UI/NumberRun":"NumberRun","../../Common/UI/PopupInterface":"PopupInterface","../../Common/Utilities/Utility":"Utility","./BupgGuide":"BupgGuide","./BupgHandler":"BupgHandler"}],CanvasScene:[function(t,e,n){"use strict";cc._RF.push(e,"5196a6yrdtCvr465FKPEyCI","CanvasScene");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){var t=this.designResolution.width/this.designResolution.height,e=cc.winSize;e.width/e.height<t?(this.fitWidth=!0,this.fitHeight=!1):(this.fitWidth=!1,this.fitHeight=!0)},e=i([c],e)}(cc.Canvas));n.default=s,cc._RF.pop()},{}],Card:[function(t,e,n){"use strict";cc._RF.push(e,"04a13/EHLFLQKT9WeeK1nh2","Card");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utilities/Utility"),c=t("./LoadingManager"),s=t("../../Common/Network/ConnectHandler"),r=t("../../Common/Data/Constants"),l=t("../../Common/UI/Notification"),u=t("../../Common/Data/GameConfigs"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbAmount=null,e.lbSeri=null,e.lbCardcode=null,e.network=[],e.notiPrefab=null,e.amount=0,e.seri="",e.cardCode="",e.networkType=r.default.NETWORK_TYPE.MOBI,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(r.default.EVENT_API.RE_CHARGE_CARD,this.onChargeCardResponse.bind(this),this)},e.prototype.onChargeCardResponse=function(t){c.default.getInstance().hide(),null!=t?0==t.status?(this.showNoti(s.default.getInstance().statusApiError(t.status)),cc.systemEvent.emit(r.default.EVENT_LOBBY.UPDATE_BALANCE,t.data)):10==t.status?c.default.getInstance().showWaitCharge():this.showNoti(s.default.getInstance().statusApiError(t.status)):this.showNoti("H\u1ec7 th\u1ed1ng b\u1eadn")},e.prototype.setProperties=function(t,e,n,o){this.lbAmount.string=a.Utility.getInstance().numberToCurrency(t),this.lbSeri.string=e,this.lbCardcode.string=n,this.network[o-1].active=!0,this.amount=t,this.seri=e,this.cardCode=n,this.networkType=o},e.prototype.onBtnNap=function(t){c.default.getInstance().show(),s.default.getInstance().processReChargeCard(this.networkType,this.seri,this.cardCode,this.amount)},e.prototype.showNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent(l.default).setContent(t),e.getComponent(l.default).showDialog(2),cc.director.getScene().addChild(e,u.GameConfigs.zOderGame.POP_UP+10)},i([h(cc.Label)],e.prototype,"lbAmount",void 0),i([h(cc.Label)],e.prototype,"lbSeri",void 0),i([h(cc.Label)],e.prototype,"lbCardcode",void 0),i([h(cc.Node)],e.prototype,"network",void 0),i([h(cc.Prefab)],e.prototype,"notiPrefab",void 0),e=i([d],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/UI/Notification":"Notification","../../Common/Utilities/Utility":"Utility","./LoadingManager":"LoadingManager"}],CashOut:[function(t,e,n){"use strict";cc._RF.push(e,"91b07jPKzNOKoDnaFsoTAKB","CashOut");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/Constants"),c=t("../../Common/Utilities/Utility"),s=t("../../Common/Data/GameConfigs"),r=t("../../Common/UI/Notification"),l=t("../../Common/Network/ConnectHandler"),u=t("./LoadingManager"),p=t("./Card"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.holderNetwork=null,e.holderValue=null,e.lbNetwork=null,e.lbValue=null,e.lbPaid=null,e.eboxOTP=null,e.notiPrefab=null,e.eboxCaptcha=null,e.sprCaptcha=null,e.cardPrefab=null,e.arrowNetwork=null,e.arrowValue=null,e.listRealPaid=null,e.value=5e4,e.captchaVerify="",e.networkType=a.default.NETWORK_TYPE.MOBI,e.listValue=[5e4,1e5,2e5,3e5,5e5],e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(a.default.EVENT_API.GET_CAPTCHA,this.onGetCaptchaResponse.bind(this),this),cc.systemEvent.on(a.default.EVENT_API.CASH_OUT,this.onCashOutResponse.bind(this),this)},e.prototype.onCashOutResponse=function(t){if(u.default.getInstance().hide(),null!=t){if(this.enableNoti(l.default.getInstance().statusApiError(t.status)),0==t.status){cc.systemEvent.emit(a.default.EVENT_LOBBY.UPDATE_BALANCE,t.data.balance);var e=cc.instantiate(this.cardPrefab),n=t.data.card_info;e.getComponent(p.default).setProperties(n.amount,n.serial,n.pin,this.networkType),cc.director.getScene().addChild(e,a.default.zOderGame.POP_UP)}this.eboxCaptcha.string="",this.eboxOTP.string="",this.refreshCaptcha()}else this.enableNoti("H\u1ec7 th\u1ed1ng b\u1eadn")},e.prototype.onGetCaptchaResponse=function(t){this.captchaVerify=t.data.captchaVerify;var e="data:image/png;base64,"+t.data.captchaImage,n=new Image;n.src=e;var o=new cc.Texture2D;o.initWithElement(n),o.handleLoadedTexture(),this.sprCaptcha.spriteFrame=new cc.SpriteFrame(o)},e.prototype.refreshCaptcha=function(){l.default.getInstance().processGetCaptcha()},e.prototype.onEnable=function(){this.refreshCaptcha(),this.value=5e4,this.eboxOTP.string="",this.lbValue.string="50.000",this.lbNetwork.string="MobiFone",this.holderValue.active=!1,this.holderNetwork.active=!1,this.networkType=a.default.NETWORK_TYPE.MOBI,this.lbPaid.string=c.Utility.getInstance().numberToCurrency(this.value*(100+s.GameConfigs.server_config.cash_out_fee)/100),this.arrowNetwork.rotation=0,this.arrowValue.rotation=0;for(var t=0,e=this.listRealPaid.children;t<e.length;t++){var n=e[t],o=n.getSiblingIndex(),i=this.listValue[o]*(100+s.GameConfigs.server_config.cash_out_fee)/100;n.getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(i)}},e.prototype.onBtnHideValueNetwork=function(){this.holderNetwork.active=!1,this.arrowNetwork.rotation=0,this.holderValue.active=!1,this.arrowValue.rotation=0},e.prototype.onBtnNetwork=function(t,e){switch(+e){case a.default.NETWORK_TYPE.MOBI:this.lbNetwork.string="MobiFone";break;case a.default.NETWORK_TYPE.VIETTEL:this.lbNetwork.string="Viettel";break;case a.default.NETWORK_TYPE.VINA:this.lbNetwork.string="VinaPhone"}this.networkType=parseInt(e),this.holderNetwork.active=!1,this.arrowNetwork.rotation=0},e.prototype.onBtnValue=function(t,e){this.value=+e,this.lbValue.string=c.Utility.getInstance().numberToCurrency(e),this.holderValue.active=!1,this.lbPaid.string=c.Utility.getInstance().numberToCurrency(this.value*(100+s.GameConfigs.server_config.cash_out_fee)/100),this.arrowValue.rotation=0},e.prototype.onBtnShowNetwork=function(){this.holderNetwork.active=!this.holderNetwork.active,this.arrowNetwork.rotation=this.holderNetwork.active?-90:0},e.prototype.onBtnShowValue=function(){this.holderValue.active=!this.holderValue.active,this.arrowValue.rotation=this.holderValue.active?-90:0},e.prototype.onBtnOTP=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent(r.default).showOTP(),t.getComponent(r.default).setContent("B\u1ea1n c\xf3 mu\u1ed1n l\u1ea5y OTP?"),cc.director.getScene().addChild(t,s.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnConfirm=function(){0!=this.eboxOTP.string.length?0!=this.eboxCaptcha.string.length?(u.default.getInstance().show(),l.default.getInstance().processCashOut(this.networkType,this.value,this.captchaVerify,this.eboxCaptcha.string,this.eboxOTP.string)):this.enableNoti("Vui l\xf2ng nh\u1eadp Captcha"):this.enableNoti("Vui l\xf2ng nh\u1eadp OTP")},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent("Notification").setContent(t),e.getComponent("Notification").showDialog(2),cc.director.getScene().addChild(e,s.GameConfigs.zOderGame.POP_UP)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([f(cc.Node)],e.prototype,"holderNetwork",void 0),i([f(cc.Node)],e.prototype,"holderValue",void 0),i([f(cc.Label)],e.prototype,"lbNetwork",void 0),i([f(cc.Label)],e.prototype,"lbValue",void 0),i([f(cc.Label)],e.prototype,"lbPaid",void 0),i([f(cc.EditBox)],e.prototype,"eboxOTP",void 0),i([f(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([f(cc.EditBox)],e.prototype,"eboxCaptcha",void 0),i([f(cc.Sprite)],e.prototype,"sprCaptcha",void 0),i([f(cc.Prefab)],e.prototype,"cardPrefab",void 0),i([f(cc.Node)],e.prototype,"arrowNetwork",void 0),i([f(cc.Node)],e.prototype,"arrowValue",void 0),i([f(cc.Node)],e.prototype,"listRealPaid",void 0),e=i([h],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/UI/Notification":"Notification","../../Common/Utilities/Utility":"Utility","./Card":"Card","./LoadingManager":"LoadingManager"}],ChangePass:[function(t,e,n){"use strict";cc._RF.push(e,"4435cLXzUNBDKgtly/M/apW","ChangePass");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameData"),c=t("../../Common/Data/GameConfigs"),s=t("../../Common/Network/ConnectHandler"),r=t("../../Common/Data/LabelHelperConfigs"),l=t("../../Common/UI/Notification"),u=t("./LoadingManager"),p=t("../../Common/Data/Constants"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listEbox=[],e.notiPrefab=null,e.lbError=null,e.nodeInfo=null,e.language=null,e}return o(e,t),e.prototype.onLoad=function(){this.language=r.TextData[a.default.getInstance().UserData.textPackage],cc.systemEvent.on(p.default.EVENT_API.CHANGE_PASSWORD,this.onChangePassResponse.bind(this),this)},e.prototype.onChangePassResponse=function(t){if(u.default.getInstance().hide(),null!=t){if(this.lbError.string=s.default.getInstance().statusApiError(t.status),0==t.status)for(var e in this.lbError.node.color=cc.Color.GREEN,this.listEbox)this.listEbox[e].string="";this.listEbox[3].string=""}else this.lbError.string=this.language.system_busy},e.prototype.onBtnXN=function(){this.lbError.node.color=cc.Color.RED,0!=this.listEbox[0].string.length?0!=this.listEbox[1].string.length?this.listEbox[1].string.length<6||this.listEbox[1].string.length>15?this.lbError.string=this.language.limit_password:0!=this.listEbox[2].string.length?0!=this.listEbox[3].string.length?this.listEbox[0].string!=this.listEbox[1].string?this.listEbox[1].string==this.listEbox[2].string?(this.lbError.string="",u.default.getInstance().show(),s.default.getInstance().processChangePass(this.listEbox[0].string,this.listEbox[1].string,this.listEbox[3].string)):this.lbError.string=this.language.fail_confirm_pass:this.lbError.string=this.language.like_password:this.lbError.string=this.language.null_otp:this.lbError.string=this.language.null_confirm_pass:this.lbError.string=this.language.null_password:this.lbError.string=this.language.null_old_pass},e.prototype.onBtnBack=function(t){this.node.active=!1,this.nodeInfo.active=!0},e.prototype.onBtnOTP=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent(l.default).showOTP(),t.getComponent(l.default).setContent(this.language.noti_get_otp),cc.director.getScene().addChild(t,c.GameConfigs.zOderGame.POP_UP)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([f(cc.EditBox)],e.prototype,"listEbox",void 0),i([f(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([f(cc.Label)],e.prototype,"lbError",void 0),i([f(cc.Node)],e.prototype,"nodeInfo",void 0),e=i([h],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/UI/Notification":"Notification","./LoadingManager":"LoadingManager"}],ChangeVippoint:[function(t,e,n){"use strict";cc._RF.push(e,"84f5ejYYZ1PD56wOtdMG5cw","ChangeVippoint");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameData"),c=t("../../Common/Network/ConnectHandler"),s=t("../../Common/Data/LabelHelperConfigs"),r=t("../../Common/UI/Notification"),l=t("../../Common/Data/GameConfigs"),u=t("./LoadingManager"),p=t("../../Common/Data/Constants"),d=t("../../Common/Utilities/Utility"),h=cc._decorator,f=h.ccclass,_=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eboxVippoint=null,e.eboxOTP=null,e.lbNick=null,e.lbID=null,e.lbLevel=null,e.lbCurrentVip=null,e.lbReceive=null,e.notiPrefab=null,e.language=null,e.vippointChange=0,e.level=0,e}return o(e,t),e.prototype.onLoad=function(){this.getVipInfo(),this.lbNick.string=a.default.getInstance().UserData.nick,this.lbID.string=a.default.getInstance().UserData.pub_id,this.language=s.TextData[a.default.getInstance().UserData.textPackage],cc.systemEvent.on(p.default.EVENT_API.CHANGE_VIPPOINT,this.onChangeVippointResponse.bind(this),this),cc.systemEvent.once(p.default.EVENT_API.GET_VIPPOINT,this.onGetVippointResponse.bind(this),this),cc.systemEvent.once(p.default.EVENT_API.GET_VIP_INFO,this.onGetVipInfoResponse.bind(this),this)},e.prototype.onChangeVippointResponse=function(t){u.default.getInstance().hide(),null!=t?(this.enableNoti(c.default.getInstance().statusApiError(t.status)),0==t.status&&(cc.systemEvent.emit(p.default.EVENT_LOBBY.UPDATE_BALANCE,t.data),this.getVipInfo()),this.eboxOTP.string=""):this.enableNoti(this.language.system_busy)},e.prototype.onGetVipInfoResponse=function(t){null!=t&&0==t.status&&(this.lbLevel.string=this.parseRank(t.data.curr_level),this.lbCurrentVip.string=d.Utility.getInstance().numberToCurrency(t.data.vippoint),a.default.getInstance().UserData.vippoint=t.data.vippoint,a.default.getInstance().UserData.curr_level=t.data.curr_level,a.default.getInstance().UserData.total_vip=t.data.total_vip,this.level=t.data.curr_level,c.default.getInstance().processGetListVippoint())},e.prototype.onGetVippointResponse=function(t){if(null!=t&&0==t.status)for(var e in t.data)if(this.level==t.data[e].level_id)return void(this.vippointChange=t.data[e].vippoint_change)},e.prototype.getVipInfo=function(){c.default.getInstance().processGetVipInfo()},e.prototype.onEditVippoint=function(){var t=+this.eboxVippoint.string*this.vippointChange;this.lbReceive.string=d.Utility.getInstance().numberToCurrency(t)},e.prototype.onBtnConfirm=function(t){0!=this.eboxVippoint.string.length?0!=this.eboxOTP.string.length?+this.eboxVippoint.string>+this.lbCurrentVip.string?this.enableNoti(this.language.not_enough_vippoint):(u.default.getInstance().show(),c.default.getInstance().processChangeVippoint(this.eboxVippoint.string,this.eboxOTP.string)):this.enableNoti(this.language.null_otp):this.enableNoti(this.language.null_vippoint)},e.prototype.parseRank=function(t){switch(t){case 1:return"VIP 0";case 2:return"VIP 1";case 3:return"VIP 2";case 4:return"VIP 3";case 5:return"VIP 4";case 6:return"VIP 5";case 7:return"VIP 6"}},e.prototype.onBtnOTP=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent(r.default).showOTP(),t.getComponent(r.default).setContent(this.language.noti_get_otp),cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent(r.default).setContent(t),e.getComponent(r.default).showDialog(2),cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onDestroy=function(){cc.systemEvent.emit(p.default.EVENT_LOBBY.UPDATE_VIP_INFO),cc.systemEvent.targetOff(this)},i([_(cc.EditBox)],e.prototype,"eboxVippoint",void 0),i([_(cc.EditBox)],e.prototype,"eboxOTP",void 0),i([_(cc.Label)],e.prototype,"lbNick",void 0),i([_(cc.Label)],e.prototype,"lbID",void 0),i([_(cc.Label)],e.prototype,"lbLevel",void 0),i([_(cc.Label)],e.prototype,"lbCurrentVip",void 0),i([_(cc.Label)],e.prototype,"lbReceive",void 0),i([_(cc.Prefab)],e.prototype,"notiPrefab",void 0),e=i([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/UI/Notification":"Notification","../../Common/Utilities/Utility":"Utility","./LoadingManager":"LoadingManager"}],ChargeCard:[function(t,e,n){"use strict";cc._RF.push(e,"18e02hGwWVMdZCBB3k18YT6","ChargeCard");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Network/ConnectHandler"),c=t("../../Common/Data/Constants"),s=t("../../Common/Utilities/Utility"),r=t("./LoadingManager"),l=t("../../Common/Data/GameConfigs"),u=t("./Payment"),p=t("../../Common/UI/Notification"),d=t("../../Common/Data/GameData"),h=cc._decorator,f=h.ccclass,_=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.holderNetwork=null,e.lbNetwork=null,e.eboxSeri=null,e.eboxCardCode=null,e.eboxCaptcha=null,e.sprCaptcha=null,e.lbError=null,e.holderValue=null,e.lbValue=null,e.arrowValue=null,e.listRealGet=null,e.contentValue=null,e.nodeOption=null,e.nodeConfirm=null,e.confNetwork=null,e.confValue=null,e.confSeri=null,e.confCardcode=null,e.notiPrefab=null,e.payment=null,e.nodeNetwork=null,e.nodeMoMo=null,e.lbRatioMomo=null,e.lbRatioMobi=null,e.lbRatioViettel=null,e.lbRatioVina=null,e.nodeMain=null,e.eboxSTK=null,e.lbNameSTK=null,e.eboxDesc=null,e.value=0,e.captchaVerify="",e.networkType=0,e.listValue=[1e4,2e4,3e4,5e4,1e5,2e5,3e5,5e5,1e6],e.fixPosY=0,e.stk="",e.desc="",e}return o(e,t),e.prototype.onLoad=function(){this.fixPosY=this.sprCaptcha.node.y,cc.systemEvent.on(c.default.EVENT_API.GET_CAPTCHA,this.onGetCaptchaResponse.bind(this),this),cc.systemEvent.on(c.default.EVENT_API.CHARGE_CARD,this.onChargeCardResponse.bind(this),this),cc.systemEvent.on(c.default.EVENT_API.GET_INFO_MOMO,this.onGetInfoMoMo.bind(this),this)},e.prototype.onGetInfoMoMo=function(t){if(null!=t&&0==t.status){var e=t.data;this.stk=e.phone,this.desc=e.syntax.replace("nickname",d.default.getInstance().UserData.nick),this.eboxSTK.string=e.phone,this.lbNameSTK.string=e.name,this.eboxDesc.string=this.desc}},e.prototype.onEnable=function(){a.default.getInstance().processGetInfoMoMo(),this.resetDefault()},e.prototype.onBtnBack=function(){this.nodeMoMo.active=!1,this.nodeNetwork.active=!1,this.nodeMain.active=!0,this.resetDefault()},e.prototype.resetDefault=function(){this.nodeMain.active=!0,this.nodeNetwork.active=!1,this.nodeMoMo.active=!1,this.lbRatioMomo.string="T\u1ef7 l\u1ec7 n\u1ea1p 1:"+l.GameConfigs.server_config.charge_info[3].ratio/100,this.lbRatioMobi.string="T\u1ef7 l\u1ec7 n\u1ea1p 1:"+l.GameConfigs.server_config.charge_info[1].ratio/100,this.lbRatioViettel.string="T\u1ef7 l\u1ec7 n\u1ea1p 1:"+l.GameConfigs.server_config.charge_info[0].ratio/100,this.lbRatioVina.string="T\u1ef7 l\u1ec7 n\u1ea1p 1:"+l.GameConfigs.server_config.charge_info[2].ratio/100,this.refreshCaptcha(),this.value=0,this.networkType=0,this.lbNetwork.string="Ch\u1ecdn lo\u1ea1i th\u1ebb",this.lbValue.string="Ch\u1ecdn m\u1ec7nh gi\xe1",this.lbValue.node.opacity=100,this.eboxSeri.string="",this.eboxCardCode.string="",this.eboxCaptcha.string="",this.lbError.string="",this.holderNetwork.active=!1,this.holderValue.active=!1,this.arrowValue.rotation=0,this.nodeOption.active=!0,this.nodeConfirm.active=!1,this.payment.isTransaction=!1,this.onChangeRatioTelco(0),this.onBtnNetwork(null,3)},e.prototype.onBtnOption=function(t,e){var n=[];switch(this.nodeMain.active=!1,this.nodeConfirm.active=!1,this.nodeNetwork.active=!1,this.nodeMoMo.active=!1,+e){case c.default.NETWORK_TYPE.MOBI:this.lbNetwork.string="<color=#404FF7>Mobi</c><color=#F74040>Fone</color>",this.nodeNetwork.active=!0,this.onChangeRatioTelco(l.GameConfigs.server_config.charge_info[1].ratio),n=l.GameConfigs.server_config.charge_info[1].value.split(",");break;case c.default.NETWORK_TYPE.VIETTEL:this.lbNetwork.string="<color=#007C7E>Viettel</c>",this.nodeNetwork.active=!0,this.onChangeRatioTelco(l.GameConfigs.server_config.charge_info[0].ratio),n=l.GameConfigs.server_config.charge_info[0].value.split(",");break;case c.default.NETWORK_TYPE.VINA:this.lbNetwork.string="<color=#0093dd>VinaPhone</c>",this.nodeNetwork.active=!0,this.onChangeRatioTelco(l.GameConfigs.server_config.charge_info[2].ratio),n=l.GameConfigs.server_config.charge_info[2].value.split(",");break;case c.default.NETWORK_TYPE.MOMO:this.nodeMoMo.active=!0,this.onChangeRatioMoMo(l.GameConfigs.server_config.charge_info[3].ratio)}for(var o=0,i=this.contentValue.children;o<i.length;o++){var a=i[o];a.active=n.indexOf(a.name)>-1}this.value=0,this.lbValue.string="Ch\u1ecdn m\u1ec7nh gi\xe1",this.lbValue.node.opacity=100,this.networkType=parseInt(e)},e.prototype.onChangeRatioMoMo=function(t){for(var e=0,n=this.listRealGet.children;e<n.length;e++){var o=n[e],i=o.getSiblingIndex(),a=0;a=this.listValue[i]<=3e5?this.listValue[i]:this.listValue[i]*t/100,o.getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(a)}},e.prototype.onChangeRatioTelco=function(t){for(var e=0,n=this.listRealGet.children;e<n.length;e++){var o=n[e],i=o.getSiblingIndex(),a=this.listValue[i]*t/100;o.getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(a)}},e.prototype.onChargeCardResponse=function(t){r.default.getInstance().hide(),null!=t?0==t.status?(this.enableNoti(a.default.getInstance().statusApiError(t.status)),cc.systemEvent.emit(c.default.EVENT_LOBBY.UPDATE_BALANCE,t.data)):10==t.status?r.default.getInstance().showWaitCharge():this.enableNoti(a.default.getInstance().statusApiError(t.status)):this.enableNoti("H\u1ec7 th\u1ed1ng b\u1eadn")},e.prototype.onGetCaptchaResponse=function(t){this.captchaVerify=t.data.captchaVerify;var e="data:image/png;base64,"+t.data.captchaImage,n=new Image;n.src=e;var o=new cc.Texture2D;o.initWithElement(n),o.handleLoadedTexture(),this.sprCaptcha.spriteFrame=new cc.SpriteFrame(o)},e.prototype.refreshCaptcha=function(){a.default.getInstance().processGetCaptcha()},e.prototype.onBtnNetwork=function(t,e){var n=[];switch(+e){case c.default.NETWORK_TYPE.MOBI:this.lbNetwork.string="<color=#404FF7>Mobi</c><color=#F74040>Fone</color>",this.onChangeRatioTelco(l.GameConfigs.server_config.charge_info[1].ratio),n=l.GameConfigs.server_config.charge_info[1].value.split(",");break;case c.default.NETWORK_TYPE.VIETTEL:this.lbNetwork.string="<color=#007C7E>Viettel</c>",this.onChangeRatioTelco(l.GameConfigs.server_config.charge_info[0].ratio),n=l.GameConfigs.server_config.charge_info[0].value.split(",");break;case c.default.NETWORK_TYPE.VINA:this.lbNetwork.string="<color=#0093dd>VinaPhone</c>",this.onChangeRatioTelco(l.GameConfigs.server_config.charge_info[2].ratio),n=l.GameConfigs.server_config.charge_info[2].value.split(",")}for(var o=0,i=this.contentValue.children;o<i.length;o++){var a=i[o];a.active=n.indexOf(a.name)>-1}this.value=0,this.lbValue.string="Ch\u1ecdn m\u1ec7nh gi\xe1",this.lbValue.node.opacity=100,this.networkType=parseInt(e),this.holderNetwork.active=!1},e.prototype.onBtnValue=function(t,e){this.value=+e,this.lbValue.string=s.Utility.getInstance().numberToCurrency(e),this.lbValue.node.opacity=255,this.holderValue.active=!1,this.arrowValue.rotation=0},e.prototype.onBtnShowNetwork=function(){this.holderNetwork.active=!this.holderNetwork.active},e.prototype.onBtnShowValue=function(){this.holderValue.active=!this.holderValue.active,this.arrowValue.rotation=this.holderValue.active?-90:0},e.prototype.onBtnHideValueNetwork=function(){this.holderNetwork.active=!1,this.holderValue.active=!1,this.arrowValue.rotation=0},e.prototype.onBtnContinue=function(t){this.lbError.string="",this.lbError.node.color=cc.Color.RED,0!=this.networkType?0!=this.value?0!=this.eboxSeri.string.length?0!=this.eboxCardCode.string.length?(this.confNetwork.string=this.lbNetwork.string,this.confValue.string=this.lbValue.string,this.confSeri.string=this.eboxSeri.string,this.confCardcode.string=this.eboxCardCode.string,this.nodeOption.active=!1,this.nodeConfirm.active=!0,this.refreshCaptcha(),this.payment.isTransaction=!0):this.lbError.string="Vui l\xf2ng nh\u1eadp m\xe3 th\u1ebb":this.lbError.string="Vui l\xf2ng nh\u1eadp Seri":this.lbError.string="Vui l\xf2ng ch\u1ecdn m\u1ec7nh gi\xe1":this.lbError.string="Vui l\xf2ng ch\u1ecdn lo\u1ea1i th\u1ebb"},e.prototype.onBtnConfirm=function(){0!=this.eboxCaptcha.string.length?/[^a-zA-Z0-9]/.test(this.eboxCaptcha.string)?this.enableNoti("Captcha kh\xf4ng ch\u1ee9a k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t"):(r.default.getInstance().show(),a.default.getInstance().processChargeCard(this.networkType,this.eboxSeri.string,this.eboxCardCode.string,this.value,this.captchaVerify,this.eboxCaptcha.string),this.resetDefault()):this.enableNoti("Vui l\xf2ng nh\u1eadp captcha")},e.prototype.onBtnCancle=function(t){this.nodeOption.active=!0,this.nodeConfirm.active=!1,this.payment.isTransaction=!1},e.prototype.onBeganEditCaptcha=function(){this.sprCaptcha.node.y+=190},e.prototype.onEndEditCaptcha=function(){this.sprCaptcha.node.y=this.fixPosY},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent(p.default).setContent(t),e.getComponent(p.default).showDialog(2),cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP)},i([_(cc.Node)],e.prototype,"holderNetwork",void 0),i([_(cc.RichText)],e.prototype,"lbNetwork",void 0),i([_(cc.EditBox)],e.prototype,"eboxSeri",void 0),i([_(cc.EditBox)],e.prototype,"eboxCardCode",void 0),i([_(cc.EditBox)],e.prototype,"eboxCaptcha",void 0),i([_(cc.Sprite)],e.prototype,"sprCaptcha",void 0),i([_(cc.Label)],e.prototype,"lbError",void 0),i([_(cc.Node)],e.prototype,"holderValue",void 0),i([_(cc.Label)],e.prototype,"lbValue",void 0),i([_(cc.Node)],e.prototype,"arrowValue",void 0),i([_(cc.Node)],e.prototype,"listRealGet",void 0),i([_(cc.Node)],e.prototype,"contentValue",void 0),i([_(cc.Node)],e.prototype,"nodeOption",void 0),i([_(cc.Node)],e.prototype,"nodeConfirm",void 0),i([_(cc.RichText)],e.prototype,"confNetwork",void 0),i([_(cc.Label)],e.prototype,"confValue",void 0),i([_(cc.Label)],e.prototype,"confSeri",void 0),i([_(cc.Label)],e.prototype,"confCardcode",void 0),i([_(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([_(u.default)],e.prototype,"payment",void 0),i([_(cc.Node)],e.prototype,"nodeNetwork",void 0),i([_(cc.Node)],e.prototype,"nodeMoMo",void 0),i([_(cc.Label)],e.prototype,"lbRatioMomo",void 0),i([_(cc.Label)],e.prototype,"lbRatioMobi",void 0),i([_(cc.Label)],e.prototype,"lbRatioViettel",void 0),i([_(cc.Label)],e.prototype,"lbRatioVina",void 0),i([_(cc.Node)],e.prototype,"nodeMain",void 0),i([_(cc.EditBox)],e.prototype,"eboxSTK",void 0),i([_(cc.Label)],e.prototype,"lbNameSTK",void 0),i([_(cc.EditBox)],e.prototype,"eboxDesc",void 0),e=i([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/UI/Notification":"Notification","../../Common/Utilities/Utility":"Utility","./LoadingManager":"LoadingManager","./Payment":"Payment"}],ChatHandler:[function(t,e,n){"use strict";cc._RF.push(e,"2eb96PJ2DxL4I68BverzKi2","ChatHandler");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Common/Data/Constants"),a=t("../../Common/Network/WsHandler"),c=t("../../Common/Data/GameConfigs"),s=cc._decorator,r=s.ccclass,l=(s.property,function(){function t(){this.listMess=[],this.sendMess=null}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e,this.Instance.init()),this.Instance},t.prototype.init=function(){cc.systemEvent.on(c.GameConfigs.WSGameName.ChatTX,this.parseData.bind(this),this)},t.prototype.connect=function(){a.WsHandler.getInstance().joinGame(c.GameConfigs.WSGameName.ChatTX)},t.prototype.close=function(){a.WsHandler.getInstance().leaveGame(c.GameConfigs.WSGameName.ChatTX)},t.prototype.outRoomTX=function(){a.WsHandler.getInstance().playGame(c.GameConfigs.WSGameName.ChatTX,'{"cmd":"out_room","c_data":{"chat_id":0}}')},t.prototype.joinRoomTX=function(){a.WsHandler.getInstance().playGame(c.GameConfigs.WSGameName.ChatTX,'{"cmd":"join_room","c_data":{"channel":0, "room_id":0, "table_id":0}}')},t.prototype.pinChat=function(t){var e='{"cmd":"pin","c_data":{"mess":"'+encodeURIComponent(t)+'", "chat_id":0}}';a.WsHandler.getInstance().playGame(c.GameConfigs.WSGameName.ChatTX,e)},t.prototype.unpinChat=function(){a.WsHandler.getInstance().playGame(c.GameConfigs.WSGameName.ChatTX,'{"cmd":"unpin","c_data":{}}')},t.prototype.parseData=function(t){var e=t,n=null,o=null;if(e.hasOwnProperty("s_data")&&(o=e.cmd,n=e.s_data),null!=n)switch(o){case"s_join_room":this.parseListMess(n);break;case"s_chat":var a=JSON.parse(n);0==a.chat_id&&this.parseSend(a);break;case"s_admin":i.default.ADMIN=!0;break;case"s_pin":if(""==n)return;cc.systemEvent.emit(i.default.EVENT_TAIXIU.PIN,{nickname:"ADMIN",message:decodeURIComponent(n),admin:0});break;case"s_unpin":cc.systemEvent.emit(i.default.EVENT_TAIXIU.UNPIN);break;case"s_not_enough_vip":cc.systemEvent.emit(i.default.EVENT_TAIXIU.TAIXIU_HANDLER+"NotEnoughVIP")}},t.prototype.parseListMess=function(t){try{for(var e in this.listMess=[],t){var n={nickname:t[e].nick,message:decodeURIComponent(t[e].message),admin:0,gate_name:t[e].gate_name};this.listMess.push(n)}cc.systemEvent.emit(i.default.EVENT_TAIXIU.TAIXIU_HANDLER+"ChatListMess")}catch(t){}},t.prototype.parseSend=function(t){this.sendMess={nickname:t.nick,admin:0,message:decodeURIComponent(t.message),gate_name:t.gate_name},cc.systemEvent.emit(i.default.EVENT_TAIXIU.TAIXIU_HANDLER+"SendMess")},t.prototype.processPostMessage=function(t){var e='{"cmd":"chat","c_data":{"message":"'+(t=encodeURIComponent(t))+'", "chat_id":0}}';a.WsHandler.getInstance().playGame(c.GameConfigs.WSGameName.ChatTX,e)},t.Instance=null,t=e=o([r],t)}());n.ChatHandler=l,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/WsHandler":"WsHandler"}],ConnectHandler:[function(t,e,n){"use strict";cc._RF.push(e,"18042Q2n8xGtI1QYI4itS4R","ConnectHandler");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Libs/MD5"),a=t("../Data/GameConfigs"),c=t("../Data/GameData"),s=t("../Data/LabelHelperConfigs"),r=t("../Data/Constants"),l=t("./WsHandler"),u=cc._decorator,p=u.ccclass,d=(u.property,function(){function t(){this.fbAccessToken=""}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e,this.Instance.init()),this.Instance},t.prototype.init=function(){cc.systemEvent.on(r.default.EVENT_API.LOGINFB,this.onLoginFBResponse.bind(this),this)},t.prototype.onLoginFBResponse=function(t){0==t.status?(this.parseUserInfo(t.data),cc.systemEvent.emit(r.default.EVENT_LOBBY.LOGIN_FB),gtag&&gtag("event","Login_FB")):100==t.status?(this.parseUserInfo(t.data),cc.sys.localStorage.setItem("username",t.data.username),cc.systemEvent.emit(r.default.EVENT_LOBBY.SECURITY_FB)):(cc.systemEvent.emit("FAIL_FB",t.status),gtag&&gtag("event","Login_FB_Failed"))},t.prototype.onLoginFacebookDone=function(t,e){var n=JSON.parse(t);n.id,n.name,n.token_for_business,n.picture.data.url;this.fbAccessToken=e,this.processLoginFB(this.fbAccessToken)},t.prototype.processLoginFB=function(t){var e=JSON.stringify({api_name:"login_fb",data:{account_type:1,fb_token:t}});l.WsHandler.getInstance().sendApi(e)},t.prototype.processLogin=function(t,e){var n=JSON.stringify({api_name:"login",data:{username:t,password:i.MD5.encrypt(e)}});l.WsHandler.getInstance().sendApi(n)},t.prototype.processLoginSecurity=function(t,e,n){var o=JSON.stringify({api_name:"login",data:{username:t,password:i.MD5.encrypt(e),otp:n}});l.WsHandler.getInstance().sendApi(o)},t.prototype.processLogOut=function(){var t=JSON.stringify({api_name:"close",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.parseUserInfo=function(t){c.default.getInstance().isLogin=!0,c.default.getInstance().UserData.userid=t.uid+"",c.default.getInstance().UserData.pub_id=t.pub_id+"",c.default.getInstance().UserData.username=t.username,c.default.getInstance().UserData.nick=t.nick,c.default.getInstance().UserData.account_type=t.account_type,c.default.getInstance().UserData.phone=t.phone,c.default.getInstance().UserData.balance=t.balance,c.default.getInstance().UserData.freeze_money=t.freeze_money,c.default.getInstance().UserData.hash=t.hash,c.default.getInstance().UserData.mail=t.mail,c.default.getInstance().UserData.security=t.security,c.default.getInstance().UserData.min_balance=t.min_balance,c.default.getInstance().UserData.link=t.link,c.default.getInstance().UserData.number_mail=t.number_mail,c.default.getInstance().UserData.vippoint=t.vippoint,c.default.getInstance().UserData.curr_level=t.curr_level,c.default.getInstance().UserData.total_vip=t.total_vip,c.default.getInstance().UserData.token=t.token,c.default.getInstance().UserData.turn_vqmm=t.turn_vqmm;var e=t.avatar;0==e&&(e=1),c.default.getInstance().UserData.avatar=e},t.prototype.processRegister=function(t,e,n,o){var a=JSON.stringify({api_name:"register",data:{username:t,password:i.MD5.encrypt(e),captcha_verify:n,captcha_answer:o,event_id:0}});l.WsHandler.getInstance().sendApi(a)},t.prototype.processGetCaptcha=function(){var t=JSON.stringify({api_name:"get_captcha",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processUpdateNickName=function(t){var e=JSON.stringify({api_name:"change_nick",data:{nick:t}});l.WsHandler.getInstance().sendApi(e)},t.prototype.processFreeze=function(t){var e=JSON.stringify({api_name:"freeze_balance",data:{money_freeze:parseInt(t)}});l.WsHandler.getInstance().sendApi(e)},t.prototype.processUnFreeze=function(t,e){var n=JSON.stringify({api_name:"unfreeze_balance",data:{money_freeze:parseInt(t),otp:e}});l.WsHandler.getInstance().sendApi(n)},t.prototype.processChangePass=function(t,e,n){var o=JSON.stringify({api_name:"change_password",data:{oldPassword:i.MD5.encrypt(t),newPassword:i.MD5.encrypt(e),otp:n}});l.WsHandler.getInstance().sendApi(o)},t.prototype.processChangeAvatar=function(t){var e=JSON.stringify({api_name:"update_avatar",data:{avatar:t}});l.WsHandler.getInstance().sendApi(e)},t.prototype.processGetHistoryGame=function(t){var e=JSON.stringify({api_name:"historygame",data:{totalRow:100,gameId:t}});l.WsHandler.getInstance().sendApi(e)},t.prototype.processGetHistorySystem=function(){var t=JSON.stringify({api_name:"history_system",data:{totalRow:100}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processHistoryTransfer=function(){var t=JSON.stringify({api_name:"history_transfer",data:{totalRow:100}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processGetHistoryCharge=function(){var t=JSON.stringify({api_name:"history_charge",data:{totalRow:100}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processGetHistoryCashOut=function(){var t=JSON.stringify({api_name:"history_cashout",data:{totalRow:100}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processGiftcode=function(t,e,n){var o=JSON.stringify({api_name:"use_giftcode",data:{giftcode:t,captcha_verify:e,captcha_answer:n}});l.WsHandler.getInstance().sendApi(o)},t.prototype.processGetOTP=function(){var t=JSON.stringify({api_name:"get_otp",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processTransfer=function(t,e,n,o){var i=JSON.stringify({api_name:"transfer_money",data:{receiveId:t,balance:e,description:n,otp:o}});l.WsHandler.getInstance().sendApi(i)},t.prototype.processGetNickname=function(t){var e=JSON.stringify({api_name:"get_nick",data:{receiveId:t}});l.WsHandler.getInstance().sendApi(e)},t.prototype.processSecurityLogin=function(t,e,n){var o=JSON.stringify({api_name:"security",data:{min_balance:t,optional:e,otp:n}});l.WsHandler.getInstance().sendApi(o)},t.prototype.processForgetPassMail=function(t,e,n,o){var i=JSON.stringify({api_name:"forget_password_mail",data:{username:t,mail:e,captcha_verify:n,captcha_answer:o}});l.WsHandler.getInstance().sendApi(i)},t.prototype.processForgetPassOTP=function(t,e,n){var o=JSON.stringify({api_name:"forget_password_otp",data:{username:t,password:i.MD5.encrypt(e),otp:n}});l.WsHandler.getInstance().sendApi(o)},t.prototype.processGetMailBox=function(){var t=JSON.stringify({api_name:"get_mailbox",data:{page:1}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processReadMail=function(t){var e=JSON.stringify({api_name:"read_mailbox",data:{mail_id:t}});l.WsHandler.getInstance().sendApi(e)},t.prototype.processDeleteMail=function(t){var e=JSON.stringify({api_name:"delete_mailbox",data:{mail_id:t}});l.WsHandler.getInstance().sendApi(e)},t.prototype.processGetAwardMail=function(t){var e=JSON.stringify({api_name:"get_award_mailbox",data:{mail_id:t}});l.WsHandler.getInstance().sendApi(e)},t.prototype.processGetListVippoint=function(){var t=JSON.stringify({api_name:"get_vip",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processGetTopVippoint=function(){var t=JSON.stringify({api_name:"get_top_vip",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processGetVipInfo=function(){var t=JSON.stringify({api_name:"get_vip_info",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processChangeVippoint=function(t,e){var n=JSON.stringify({api_name:"change_vippoint",data:{vippoint:t,otp:e}});l.WsHandler.getInstance().sendApi(n)},t.prototype.processGetTimeVippoint=function(){var t=JSON.stringify({api_name:"get_time_vippoint",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processUpdatePhoneAccountKit=function(t){var e=JSON.stringify({api_name:"update_phone_account_kit",data:{access_token:t,device_id:"",os:a.GameConfigs.getOSID()}});l.WsHandler.getInstance().sendApi(e)},t.prototype.processBuyIAP=function(t,e,n){var o={};cc.sys.os==cc.sys.OS_ANDROID?o=JSON.stringify({api_name:"iap_gg",data:{PackageName:t,ProductId:e,PurchaseToken:n}}):cc.sys.os==cc.sys.OS_IOS&&(o=JSON.stringify({api_name:"iap",data:{PurchaseToken:n}})),l.WsHandler.getInstance().sendApi(o)},t.prototype.processGetListIAP=function(){var t=JSON.stringify({api_name:"list_iap",data:{os_id:a.GameConfigs.getOSIDIAP()}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processSpinVQMM=function(){var t=JSON.stringify({api_name:"spin_vqmm",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processUpdatePhone=function(t,e,n){var o=JSON.stringify({api_name:"update_phone",data:{phone:t,captcha_answer:e,captcha_verify:n}});l.WsHandler.getInstance().sendApi(o)},t.prototype.processActivePhone=function(t,e){var n=JSON.stringify({api_name:"active_phone",data:{phone:t,otp:e}});l.WsHandler.getInstance().sendApi(n)},t.prototype.processRemovePhone=function(t,e){var n=JSON.stringify({api_name:"remove_phone",data:{phone:t,otp:e}});l.WsHandler.getInstance().sendApi(n)},t.prototype.processListMerchant=function(){var t=JSON.stringify({api_name:"list_merchant",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processChargeCard=function(t,e,n,o,i,a){var c=JSON.stringify({api_name:"charge_card",data:{network:t,seri:e,cardCode:n,amount:o,captcha_verify:i,captcha_answer:a}});l.WsHandler.getInstance().sendApi(c)},t.prototype.processReChargeCard=function(t,e,n,o){var i=JSON.stringify({api_name:"re_charge_card",data:{network:t,seri:e,cardCode:n,amount:o}});l.WsHandler.getInstance().sendApi(i)},t.prototype.processCashOut=function(t,e,n,o,i){var a=JSON.stringify({api_name:"cash_out",data:{network:t,amount:e,captcha_verify:n,captcha_answer:o,otp:i}});l.WsHandler.getInstance().sendApi(a)},t.prototype.processGetListDateEvent=function(){var t=JSON.stringify({api_name:"list_date_event",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processGetTopEvent=function(t,e){var n=JSON.stringify({api_name:"top_event",data:{game_id:t,date_int:e}});l.WsHandler.getInstance().sendApi(n)},t.prototype.processGetEventAlpha=function(t,e){var n=JSON.stringify({api_name:"get_event_alpha",data:{date_int:t,type:e}});l.WsHandler.getInstance().sendApi(n)},t.prototype.processGetEventOpen=function(){var t=JSON.stringify({api_name:"get_event_show",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processGetAllEvent=function(){var t=JSON.stringify({api_name:"get_all_event",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processGetBalance=function(){var t=JSON.stringify({api_name:"get_balance",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processEventQuest=function(){var t=JSON.stringify({api_name:"get_event_quest",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processReceiveAwardQuest=function(t){var e=JSON.stringify({api_name:"receive_event_prize",data:{event_id:t}});l.WsHandler.getInstance().sendApi(e)},t.prototype.processEventInfo=function(){var t=JSON.stringify({api_name:"get_event_info",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processReceiveEventPrize=function(t){var e=JSON.stringify({api_name:"receive_event_prize",data:{event_id:t}});l.WsHandler.getInstance().sendApi(e)},t.prototype.processGetInfoMoMo=function(){var t=JSON.stringify({api_name:"get_info_momo",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processGetRice=function(){var t=JSON.stringify({api_name:"get_rice_lunar",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processGetItems=function(){var t=JSON.stringify({api_name:"get_items_lunar",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processRollRice=function(){var t=JSON.stringify({api_name:"roll_rice_lunar",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processGetRiceFree=function(){var t=JSON.stringify({api_name:"claim_rice_free_lunar",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processBuyRice=function(t){var e=JSON.stringify({api_name:"charge_event_lunar",data:{amount:t}});l.WsHandler.getInstance().sendApi(e)},t.prototype.processChangePieces=function(t){var e=JSON.stringify({api_name:"build_pieces_lunar",data:{type_piece:t}});l.WsHandler.getInstance().sendApi(e)},t.prototype.processGetAward=function(t,e){var n=JSON.stringify({api_name:"receive_award_lunar",data:{award_id:t,quantity:e}});l.WsHandler.getInstance().sendApi(n)},t.prototype.processGetTopLunar=function(){var t=JSON.stringify({api_name:"get_top_lunar",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processBuyKNB=function(t){var e=JSON.stringify({api_name:"buy_knb",data:{id:t}});l.WsHandler.getInstance().sendApi(e)},t.prototype.processGetKNBFree=function(){var t=JSON.stringify({api_name:"get_knb_free",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processGetPrice=function(){var t=JSON.stringify({api_name:"get_price",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.processGetKNBHour=function(){var t=JSON.stringify({api_name:"get_knb_hour",data:{}});l.WsHandler.getInstance().sendApi(t)},t.prototype.statusApiError=function(t){t=parseInt(t);var e=s.TextData[c.default.getInstance().UserData.textPackage];switch(t){case 2:return e.sending_otp_mail;case 1:return e.sending_otp;case 0:return e.success;case-1:case-2:return e.fail;case-3:return e.no_phone;case-4:case-5:return e.error_captcha;case-6:return e.no_account;case-7:return e.already_update_nick;case-8:return e.exist_account;case-9:return e.min_transfer;case-10:return e.min_balance_after_transfer;case-11:return e.no_enough_freeze;case-12:return e.no_enough_unfreeze;case-13:return e.error_old_pass;case-14:return e.same_username_nick;case-15:return e.null_nickname;case-16:return e.special_nickname;case-17:return e.special_username;case-18:return e.no_enough_balance;case-20:return e.already_spin_vqmm;case-21:return e.out_date_vqmm;case-22:return e.invalid_length_nick;case-23:return e.invalid_length_username;case-24:return e.null_username;case-25:return e.null_password;case-26:return e.invalid_length_pass;case-27:return e.invalid_game;case-28:return e.already_send_card;case-29:return e.out_of_card;case-30:return e.error_rank;case-31:return e.user_got_card;case-32:return e.no_business_id;case-33:return e.error_avatar;case-34:return e.error_register;case-35:return e.no_account;case-36:return e.error_password;case-37:return e.existed_nick;case-38:return e.invalid_day;case-39:return e.another_acc_phone;case-40:return e.updated_phone;case-41:return e.null_mail;case-42:return e.updated_mail;case-43:return e.another_acc_mail;case-44:return e.invalid_usdt_address;case-45:return e.limit_coin;case-46:return e.not_enough_coin;case-47:return e.giftcode_not_exist;case-48:return e.giftcode_used;case-49:return e.giftcode_type_used;case-50:return e.giftcode_expire;case-51:return e.mailbox_empty;case-52:return e.mail_not_exist;case-53:return e.mail_expired;case-54:return e.mail_deleted;case-56:return e.not_enough_vippoint;case-57:return"Seri r\u1ed7ng";case-58:return"M\xe3 th\u1ebb r\u1ed7ng";case-59:return"Ch\u01b0a \u0111\u1ee7 \u0111i\u1ec3m VIP t\xedch l\u0169y";case-60:return"B\u1ea1n c\xf3 th\u1ec3 h\u1ee7y s\u1ed1 \u0111i\u1ec7n tho\u1ea1i sau";case-63:return e.already_spin_vqmm;case-65:return"B\u1ea1n \u0111\xe3 nh\u1eadn th\u01b0\u1edfng r\u1ed3i";case-66:return"B\u1ea1n kh\xf4ng c\xf3 th\u01b0\u1edfng trong Mail";case-67:return"Hi\u1ec7n t\u1ea1i ch\u01b0a t\u1edbi th\u1eddi gian quy \u0111\u1ed5i VIPPOINT, vui l\xf2ng quay l\u1ea1i sau";case-68:return"S\u1ed1 l\u01b0\u1ee3ng qu\xe0 h\xf4m nay \u0111\xe3 h\u1ebft vui l\xf2ng quay l\u1ea1i v\xe0o ng\xe0y mai";case-69:return"B\u1ea1n ch\u01b0a ho\xe0n th\xe0nh nhi\u1ec7m v\u1ee5";case-70:return"S\u1ef1 ki\u1ec7n \u0111\xe3 k\u1ebft th\xfac";case-71:return"V\u01b0\u1ee3t qu\xe1 gi\u1edbi h\u1ea1n mua Kim Nguy\xean B\u1ea3o trong ng\xe0y";case-72:return"Ch\u01b0a t\u1edbi th\u1eddi gian nh\u1eadn Kim Nguy\xean B\u1ea3o";case-73:return"B\u1ea1n \u0111\xe3 nh\u1eadn Kim Nguy\xean B\u1ea3o \u0111\u1ee3t n\xe0y r\u1ed3i";case-74:return"Vui l\xf2ng c\u1eadp nh\u1eadt s\u1ed1 \u0111i\u1ec7n tho\u1ea1i";case-75:return"B\u1ea1n kh\xf4ng \u0111\u1ee7 Kim Nguy\xean B\u1ea3o";case-76:return"B\u1ea1n kh\xf4ng \u0111\u1ee7 m\u1ea3nh gh\xe9p \u0111\u1ec3 \u0111\u1ed5i";case-77:return"B\u1ea1n \u0111\xe3 \u0111\u1ea1t gi\u1edbi h\u1ea1n t\xedch l\u0169y KNB. H\xe3y quay V\xf2ng quay S\u0103n th\u01b0\u1edfng \u0111\u1ec3 ti\xeau hao b\u1edbt KNB \u0111ang c\xf3";case-99:return e.system_busy;case-101:return e.account_locked;case-102:return e.error_transaction_money;case-103:return e.null_otp;case-104:return e.error_invalid_otp;case-105:return e.null_phone;case-106:return"Vui l\xf2ng li\xean h\u1ec7 nh\xe0 ph\xe1t h\xe0nh \u0111\u1ec3 nh\u1eadn qu\xe0";case-107:return e.close_api;case-108:return e.error_input;case-109:return e.error_data}},t.Instance=null,t=e=o([p],t)}());n.default=d,cc._RF.pop()},{"../Data/Constants":"Constants","../Data/GameConfigs":"GameConfigs","../Data/GameData":"GameData","../Data/LabelHelperConfigs":"LabelHelperConfigs","../Libs/MD5":"MD5","./WsHandler":"WsHandler"}],Constants:[function(t,e,n){"use strict";cc._RF.push(e,"5da10HZUPdE0LETERvogdpu","Constants");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=(i.property,function(){function t(){}return t.LANGUAGE="LANGUAGE",t.LAUNCH_APP_FIRST_TIME="LAUNCH_APP_FIRST_TIME",t.IS_SOUND=!0,t.NOT_MONEY_FISH=!1,t.ADMIN=!1,t.IS_SEND_PONG=!1,t.EVENT_OPEN=[],t.LIST_DATE_EVENT=[],t.ALL_EVENT=[],t.EVENT_LOBBY={LOGIN_DONE:"LOGIN_DONE",LOGIN_FB:"LOGINFACEBOOK",LOG_OUT:"LOG_OUT",LOG_OUT_SUCCESS:"LOG_OUT_SUCCESS",UPDATE_NICK_DONE:"UPDATE_NICK_DONE",UPDATE_BALANCE:"UPDATE_BALANCE",UPDATE_FISHCOIN:"UPDATE_FISHCOIN",ERROR_CONNECT:"ERROR_CONNECT",UPDATE_PHONE:"UPDATE_PHONE",UPDATE_PHONE_FAIL:"UPDATE_PHONE_FAIL",SHOW_ICON_MINI_GAME:"SHOW_ICON_MINI_GAME",CARD_BACK_LOBBY_EVENT:"CARD_BACK_LOBBY_EVENT",NOTI_MAIL:"NOTI_MAIL",UPDATE_VIP_INFO:"UPDATE_VIP_INFO",NOTIFICATION:"NOTIFICATION",OPEN_TX:"OPEN_TX",AVATAR:"AVATAR",CLOSE_JP:"CLOSE_JP",CLOSE_TX_MINI:"CLOSE_TX_MINI",DONE_VQMM:"DONE_VQMM",HIDE_JP:"HIDE_JP",HQ_OPTION:"HQ_OPTION",OPEN_DV:"OPEN_DV",OPEN_BABA:"OPEN_BABA",OPEN_HL:"OPEN_HL",OPEN_TD:"OPEN_TD",OPEN_MP:"OPEN_MP",CONFIRM_LOG_OUT:"CONFIRM_LOG_OUT",SECURITY_FB:"SECURITY_FB",LIST_HONOR:"LIST_HONOR",FB_LOGIN_WEB_DONE:"FB_LOGIN_WEB_DONE",SHOW_JP:"SHOW_JP",RECEIVE_TRANSFER:"RECEIVE_TRANSFER",CHOSE_MINI:"CHOSE_MINI"},t.EVENT_TD={INFO:"INFO",PLAY:"PLAY",HISTORY:"HISTORY",HISTORY_DETAIL:"HISTORY_DETAIL",HONOR:"HONOR",HISTORY_JACKPOT:"HISTORY_JACKPOT"},t.EVENT_TIENHIEP={BONUS_20:"BONUS_20",STOP_COUNT_DOWN_20:"STOP_COUNT_DOWN_20",COUNT_DOWNX2:10,STOP_X2:"STOP_X2"},t.EVENT_LONGHO={BONUS_20:"BONUS_20",STOP_COUNT_DOWN_20:"STOP_COUNT_DOWN_20",COUNT_DOWNX2:10,STOP_X2:"STOP_X2"},t.EVENT_HILOW={PARSE_ACC_DONE:"PARSE_ACC_DONE"},t.EVENT_TAIXIU={TAIXIU_HANDLER:"TAIXIU_HANDLER",INFO_BET:"INFO_BET",TOP_TEN:"TOP_TEN",EVENT_TX:"EVENT_TX",WIN_EVENT:"WIN_EVENT",LOSE_EVENT:"LOSE_EVENT",PIN:"PIN",UNPIN:"UNPIN",GET_EVENT:"GET_EVENT",PROCESS_DICE:"PROCESS_DICE",MESS_DONE:"MESS_DONE",SHOW_EVENT_DT:!1},t.EVENT_GOLD={SPIN:"SPIN",RANK:"RANK",HISTORY:"HISTORY",ERROR:"ERROR"},t.isChoseRoomCard=!1,t.NT_BONUS_25="NT_BONUS_25",t.NT_NEXT_BONUS_25="NT_NEXT_BONUS_25",t.NT_STOP_COUNT_DOWN_25="NT_STOP_COUNT_DOWN_25",t.NT_COUNT_DOWNX2=15,t.NT_STOP_X2="NT_STOP_X2",t.zOderGame={ADS:1e5,POP_UP:1e4,HANDLE_MINI:1},t.PT_EVENT={ACCOUNT_INFO:"ACCOUNT_INFO",SPIN_GAME:"SPIN_GAME",STEAL:"STEAL",STEAL_LIST:"STEAL_LIST",UPDATE_PT_POINT:"UPDATE_PT_POINT",UPDATE_KNB:"UPDATE_KNB",BACK_SPIN:"BACK_SPIN",GET_TOP:"GET_TOP",GET_HONOR:"GET_HONOR",GET_GIFT:"GET_GIFT",RECEIVE_GIFT:"RECEIVE_GIFT",GET_HISTORY:"GET_HISTORY",CUR_RANK:"CUR_RANK",ON_JP:"ON_JP",HISTORY_POINT:"HISTORY_POINT",ON_MESS:"ON_MESS"},t.LH_EVENT={GET_LIST_ROOM_SUCCESS:"GET_LIST_ROOM_SUCCESS",LIST_ROOM:"LIST_ROOM",LIST_USER:"LIST_USER",READY_TIME:"READY_TIME",BATTLE_START:"BATTLE_START",BET:"BET",BET_SHOW:"BET_SHOW",SEEK:"SEEK",HOST:"HOST",HOST_TIME:"HOST_TIME",LIST_HOST:"LIST_HOST",BET_TIME:"BET_TIME",RESULT:"RESULT",END_TIME:"END_TIME",REGISTER_LEAVE:"REGISTER_LEAVE",LEAVE_GAME:"LEAVE_GAME"},t.EVENT_TaiPhu={EFFECT_WILD:"COWBOY_EFFECT_WILL",BONUS_25:"COWBOY_BONUS_25",RESET_CD_25:"COWBOY_RESET_CD_25",COUNT_DOWNX2:10},t.EVENT_API={LOGIN:"login",LOGIN_GAME:"login_game",LOGINFB:"login_fb",REGISTER:"register",CHANGE_NICK:"change_nick",FREEZE_BALANCE:"freeze_balance",UNFREEZE_BALANCE:"unfreeze_balance",CHANGE_PASSWORD:"change_password",TRANSFER_MONEY:"transfer_money",GET_NICK:"get_nick",GET_BALANCE:"get_balance",GET_CAPTCHA:"get_captcha",GET_NOTIFICATION:"get_notification",HISTORY_CHARGE:"history_charge",HISTORY_TRANSFER:"history_transfer",HISTORY_CASHOUT:"history_cashout",HISTORY_GAME:"historygame",HISTORY_SYSTEM:"history_system",GET_EVENT_RANK:"get_event_rank",GET_AWARD:"get_award",SHOW_DATE_EVENT:"get_list_date_event",LUCKY_TURBO:"lucky_turbo",GAME_RANK:"gamerank",GIFT_BOX:"gift_box",UPDATE_AVATAR:"update_avatar",FORGET_PASS_OTP:"forget_password_otp",GET_OTP:"get_otp",SECURITY:"security",USE_GIFTCODE:"use_giftcode",GET_MAILBOX:"get_mailbox",READ_MAILBOX:"read_mailbox",GET_AWARD_MAILBOX:"get_award_mailbox",DELETE_MAILBOX:"delete_mailbox",VERIFY_PHONE:"verify_phone",UPDATE_PHONE_ACCOUNT_KIT:"update_phone_account_kit",UPDATE_PHONE:"update_phone",ACTIVE_PHONE:"active_phone",REMOVE_PHONE:"remove_phone",CHANGE_VIPPOINT:"change_vippoint",GET_TOP_VIP:"get_top_vip",GET_VIPPOINT:"get_vip",GET_VIP_INFO:"get_vip_info",GET_USER_INFO:"get_userinfo",LIST_IAP:"list_iap",CLOSE:"close",SPIN_VQMM:"spin_vqmm",LIST_MERCHANT:"list_merchant",CHARGE_CARD:"charge_card",CASH_OUT:"cash_out",RE_CHARGE_CARD:"re_charge_card",LIST_DATE_EVENT:"list_date_event",TOP_EVENT:"top_event",GET_EVENT_QUEST:"get_event_quest",GET_EVENT_INFO:"get_event_info",RECEIVE_EVENT_PRIZE:"receive_event_prize",GET_TIME_VIPPOINT:"get_time_vippoint",GET_EVENT_OPEN:"get_event_show",GET_ALL_EVENT:"get_all_event",GET_EVENT_ALPHA:"get_event_alpha",GET_INFO_MOMO:"get_info_momo",GET_RICE_LUNAR:"get_rice_lunar",GET_ITEMS_LUNAR:"get_items_lunar",ROLL_RICE_LUNAR:"roll_rice_lunar",BUILD_PIECES_LUNAR:"build_pieces_lunar",CHARGE_EVENT_LUNAR:"charge_event_lunar",CLAIM_RICE_FREE_LUNAR:"claim_rice_free_lunar",RECEIVE_AWARD_LUNAR:"receive_award_lunar",GET_TOP_LUNAR:"get_top_lunar",BUY_KNB:"buy_knb",GET_KNB_FREE:"get_knb_free",GET_PRICE:"get_price",GET_KNB_HOUR:"get_knb_hour"},t.NETWORK_TYPE={MOMO:0,VIETTEL:1,MOBI:2,VINA:3},t=o([a],t)}());n.default=c,cc._RF.pop()},{}],CountDownBanner:[function(t,e,n){"use strict";cc._RF.push(e,"6ff35NxCAhLyrf60m9k5BFn","CountDownBanner");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbCountDown=null,e.interCountDown=null,e}return o(e,t),e.prototype.countDownBanner=function(t){var e=this;try{var n=t.split("-"),o=new Date(n[0],n[1]-1,n[2]).getTime();this.interCountDown=setInterval(function(){var t=(new Date).getTime(),n=o-t,i=Math.floor(n/864e5),a=Math.floor(n%864e5/36e5),c=Math.floor(n%36e5/6e4),s=Math.floor(n%6e4/1e3),r=a>=10?a:"0"+a,l=c>=10?c:"0"+c,u=s>=10?s:"0"+s;n<0?clearInterval(e.interCountDown):null!=e.lbCountDown&&(e.lbCountDown.string="K\u1ebft th\xfac trong: "+i+" ng\xe0y - "+r+":"+l+":"+u)},1e3)}catch(t){}},e.prototype.countDownXHu=function(t,e){var n=this;try{var o=t.split("/"),i=e.split(":"),a=new Date(o[2],o[1]-1,o[0],i[0],i[1],i[2]).getTime();this.interCountDown=setInterval(function(){var t=(new Date).getTime(),e=a-t,o=(Math.floor(e/864e5),Math.floor(e%864e5/36e5)),i=Math.floor(e%36e5/6e4),c=Math.floor(e%6e4/1e3),s=o>=10?o:"0"+o,r=i>=10?i:"0"+i,l=c>=10?c:"0"+c;e<0?clearInterval(n.interCountDown):null!=n.lbCountDown&&(n.lbCountDown.string=s+":"+r+":"+l)},1e3)}catch(t){}},e.prototype.onDestroy=function(){clearInterval(this.interCountDown)},i([s(cc.Label)],e.prototype,"lbCountDown",void 0),e=i([c],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],DNTCBonus:[function(t,e,n){"use strict";cc._RF.push(e,"093d8dwXchNQa9L0EPSXGwr","DNTCBonus");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utilities/Utility"),c=t("./DNTCHandler"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbCountDown=null,e.frameMultiple=[],e.sprMultiple=null,e.lbWin=null,e.nodeWin=null,e.board=null,e.btnPlay=null,e.audioBonus=null,e.timeBonus=15,e.onCallback=function(){},e.result=null,e.multiple=null,e.win=0,e.intervalCountdown=null,e.list=[{mul:2.5,rot:20},{mul:3,rot:60},{mul:5,rot:270},{mul:1.75,rot:-50},{mul:2,rot:-20},{mul:8.5,rot:20},{mul:10,rot:60},{mul:16,rot:270},{mul:6,rot:-50},{mul:6.5,rot:-20},{mul:19,rot:20},{mul:22,rot:60},{mul:40,rot:270},{mul:13.5,rot:-50},{mul:15,rot:-20}],e}return o(e,t),e.prototype.init=function(){cc.audioEngine.stopMusic(),c.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playMusic(this.audioBonus,!0),this.timeBonus=15,this.btnPlay.interactable=!0,this.nodeWin.active=!1;var t=c.DNTCHandler.getInstance().dataSpinGame.bonus_string.split(",");this.multiple=t[0],this.win=t[2];var e=0;switch(+this.multiple){case 22:e=0;break;case 23:e=1;break;case 24:e=2}this.sprMultiple.spriteFrame=this.frameMultiple[e];for(var n=0,o=this.list;n<o.length;n++){var i=o[n];if(i.mul==t[1]){this.result=i.rot;break}}this.runTime()},e.prototype.onBtnPlay=function(){var t=this;clearInterval(this.intervalCountdown),this.btnPlay.interactable=!1,this.board.runAction(cc.sequence(cc.rotateBy(.5,720),cc.rotateTo(2,this.result),cc.delayTime(1),cc.callFunc(function(){t.nodeWin.active=!0,t.lbWin.string=a.Utility.getInstance().numberToCurrency(t.win),t.btnPlay.interactable=!1,t.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){c.DNTCHandler.getInstance().processFinishBonus(),t.onCallback()})))})))},e.prototype.runTime=function(){var t=this;this.intervalCountdown=setInterval(function(){t.lbCountDown.string=t.timeBonus+"",t.timeBonus--,0==t.timeBonus&&(t.nodeWin.active=!0,t.lbWin.string=a.Utility.getInstance().numberToCurrency(t.win),t.btnPlay.interactable=!1,t.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){c.DNTCHandler.getInstance().processFinishBonus(),t.onCallback()}))),clearInterval(t.intervalCountdown))},1e3)},e.prototype.onDisable=function(){clearInterval(this.intervalCountdown)},e.prototype.onDestroy=function(){clearInterval(this.intervalCountdown)},i([l(cc.Label)],e.prototype,"lbCountDown",void 0),i([l(cc.SpriteFrame)],e.prototype,"frameMultiple",void 0),i([l(cc.Sprite)],e.prototype,"sprMultiple",void 0),i([l(cc.Label)],e.prototype,"lbWin",void 0),i([l(cc.Node)],e.prototype,"nodeWin",void 0),i([l(cc.Node)],e.prototype,"board",void 0),i([l(cc.Button)],e.prototype,"btnPlay",void 0),i([l(cc.AudioClip)],e.prototype,"audioBonus",void 0),e=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","./DNTCHandler":"DNTCHandler"}],DNTCController:[function(t,e,n){"use strict";cc._RF.push(e,"bf713H5ft1Lk5lxE97IbzFW","DNTCController");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Data/Constants"),s=t("../../Common/Utilities/Utility"),r=t("../../Common/Data/GameData"),l=t("../../Common/Data/GameConfigs"),u=t("../../Common/UI/Notification"),p=t("../../Common/Data/LabelHelperConfigs"),d=t("../../scenemanager/scripts/SceneManager"),h=t("./DNTCScroll"),f=t("./DNTCBonus"),_=t("./DNTCHandler"),g=t("./DNTCEntry"),m=t("./DNTCLine"),y=cc._decorator,v=y.ccclass,b=y.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Type_Btn={AUTO:0,STOP_AUTO:1,SPEDD:2,STOP_SPEED:3,SPIN:4},e.list_btn=[],e.SPEED_RUN={DEFAULT:.6,AUTO:.6,SPEED:.2},e.Type_Spin={DEFAULT:0,AUTO:1,SPEED:2,NONE:3},e.isSpin=e.Type_Spin.NONE,e.line_stt=0,e.prefabLine=null,e.nodeLine=null,e.listScrollView=[],e.txtBalance=null,e.txtJackpot=null,e.txtMoneyBet=null,e.txtMoneyWin=null,e.txtRoomValue=null,e.txtTotalLine=null,e.txtSession=null,e.prefabBonus=null,e.prefabBigWin=null,e.prefabJackpot=null,e.prefaMegaWin=null,e.prefabWin=null,e.nodeFX=null,e.nodeEffectFull=null,e.nodeBonus=null,e.notiPrefab=null,e.prefabGuide=null,e.prefabHistory=null,e.prefabRank=null,e.prefabTop=null,e.audioBG=null,e.audioBonus=null,e.audioMoney=null,e.audioWin=null,e.audioBigWin=null,e.audioMegaWin=null,e.audioJackpot=null,e.audioBtnAuto=null,e.audioBtnSpin=null,e.audioBtnClick=null,e.btnAudioOn=null,e.btnAudioOff=null,e.nodeContentAll=null,e.btnBack=null,e.btnLine=null,e.btnFreeNo=null,e.btnFreeYes=null,e.btnNextRoom=null,e.btnPreRoom=null,e.nodeFree=null,e.language=null,e.moneyBet=3e3,e}return o(e,t),e.prototype.onLoad=function(){_.DNTCHandler.getInstance().room_id=g.DNTCEntry.ROOM.R_100.id,_.DNTCHandler.getInstance().line_tring="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30",_.DNTCHandler.getInstance().line_data=_.DNTCHandler.getInstance().line_tring.split(","),_.DNTCHandler.getInstance().isFree=!1,this.loadItem(),this.registerAllEvent(),_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playMusic(this.audioBG,!0),this.language=p.TextData[r.default.getInstance().UserData.textPackage],_.DNTCHandler.getInstance().dataJackpot=[5e5,5e6,5e7],this.onJackpot()},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},e.prototype.loadItem=function(){this.renderRoom()},e.prototype.registerAllEvent=function(){_.DNTCHandler.getInstance().onSpinGame=this.onSpinGame.bind(this),_.DNTCHandler.getInstance().onJackpot=this.onJackpot.bind(this),_.DNTCHandler.getInstance().onFinisBonus=this.onFinisBonus.bind(this),_.DNTCHandler.getInstance().onFirstBonus=this.onFirstBonus.bind(this),_.DNTCHandler.getInstance().onRankEvent=this.onRankEvent.bind(this),this.listScrollView[4].getComponent(h.default).onPlayDone=this.onPlayDone.bind(this),this.nodeBonus.onCallback=this.endBonus.bind(this),cc.systemEvent.on(c.default.EVENT_LOBBY.UPDATE_BALANCE,this.updateBalance2.bind(this),this)},e.prototype.onRankEvent=function(t){},e.prototype.updateBalance2=function(){this.txtBalance.money=r.default.getInstance().UserData.balance},e.prototype.updateBalance=function(t){r.default.getInstance().UserData.balance=t,this.txtBalance.money=t},e.prototype.onFinisBonus=function(t){this.updateBalance(t.balance)},e.prototype.onFirstBonus=function(t){this.showNoti("Bonus, b\u1ea1n th\u1eafng "+s.Utility.getInstance().abbrNum(parseInt(t.bonus_prize)),2),this.updateBalance(t.balance)},e.prototype.onPlayDone=function(){var t=this;this.line_stt=0,this.isSpin==this.Type_Spin.DEFAULT?this.ShowAllLine(function(){t.showOneLine()}):this.ShowAllLine(function(){});var e=.5,n=_.DNTCHandler.getInstance().list_wild;n.length>0&&(e=1.5,n.length>=3&&(e=5,this.node.runAction(cc.sequence(cc.delayTime(1.2),cc.callFunc(function(){t.nodeEffectFull.active=!0,t.nodeEffectFull.scaleX=0,t.nodeEffectFull.runAction(cc.scaleTo(.3,1,1))}))))),this.nodeContentAll.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){_.DNTCHandler.getInstance().dataSpinGame.bonus_string?t.showBonus():t.checkResults()})))},e.prototype.showBonus=function(){var t=this,e=cc.instantiate(this.prefabBonus);cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP),e.name="TS_effect_bonus",_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBonus,!1),this.nodeContentAll.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){var t=cc.director.getScene().getChildByName("TS_effect_bonus");t&&t.destroy()}))),this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){t.nodeBonus.node.active=!0,t.nodeBonus.init()})))},e.prototype.endBonus=function(){this.nodeBonus.node.active=!1,this.checkResults(),_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playMusic(this.audioBG,!0)},e.prototype.checkResults=function(){var t=this,e=_.DNTCHandler.getInstance().dataSpinGame;if(this.showMoneyWin(),e.jackpot_winner<=0){var n=.2;e.total_prize>0&&(n=1.5),e.total_prize>=5*e.total_bet&&(n=3),e.total_prize>=8*e.total_bet&&(n=5),this.nodeLine.runAction(cc.sequence(cc.delayTime(n),cc.callFunc(function(){t.endShowResults()})))}},e.prototype.showMoneyWin=function(){var t=_.DNTCHandler.getInstance().dataSpinGame;this.txtMoneyWin.money=t.total_prize;var e;g.DNTCEntry.ROOM.R_10k.value;if(_.DNTCHandler.getInstance().room_id==g.DNTCEntry.ROOM.R_100.id&&g.DNTCEntry.ROOM.R_100.value,_.DNTCHandler.getInstance().room_id==g.DNTCEntry.ROOM.R_1k.id&&g.DNTCEntry.ROOM.R_1k.value,this.nodeFX.getChildByName("content").removeAllChildren(),this.nodeFX.getChildByName("bg").active=!0,t.jackpot_winner>0)return _.DNTCHandler.getInstance().isAudio&&(cc.audioEngine.playEffect(this.audioJackpot,!1),cc.audioEngine.playEffect(this.audioMoney,!1)),(e=cc.instantiate(this.prefabJackpot)).getChildByName("money").getComponent(a.default).runNumber(t.total_prize,!0),this.nodeFX.active=!0,void this.nodeFX.getChildByName("content").addChild(e);if(t.total_prize>=8*t.total_bet)return _.DNTCHandler.getInstance().isAudio&&(cc.audioEngine.playEffect(this.audioMegaWin,!1),cc.audioEngine.playEffect(this.audioMoney,!1)),(e=cc.instantiate(this.prefaMegaWin)).getChildByName("money").getComponent(a.default).runNumber(t.total_prize,!0),this.nodeFX.active=!0,void this.nodeFX.getChildByName("content").addChild(e);if(t.total_prize>=5*t.total_bet)return _.DNTCHandler.getInstance().isAudio&&(cc.audioEngine.playEffect(this.audioBigWin,!1),cc.audioEngine.playEffect(this.audioMoney,!1)),(e=cc.instantiate(this.prefabBigWin)).getChildByName("money").getComponent(a.default).runNumber(t.total_prize,!0),this.nodeFX.active=!0,void this.nodeFX.getChildByName("content").addChild(e);if(t.total_prize>0){_.DNTCHandler.getInstance().isAudio&&(cc.audioEngine.playEffect(this.audioWin,!1),cc.audioEngine.playEffect(this.audioMoney,!1));var n=cc.instantiate(this.prefabWin);return n.getChildByName("money").getComponent(a.default).runNumber(t.total_prize,!0),this.nodeFX.active=!0,this.nodeFX.getChildByName("content").addChild(n),this.nodeFX.getChildByName("bg").active=!1,n.setScale(0,0),void n.runAction(cc.sequence(cc.scaleTo(.05,1,1),cc.delayTime(1),cc.moveTo(.5,0,50),cc.callFunc(function(){n.active=!1})))}},e.prototype.endShowResults=function(){this.nodeEffectFull.active=!1;var t=_.DNTCHandler.getInstance().dataSpinGame;if(_.DNTCHandler.getInstance().isFree){this.list_btn[this.Type_Btn.SPIN].interactable=!0,this.btnFreeNo.interactable=!0,this.btnFreeYes.interactable=!0;var e=_.DNTCHandler.getInstance();t.jackpot_winner>0?e.DataFree.jackpot=5e7:e.DataFree.jackpot+=4e3,e.DataFree.balance+=t.total_prize,this.txtJackpot.money=e.DataFree.jackpot,this.txtBalance.money=e.DataFree.balance,this.btnBack.interactable=!0,this.isSpin=this.Type_Spin.NONE,this.nodeFX.active=!1}else this.updateBalance(t.balance),this.isSpin==this.Type_Spin.SPEED||this.isSpin==this.Type_Spin.AUTO?(this.callPlaySpin(),this.nodeFX.getChildByName("content").removeAllChildren(),this.nodeFX.active=!1):(this.isSpin=this.Type_Spin.NONE,this.nodeFX.active=!1,this.activeAllBtn(!0))},e.prototype.onJackpot=function(){var t=_.DNTCHandler.getInstance().dataJackpot,e=_.DNTCHandler.getInstance().room_id,n=0;e==g.DNTCEntry.ROOM.R_100.id&&(n=parseInt(t[0])),e==g.DNTCEntry.ROOM.R_1k.id&&(n=parseInt(t[1])),e==g.DNTCEntry.ROOM.R_10k.id&&(n=parseInt(t[2])),cc.systemEvent.emit("THAN_SAM_JACKPOT_HELP",{value:t,stt:e-1}),_.DNTCHandler.getInstance().isFree||(this.txtJackpot.money=n)},e.prototype.onSpinGame=function(){var t=_.DNTCHandler.getInstance().dataSpinGame;switch(t.exec_result){case-4:case-104:return this.showNotMoney(),this.activeAllBtn(!0),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!1,this.list_btn[this.Type_Btn.AUTO].node.active=!0,this.list_btn[this.Type_Btn.SPEDD].node.active=!0,void(this.isSpin=this.Type_Spin.NONE);case-102:return void this.showErrorSpin("T\xe0i kho\u1ea3n b\u1ecb kh\xf3a");case-103:return void this.showErrorSpin("\u0110\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c ch\u01a1i game");case-150:return void this.showErrorSpin(this.language.system_busy)}if(_.DNTCHandler.getInstance().room_id!=g.DNTCEntry.ROOM.R_Test.id){var e=g.DNTCEntry.ROOM.R_10k.value;if(_.DNTCHandler.getInstance().room_id==g.DNTCEntry.ROOM.R_100.id&&(e=g.DNTCEntry.ROOM.R_100.value),_.DNTCHandler.getInstance().room_id==g.DNTCEntry.ROOM.R_1k.id&&(e=g.DNTCEntry.ROOM.R_1k.value),_.DNTCHandler.getInstance().isFree)_.DNTCHandler.getInstance().DataFree.balance-=30*g.DNTCEntry.ROOM.R_10k.value,this.txtBalance.money=_.DNTCHandler.getInstance().DataFree.balance;else{var n=r.default.getInstance().UserData.balance-_.DNTCHandler.getInstance().line_data.length*e;this.txtBalance.money=n}}this.txtSession.string="#"+t.spin_id;var o=!1,i=this.SPEED_RUN.DEFAULT;this.isSpin==this.Type_Spin.SPEED&&(o=!0,i=this.SPEED_RUN.SPEED);for(var a=0;a<this.listScrollView.length;a++)this.listScrollView[a].setSpinFast(o),this.listScrollView[a].startScroll(i)},e.prototype.ShowAllLine=function(t){for(var e=this,n=1;n<=30;n++)this.nodeLine.getChildByName(n.toString()).active=!1;if(!(_.DNTCHandler.getInstance().listLine.length<1)){var o=_.DNTCHandler.getInstance().listLine;for(n=0;n<o.length;n++)o[n]&&this.nodeLine.getChildByName(o[n].toString())&&(this.nodeLine.getChildByName(o[n].toString()).active=!0);this.nodeLine.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){for(var n=1;n<=30;n++)e.nodeLine.getChildByName(n.toString()).active=!1;t&&t()})))}},e.prototype.showOneLine=function(){for(var t=this,e=1;e<=30;e++)this.nodeLine.getChildByName(e.toString()).active=!1;if(!(_.DNTCHandler.getInstance().listLine.length<1)){var n=_.DNTCHandler.getInstance().listLine;this.line_stt>=n.length&&(this.line_stt=0);var o=n[this.line_stt];if(o){if(o<1||o>30)return;for(e=1;e<=30;e++)this.nodeLine.getChildByName(e.toString()).active=!1;this.nodeLine.getChildByName(o.toString()).active=!0,this.nodeLine.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){t.nodeLine.getChildByName(o.toString()).active=!1}),cc.delayTime(.5),cc.callFunc(function(){t.line_stt++,t.showOneLine()})))}}},e.prototype.activeAllBtn=function(t){for(var e in this.list_btn)this.list_btn[e].interactable=t;this.btnBack.interactable=t,this.btnLine.interactable=t,this.btnFreeNo.interactable=t,this.btnFreeYes.interactable=t,t?this.checkBtnSelectRoom():(this.btnNextRoom.interactable=t,this.btnPreRoom.interactable=t)},e.prototype.renderRoom=function(){var t=g.DNTCEntry.ROOM.R_10k.value;_.DNTCHandler.getInstance().room_id==g.DNTCEntry.ROOM.R_100.id&&(t=g.DNTCEntry.ROOM.R_100.value),_.DNTCHandler.getInstance().room_id==g.DNTCEntry.ROOM.R_1k.id&&(t=g.DNTCEntry.ROOM.R_1k.value),this.txtTotalLine.string=_.DNTCHandler.getInstance().line_data.length+"",this.txtMoneyBet.money=_.DNTCHandler.getInstance().line_data.length*t,this.txtRoomValue.string=s.Utility.getInstance().numberToCurrency(t),this.moneyBet=_.DNTCHandler.getInstance().line_data.length*t,this.txtBalance.money=r.default.getInstance().UserData.balance,this.checkBtnSelectRoom()},e.prototype.checkBtnSelectRoom=function(){this.btnNextRoom.interactable=!0,this.btnPreRoom.interactable=!0,_.DNTCHandler.getInstance().room_id==g.DNTCEntry.ROOM.R_100.id&&(this.btnPreRoom.interactable=!1),_.DNTCHandler.getInstance().room_id==g.DNTCEntry.ROOM.R_10k.id&&(this.btnNextRoom.interactable=!1)},e.prototype.callPlaySpin=function(){_.DNTCHandler.getInstance().listLine=[],_.DNTCHandler.getInstance().list_wild=[],_.DNTCHandler.getInstance().dataSpinGame={},this.nodeLine.stopAllActions(),this.nodeFX.getChildByName("content").removeAllChildren(),this.nodeFX.active=!1;for(var t=1;t<30;t++)this.nodeLine.getChildByName(t.toString()).active=!1;_.DNTCHandler.getInstance().isConnect?_.DNTCHandler.getInstance().processSpin():this.showErrorSpin("H\u1ec7 th\u1ed1ng b\u1eadn vui l\xf2ng th\u1eed l\u1ea1i sau")},e.prototype.showErrorSpin=function(t){this.showNoti(t,2),this.activeAllBtn(!0),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!1,this.list_btn[this.Type_Btn.AUTO].node.active=!0,this.list_btn[this.Type_Btn.SPEDD].node.active=!0,this.isSpin=this.Type_Spin.NONE},e.prototype.showNoti=function(t,e){var n=cc.instantiate(this.notiPrefab);n.getComponent("Notification").showDialog(e),n.getComponent("Notification").setContent(t),cc.director.getScene().addChild(n,l.GameConfigs.zOderGame.POP_UP)},e.prototype.showNotMoney=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent(u.default).setContent(this.language.no_enough_balance),t.getComponent(u.default).showNotMoney(),cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.clickSpin=function(){_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnSpin,!1),r.default.getInstance().UserData.balance<this.moneyBet?this.showNotMoney():(this.isSpin=this.Type_Spin.DEFAULT,this.activeAllBtn(!1),this.callPlaySpin())},e.prototype.clickAuto=function(){_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnAuto,!1),this.isSpin=this.Type_Spin.AUTO,this.activeAllBtn(!1),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!0,this.list_btn[this.Type_Btn.AUTO].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!1,this.list_btn[this.Type_Btn.SPEDD].node.active=!0,this.list_btn[this.Type_Btn.STOP_AUTO].interactable=!0,this.callPlaySpin()},e.prototype.clickStopAuto=function(){_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),this.isSpin=this.Type_Spin.DEFAULT,this.activeAllBtn(!1),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!1,this.list_btn[this.Type_Btn.AUTO].node.active=!0,this.list_btn[this.Type_Btn.SPEDD].node.active=!0},e.prototype.clickSpeed=function(){_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnAuto,!1),this.isSpin=this.Type_Spin.SPEED,this.activeAllBtn(!1),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!1,this.list_btn[this.Type_Btn.AUTO].node.active=!0,this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!0,this.list_btn[this.Type_Btn.SPEDD].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].interactable=!0,this.callPlaySpin()},e.prototype.clickStopSpeed=function(){_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),this.isSpin=this.Type_Spin.DEFAULT,this.activeAllBtn(!1),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!1,this.list_btn[this.Type_Btn.AUTO].node.active=!0,this.list_btn[this.Type_Btn.SPEDD].node.active=!0},e.prototype.clickAddRoom=function(){_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),this.isSpin==this.Type_Spin.NONE&&_.DNTCHandler.getInstance().room_id!=g.DNTCEntry.ROOM.R_10k.id&&(_.DNTCHandler.getInstance().listLine=[],_.DNTCHandler.getInstance().room_id==g.DNTCEntry.ROOM.R_1k.id&&(_.DNTCHandler.getInstance().room_id=g.DNTCEntry.ROOM.R_10k.id),_.DNTCHandler.getInstance().room_id==g.DNTCEntry.ROOM.R_100.id&&(_.DNTCHandler.getInstance().room_id=g.DNTCEntry.ROOM.R_1k.id),this.renderRoom(),this.onJackpot())},e.prototype.clickMinusRoom=function(){_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),this.isSpin==this.Type_Spin.NONE&&_.DNTCHandler.getInstance().room_id!=g.DNTCEntry.ROOM.R_100.id&&(_.DNTCHandler.getInstance().listLine=[],_.DNTCHandler.getInstance().room_id==g.DNTCEntry.ROOM.R_1k.id&&(_.DNTCHandler.getInstance().room_id=g.DNTCEntry.ROOM.R_100.id),_.DNTCHandler.getInstance().room_id==g.DNTCEntry.ROOM.R_10k.id&&(_.DNTCHandler.getInstance().room_id=g.DNTCEntry.ROOM.R_1k.id),this.renderRoom(),this.onJackpot())},e.prototype.clickGuide=function(){if(_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),!cc.director.getScene().getChildByName("DNTC_popup_guide")){var t=cc.instantiate(this.prefabGuide);cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP),t.name="bupg_popup_guide"}},e.prototype.clickRank=function(){if(_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),!cc.director.getScene().getChildByName("DNTC_popup_rank")){var t=cc.instantiate(this.prefabRank);cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP),t.name="DNTC_popup_rank"}},e.prototype.clickTop=function(){if(_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),!cc.director.getScene().getChildByName("DNTC_popup_top")){var t=cc.instantiate(this.prefabTop);cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP),t.name="DNTC_popup_top"}},e.prototype.clickHistory=function(){if(_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),!cc.director.getScene().getChildByName("DNTC_popup_history")){var t=cc.instantiate(this.prefabHistory);cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP),t.name="DNTC_popup_history"}},e.prototype.clickSelectLine=function(){if((_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),this.isSpin==this.Type_Spin.NONE)&&!cc.director.getScene().getChildByName("ts_popup_choneline")){var t=cc.instantiate(this.prefabLine);cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP),t.name="ts_popup_choneline",t.x=640,t.y=360,t.getComponent(m.default).onCallback=this.renderRoom.bind(this)}},e.prototype.clickBackLobby=function(){this.isSpin==this.Type_Spin.NONE&&(_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),cc.audioEngine.stopAll(),cc.systemEvent.targetOff(this),_.DNTCHandler.getInstance().clearCallback(),_.DNTCHandler.getInstance().isRequestLeave=!0,_.DNTCHandler.getInstance().closeWS(),d.clientdev.SceneManager.Instance.LoadScene(l.GameConfigs.SceneName.Lobby,function(){}))},e.prototype.clickEndSpin=function(){this.endShowResults()},e.prototype.clickAudio=function(){_.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),_.DNTCHandler.getInstance().isAudio?(this.btnAudioOn.active=!1,this.btnAudioOff.active=!0,cc.audioEngine.stopAll(),_.DNTCHandler.getInstance().isAudio=!1):(this.btnAudioOn.active=!0,this.btnAudioOff.active=!1,cc.audioEngine.playMusic(this.audioBG,!0),_.DNTCHandler.getInstance().isAudio=!0)},e.prototype.clickFree=function(){_.DNTCHandler.getInstance().isFree?(_.DNTCHandler.getInstance().isFree=!1,this.renderRoom(),this.onJackpot(),this.activeAllBtn(!0),this.btnFreeNo.node.active=!1,this.btnFreeYes.node.active=!0,this.nodeFree.active=!1):(_.DNTCHandler.getInstance().isFree=!0,this.RenderFree(),this.btnFreeNo.node.active=!0,this.btnFreeYes.node.active=!1,this.nodeFree.active=!0)},e.prototype.RenderFree=function(){this.txtTotalLine.string="30",this.txtMoneyBet.money=30*g.DNTCEntry.ROOM.R_10k.value,this.txtRoomValue.string=s.Utility.getInstance().numberToCurrency(g.DNTCEntry.ROOM.R_10k.value),_.DNTCHandler.getInstance().DataFree.jackpot=5e7,_.DNTCHandler.getInstance().DataFree.balance=5e7,this.txtJackpot.money=_.DNTCHandler.getInstance().DataFree.jackpot,this.txtBalance.money=_.DNTCHandler.getInstance().DataFree.balance,this.btnNextRoom.interactable=!1,this.btnPreRoom.interactable=!1,this.btnLine.interactable=!1,this.list_btn[this.Type_Btn.AUTO].interactable=!1,this.list_btn[this.Type_Btn.SPEDD].interactable=!1},i([b([cc.Button])],e.prototype,"list_btn",void 0),i([b(cc.Prefab)],e.prototype,"prefabLine",void 0),i([b(cc.Node)],e.prototype,"nodeLine",void 0),i([b(h.default)],e.prototype,"listScrollView",void 0),i([b(a.default)],e.prototype,"txtBalance",void 0),i([b(a.default)],e.prototype,"txtJackpot",void 0),i([b(a.default)],e.prototype,"txtMoneyBet",void 0),i([b(a.default)],e.prototype,"txtMoneyWin",void 0),i([b(cc.Label)],e.prototype,"txtRoomValue",void 0),i([b(cc.Label)],e.prototype,"txtTotalLine",void 0),i([b(cc.Label)],e.prototype,"txtSession",void 0),i([b(cc.Prefab)],e.prototype,"prefabBonus",void 0),i([b(cc.Prefab)],e.prototype,"prefabBigWin",void 0),i([b(cc.Prefab)],e.prototype,"prefabJackpot",void 0),i([b(cc.Prefab)],e.prototype,"prefaMegaWin",void 0),i([b(cc.Prefab)],e.prototype,"prefabWin",void 0),i([b(cc.Node)],e.prototype,"nodeFX",void 0),i([b(cc.Node)],e.prototype,"nodeEffectFull",void 0),i([b(f.default)],e.prototype,"nodeBonus",void 0),i([b(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([b(cc.Prefab)],e.prototype,"prefabGuide",void 0),i([b(cc.Prefab)],e.prototype,"prefabHistory",void 0),i([b(cc.Prefab)],e.prototype,"prefabRank",void 0),i([b(cc.Prefab)],e.prototype,"prefabTop",void 0),i([b(cc.AudioClip)],e.prototype,"audioBG",void 0),i([b(cc.AudioClip)],e.prototype,"audioBonus",void 0),i([b(cc.AudioClip)],e.prototype,"audioMoney",void 0),i([b(cc.AudioClip)],e.prototype,"audioWin",void 0),i([b(cc.AudioClip)],e.prototype,"audioBigWin",void 0),i([b(cc.AudioClip)],e.prototype,"audioMegaWin",void 0),i([b(cc.AudioClip)],e.prototype,"audioJackpot",void 0),i([b(cc.AudioClip)],e.prototype,"audioBtnAuto",void 0),i([b(cc.AudioClip)],e.prototype,"audioBtnSpin",void 0),i([b(cc.AudioClip)],e.prototype,"audioBtnClick",void 0),i([b(cc.Node)],e.prototype,"btnAudioOn",void 0),i([b(cc.Node)],e.prototype,"btnAudioOff",void 0),i([b(cc.Node)],e.prototype,"nodeContentAll",void 0),i([b(cc.Button)],e.prototype,"btnBack",void 0),i([b(cc.Button)],e.prototype,"btnLine",void 0),i([b(cc.Button)],e.prototype,"btnFreeNo",void 0),i([b(cc.Button)],e.prototype,"btnFreeYes",void 0),i([b(cc.Button)],e.prototype,"btnNextRoom",void 0),i([b(cc.Button)],e.prototype,"btnPreRoom",void 0),i([b(cc.Node)],e.prototype,"nodeFree",void 0),e=i([v],e)}(cc.Component);n.DNTCController=C,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/UI/Notification":"Notification","../../Common/UI/NumberRun":"NumberRun","../../Common/Utilities/Utility":"Utility","../../scenemanager/scripts/SceneManager":"SceneManager","./DNTCBonus":"DNTCBonus","./DNTCEntry":"DNTCEntry","./DNTCHandler":"DNTCHandler","./DNTCLine":"DNTCLine","./DNTCScroll":"DNTCScroll"}],DNTCDataFree:[function(t,e,n){"use strict";cc._RF.push(e,"57237v2zGlHU77UolD3yIYs","DNTCDataFree");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.listData=[{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:452479,slot_string:"10,10,4,10,10,7,9,10,1,9,8,10,2,9,8,7,5,10,10",prize_string:"7,19,300000;13,19,300000;19,20,100000;40,19,300000",bonus_string:"",bonus_prize:0,position_string:"1,2,8,4,5;1,2,8,9,5;1,2,8,9;1,12,19,14,5;",total_free:0,total_bet:4e5,total_prize:1e6,x2_start_value:1e6,jackpot_value:57440800,jackpot_winner:0,balance:59e5,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:452656,slot_string:"9,10,8,4,4,5,1,6,9,3,8,9,10,10,8,10,8,1,9",prize_string:"9,15,500000;10,15,500000;15,15,500000;16,15,500000;23,16,100000;39,15,500000;40,18,100000",bonus_string:"",bonus_prize:0,position_string:"11,12,17,14,15;11,16,17,18,15;11,12,17,18,15;11,16,17,14,15;11,16,17,14;11,7,3,9,15;1,12,19,14;",total_free:0,total_bet:4e5,total_prize:27e5,x2_start_value:27e5,jackpot_value:57964800,jackpot_winner:0,balance:66e5,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:452818,slot_string:"7,9,6,10,7,4,1,10,3,2,8,10,8,5,9,9,9,8,1",prize_string:"2,6,100000;4,16,100000;5,6,100000;8,6,100000;10,16,100000;11,6,100000;14,6,100000;15,16,100000;17,6,100000;20,6,100000;21,6,100000;24,6,100000;26,6,100000;30,6,100000;32,16,100000;33,6,100000;35,6,100000;37,6,100000",bonus_string:"",bonus_prize:0,position_string:"6,7,8;11,16,19,18;6,12,17;6,7,13;11,16,17,18;6,12,13;6,7,13;11,12,17,18;6,12,13;6,7,13;6,7,8;6,12,13;6,12,17;6,7,17;11,16,13,18;6,12,8;6,2,3;6,16,19;",total_free:0,total_bet:4e5,total_prize:18e5,x2_start_value:18e5,jackpot_value:58448800,jackpot_winner:0,balance:745e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:452823,slot_string:"7,6,10,9,7,10,5,8,4,2,9,9,9,9,9,10,1,10,8",prize_string:"3,17,400000;9,17,400000;31,17,400000;37,20,100000",bonus_string:"",bonus_prize:0,position_string:"11,12,13,14,15;11,12,17,14,15;11,12,19,14,15;6,16,19,18;",total_free:0,total_bet:4e5,total_prize:13e5,x2_start_value:13e5,jackpot_value:58464800,jackpot_winner:0,balance:835e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:453037,slot_string:"4,1,9,9,3,3,10,4,10,8,10,9,10,1,5,10,2,9,5",prize_string:"3,20,100000;7,5,750000;12,5,750000;13,5,750000;18,5,750000;19,5,750000;22,20,100000;28,20,100000;32,20,100000",bonus_string:"",bonus_prize:0,position_string:"11,12,13,14;1,2,8,4;1,7,8,9;1,2,8,9;1,7,8,4;1,2,8,9;11,12,13,9;11,12,13,9;11,16,13,18;",total_free:0,total_bet:4e5,total_prize:415e4,x2_start_value:415e4,jackpot_value:59116800,jackpot_winner:0,balance:93e5,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:453297,slot_string:"8,1,1,10,10,9,10,8,1,4,5,9,9,9,3,10,4,10,10",prize_string:"1,16,100000;2,18,100000;3,8,350000;4,8,350000;5,18,100000;6,16,100000;7,16,100000;8,18,100000;9,8,350000;10,8,350000;11,18,100000;12,16,100000;13,16,100000;14,18,100000;15,8,350000;16,8,350000;17,18,100000;18,16,100000;19,16,100000;20,18,100000;21,18,100000;22,8,350000;23,8,350000;24,18,100000;25,16,100000;26,18,100000;27,16,100000;28,8,350000;29,16,100000;30,18,100000;31,8,350000;32,8,350000;33,18,100000;34,16,100000;35,18,100000;36,8,350000;37,18,100000;38,16,100000;39,8,350000;40,16,100000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4;6,7,8,9;11,12,13,14;11,16,19,18;6,12,17,14;1,7,13,9;1,2,8,4;6,7,13,9;11,12,17,14;11,16,17,18;6,12,13,14;1,7,8,9;1,2,8,9;6,7,13,14;11,12,17,18;11,16,17,14;6,12,13,9;1,7,8,4;1,2,8,9;6,7,13,14;6,7,8,4;11,12,13,9;11,16,17,14;6,12,13,9;1,7,13,14;6,12,17,18;1,7,13,14;11,12,13,9;1,2,13,4;6,7,17,9;11,12,19,14;11,16,13,18;6,12,8,14;1,7,3,9;6,2,3,4;11,7,8,9;6,16,19,18;1,12,17,14;11,7,3,9;1,12,19,14;",total_free:0,total_bet:4e5,total_prize:725e4,x2_start_value:725e4,jackpot_value:59904800,jackpot_winner:0,balance:1425e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:453471,slot_string:"10,9,3,7,10,6,1,7,8,9,9,10,8,2,6,9,6,6,10",prize_string:"5,12,50000;26,10,1000000;30,12,50000",bonus_string:"",bonus_prize:0,position_string:"6,12,17;6,12,17,18,15;6,7,17;",total_free:0,total_bet:4e5,total_prize:11e5,x2_start_value:11e5,jackpot_value:60416800,jackpot_winner:0,balance:1385e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:453466,slot_string:"4,6,10,10,3,5,5,2,3,9,6,9,5,5,10,10,10,8,3",prize_string:"8,9,100000;14,8,350000;20,8,350000",bonus_string:"",bonus_prize:0,position_string:"6,7,13;6,7,13,14;6,7,13,14;",total_free:0,total_bet:4e5,total_prize:8e5,x2_start_value:8e5,jackpot_value:60396800,jackpot_winner:0,balance:1315e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:453683,slot_string:"9,9,10,10,8,5,1,8,6,10,4,10,9,7,3,9,1,10,8",prize_string:"2,9,100000;3,6,100000;4,6,100000;5,9,100000;8,9,100000;9,6,100000;10,6,100000;11,9,100000;14,9,100000;15,6,100000;16,6,100000;17,9,100000;20,9,100000;21,9,100000;22,6,100000;23,6,100000;24,9,100000;26,9,100000;28,6,100000;30,9,100000;31,6,100000;32,6,100000;33,9,100000;35,9,100000;36,6,100000;37,9,100000;39,6,100000",bonus_string:"",bonus_prize:0,position_string:"6,7,8;11,12,13;11,16,19;6,12,17;6,7,13;11,12,17;11,16,17;6,12,13;6,7,13;11,12,17;11,16,17;6,12,13;6,7,13;6,7,8;11,12,13;11,16,17;6,12,13;6,12,17;11,12,13;6,7,17;11,12,19;11,16,13;6,12,8;6,2,3;11,7,8;6,16,19;11,7,3;",total_free:0,total_bet:4e5,total_prize:27e5,x2_start_value:27e5,jackpot_value:61048800,jackpot_winner:0,balance:525e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:453693,slot_string:"10,8,6,4,4,7,6,10,9,3,8,7,8,10,8,8,9,1,1",prize_string:"4,15,500000;5,14,150000;10,15,500000;11,14,150000;16,15,500000;17,14,150000;23,16,100000;24,14,150000;26,14,150000;32,15,500000;33,14,150000",bonus_string:"",bonus_prize:0,position_string:"11,16,19,18,15;6,12,17,14;11,16,17,18,15;6,12,13,14;11,16,17,14,15;6,12,13,9;11,16,17,14;6,12,13,9;6,12,17,18;11,16,13,18,15;6,12,8,14;",total_free:0,total_bet:4e5,total_prize:3e6,x2_start_value:3e6,jackpot_value:61080800,jackpot_winner:0,balance:785e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37483,username:"abcxyz28",room_id:3,total_lines:40,game_status:1,spin_id:454203,slot_string:"10,9,8,10,9,7,10,9,1,6,8,1,1,9,10,9,8,10,9",prize_string:"1,20,100000;2,14,150000;3,16,100000;4,16,100000;5,14,150000;6,20,100000;7,20,100000;8,14,150000;9,16,100000;10,16,100000;11,14,150000;12,20,100000;13,20,100000;14,14,150000;15,16,100000;16,16,100000;17,14,150000;18,20,100000;19,20,100000;20,14,150000;21,14,150000;22,16,100000;23,16,100000;24,14,150000;25,20,100000;26,14,150000;27,19,300000;28,16,100000;29,20,100000;30,14,150000;31,16,100000;32,16,100000;33,14,150000;34,20,100000;35,14,150000;36,16,100000;37,14,150000;38,20,100000;39,16,100000;40,20,100000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4;6,7,8,9;11,12,13,14;11,16,19,18;6,12,17,14;1,7,13,9;1,2,8,4;6,7,13,9;11,12,17,14;11,16,17,18;6,12,13,14;1,7,8,9;1,2,8,9;6,7,13,14;11,12,17,18;11,16,17,14;6,12,13,9;1,7,8,4;1,2,8,9;6,7,13,14;6,7,8,4;11,12,13,9;11,16,17,14;6,12,13,9;1,7,13,14;6,12,17,18;1,7,13,14,15;11,12,13,9;1,2,13,4;6,7,17,9;11,12,19,14;11,16,13,18;6,12,8,14;1,7,3,9;6,2,3,4;11,7,8,9;6,16,19,18;1,12,17,14;11,7,3,9;1,12,19,14;",total_free:0,total_bet:4e5,total_prize:49e5,x2_start_value:49e5,jackpot_value:62508800,jackpot_winner:0,balance:8e6,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa28",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37483,username:"abcxyz28",room_id:3,total_lines:40,game_status:1,spin_id:454352,slot_string:"5,1,6,9,3,4,10,10,10,9,3,9,8,10,10,10,9,6,1",prize_string:"1,9,100000;2,6,100000;5,6,100000;6,9,100000;7,9,100000;8,6,100000;11,6,100000;12,9,100000;13,9,100000;14,6,100000;17,6,100000;18,9,100000;19,9,100000;20,6,100000;21,6,100000;24,6,100000;25,9,100000;26,6,100000;27,9,100000;29,9,100000;30,6,100000;33,6,100000;34,9,100000;35,6,100000;37,6,100000;38,9,100000;40,9,100000",bonus_string:"",bonus_prize:0,position_string:"1,2,3;6,7,8;6,12,17;1,7,13;1,2,8;6,7,13;6,12,13;1,7,8;1,2,8;6,7,13;6,12,13;1,7,8;1,2,8;6,7,13;6,7,8;6,12,13;1,7,13;6,12,17;1,7,13;1,2,13;6,7,17;6,12,8;1,7,3;6,2,3;6,16,19;1,12,17;1,12,19;",total_free:0,total_bet:4e5,total_prize:27e5,x2_start_value:27e5,jackpot_value:63056800,jackpot_winner:0,balance:275e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa28",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37515,username:"abcxyz29",room_id:3,total_lines:40,game_status:1,spin_id:454593,slot_string:"9,10,9,1,10,5,9,3,9,3,4,1,5,10,9,10,6,10,7",prize_string:"1,18,100000;8,8,350000;11,8,350000;14,8,350000;17,8,350000;20,8,350000;24,8,350000;34,18,100000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4;6,7,13,9;6,12,13,14;6,7,13,14;6,12,13,9;6,7,13,14;6,12,13,9;1,7,3,9;",total_free:0,total_bet:4e5,total_prize:23e5,x2_start_value:23e5,jackpot_value:63896800,jackpot_winner:0,balance:28e5,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa29",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456093,slot_string:"9,10,10,9,8,10,9,8,10,5,9,1,9,1,7,10,1,9,8",prize_string:"1,18,100000;2,20,100000;3,18,100000;4,18,100000;5,20,100000;6,18,100000;7,18,100000;8,20,100000;9,18,100000;10,18,100000;11,20,100000;12,18,100000;13,18,100000;14,20,100000;15,18,100000;16,18,100000;17,20,100000;18,18,100000;19,18,100000;20,20,100000;21,20,100000;22,18,100000;23,18,100000;24,20,100000;25,18,100000;26,20,100000;27,18,100000;28,18,100000;29,18,100000;30,20,100000;31,18,100000;32,18,100000;33,20,100000;34,18,100000;35,20,100000;36,18,100000;37,20,100000;38,18,100000;39,18,100000;40,18,100000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4;6,7,8,9;11,12,13,14;11,16,19,18;6,12,17,14;1,7,13,9;1,2,8,4;6,7,13,9;11,12,17,14;11,16,17,18;6,12,13,14;1,7,8,9;1,2,8,9;6,7,13,14;11,12,17,18;11,16,17,14;6,12,13,9;1,7,8,4;1,2,8,9;6,7,13,14;6,7,8,4;11,12,13,9;11,16,17,14;6,12,13,9;1,7,13,14;6,12,17,18;1,7,13,14;11,12,13,9;1,2,13,4;6,7,17,9;11,12,19,14;11,16,13,18;6,12,8,14;1,7,3,9;6,2,3,4;11,7,8,9;6,16,19,18;1,12,17,14;11,7,3,9;1,12,19,14;",total_free:0,total_bet:4e5,total_prize:4e6,x2_start_value:4e6,jackpot_value:101715900,jackpot_winner:0,balance:1068e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456131,slot_string:"8,9,6,9,8,9,10,10,10,10,5,9,8,1,3,1,9,9,1",prize_string:"1,15,500000;2,18,100000;3,8,350000;4,8,350000;5,18,100000;6,15,500000;7,15,500000;8,18,100000;9,8,350000;10,8,350000;11,18,100000;12,15,500000;13,15,500000;14,18,100000;15,8,350000;16,8,350000;17,18,100000;18,15,500000;19,16,100000;20,18,100000;21,18,100000;22,8,350000;23,8,350000;24,18,100000;25,16,100000;26,18,100000;27,16,100000;28,8,350000;29,15,500000;30,18,100000;31,8,350000;32,8,350000;33,18,100000;34,15,500000;35,18,100000;36,8,350000;37,18,100000;38,15,500000;39,8,350000;40,15,500000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4,5;6,7,8,9;11,12,13,14;11,16,19,18;6,12,17,14;1,7,13,9,5;1,2,8,4,5;6,7,13,9;11,12,17,14;11,16,17,18;6,12,13,14;1,7,8,9,5;1,2,8,9,5;6,7,13,14;11,12,17,18;11,16,17,14;6,12,13,9;1,7,8,4,5;1,2,8,9;6,7,13,14;6,7,8,4;11,12,13,9;11,16,17,14;6,12,13,9;1,7,13,14;6,12,17,18;1,7,13,14;11,12,13,9;1,2,13,4,5;6,7,17,9;11,12,19,14;11,16,13,18;6,12,8,14;1,7,3,9,5;6,2,3,4;11,7,8,9;6,16,19,18;1,12,17,14,5;11,7,3,9;1,12,19,14,5;",total_free:0,total_bet:4e5,total_prize:1125e4,x2_start_value:1125e4,jackpot_value:101863400,jackpot_winner:0,balance:1838e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456269,slot_string:"7,10,1,10,10,4,9,8,1,4,8,1,9,9,3,10,4,10,10",prize_string:"1,14,150000;2,4,1500000;3,16,100000;4,16,100000;5,4,1500000;6,14,150000;7,14,150000;8,4,1500000;9,16,100000;10,16,100000;11,4,1500000;12,14,150000;13,14,150000;14,4,1500000;15,16,100000;16,16,100000;17,4,1500000;18,14,150000;19,14,150000;20,5,750000;21,5,750000;22,16,100000;23,16,100000;24,5,750000;25,14,150000;26,5,750000;27,14,150000;28,16,100000;29,14,150000;30,4,1500000;31,16,100000;32,16,100000;33,4,1500000;34,14,150000;35,4,1500000;36,16,100000;37,4,1500000;38,14,150000;39,16,100000;40,14,150000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4;6,7,8,9,10;11,12,13,14;11,16,19,18;6,12,17,14,10;1,7,13,9;1,2,8,4;6,7,13,9,10;11,12,17,14;11,16,17,18;6,12,13,14,10;1,7,8,9;1,2,8,9;6,7,13,14,10;11,12,17,18;11,16,17,14;6,12,13,9,10;1,7,8,4;1,2,8,9;6,7,13,14;6,7,8,4;11,12,13,9;11,16,17,14;6,12,13,9;1,7,13,14;6,12,17,18;1,7,13,14;11,12,13,9;1,2,13,4;6,7,17,9,10;11,12,19,14;11,16,13,18;6,12,8,14,10;1,7,3,9;6,2,3,4,10;11,7,8,9;6,16,19,18,10;1,12,17,14;11,7,3,9;1,12,19,14;",total_free:0,total_bet:4e5,total_prize:2125e4,x2_start_value:2125e4,jackpot_value:102382900,jackpot_winner:0,balance:3408e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456503,slot_string:"4,9,8,9,9,5,10,9,10,8,6,9,1,1,10,1,8,9,9",prize_string:"1,5,750000;2,8,350000;3,11,200000;4,11,200000;5,8,350000;6,5,750000;7,5,750000;8,8,350000;9,11,200000;10,11,200000;11,8,350000;12,5,750000;13,5,750000;14,8,350000;15,11,200000;16,11,200000;17,8,350000;18,5,750000;19,5,750000;20,8,350000;21,8,350000;22,11,200000;23,11,200000;24,8,350000;25,5,750000;26,8,350000;27,5,750000;28,11,200000;29,5,750000;30,8,350000;31,11,200000;32,11,200000;33,8,350000;34,5,750000;35,8,350000;36,11,200000;37,8,350000;38,5,750000;39,11,200000;40,5,750000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4;6,7,8,9;11,12,13,14;11,16,19,18;6,12,17,14;1,7,13,9;1,2,8,4;6,7,13,9;11,12,17,14;11,16,17,18;6,12,13,14;1,7,8,9;1,2,8,9;6,7,13,14;11,12,17,18;11,16,17,14;6,12,13,9;1,7,8,4;1,2,8,9;6,7,13,14;6,7,8,4;11,12,13,9;11,16,17,14;6,12,13,9;1,7,13,14;6,12,17,18;1,7,13,14;11,12,13,9;1,2,13,4;6,7,17,9;11,12,19,14;11,16,13,18;6,12,8,14;1,7,3,9;6,2,3,4;11,7,8,9;6,16,19,18;1,12,17,14;11,7,3,9;1,12,19,14;",total_free:0,total_bet:4e5,total_prize:1725e4,x2_start_value:1725e4,jackpot_value:103262900,jackpot_winner:0,balance:4308e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456667,slot_string:"8,9,8,9,10,6,1,9,4,10,4,10,1,9,9,9,8,10,9",prize_string:"2,12,50000;3,6,100000;4,6,100000;5,12,50000;8,12,50000;9,6,100000;10,6,100000;11,12,50000;14,12,50000;15,6,100000;16,6,100000;17,12,50000;20,12,50000;21,12,50000;22,5,750000;23,6,100000;24,12,50000;26,12,50000;28,5,750000;30,12,50000;31,6,100000;32,6,100000;33,12,50000;35,12,50000;36,5,750000;37,12,50000;39,5,750000",bonus_string:"",bonus_prize:0,position_string:"6,7,8;11,12,13;11,16,19;6,12,17;6,7,13;11,12,17;11,16,17;6,12,13;6,7,13;11,12,17;11,16,17;6,12,13;6,7,13;6,7,8;11,12,13,9;11,16,17;6,12,13;6,12,17;11,12,13,9;6,7,17;11,12,19;11,16,13;6,12,8;6,2,3;11,7,8,9;6,16,19;11,7,3,9;",total_free:0,total_bet:4e5,total_prize:46e5,x2_start_value:46e5,jackpot_value:103878900,jackpot_winner:0,balance:4428e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456675,slot_string:"10,10,9,9,10,9,8,1,10,9,10,10,8,1,6,3,9,9,4",prize_string:"1,19,300000;3,20,100000;7,19,300000;9,20,100000;13,19,300000;15,20,100000;19,20,100000;22,20,100000;28,19,300000;29,19,300000;31,20,100000;38,19,300000;40,19,300000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4,5;11,12,13,14;1,2,8,4,5;11,12,17,14;1,2,8,9,5;11,12,17,18;1,2,8,9;11,12,13,9;11,12,13,9,5;1,2,13,4,5;11,12,19,14;1,12,17,14,5;1,12,19,14,5;",total_free:0,total_bet:4e5,total_prize:27e5,x2_start_value:27e5,jackpot_value:103910900,jackpot_winner:0,balance:4658e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456811,slot_string:"5,5,9,10,10,10,9,1,10,9,9,10,8,6,6,1,9,7,4",prize_string:"1,9,100000;2,20,100000;6,9,100000;7,9,100000;8,20,100000;12,9,100000;13,9,100000;17,20,100000;18,9,100000;19,9,100000;21,19,300000;24,19,300000;25,9,100000;27,9,100000;29,9,100000;30,20,100000;34,9,100000;35,20,100000;38,9,100000;40,9,100000",bonus_string:"",bonus_prize:0,position_string:"1,2,3;6,7,8,9;1,7,13;1,2,8;6,7,13,9;1,7,8;1,2,8;6,12,13,9;1,7,8;1,2,8;6,7,8,4,5;6,12,13,9,5;1,7,13;1,7,13;1,2,13;6,7,17,9;1,7,3;6,2,3,4;1,12,17;1,12,19;",total_free:0,total_bet:4e5,total_prize:24e5,x2_start_value:24e5,jackpot_value:104398900,jackpot_winner:0,balance:5073e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456878,slot_string:"6,10,6,10,10,4,1,10,10,3,5,9,8,6,9,10,9,7,1",prize_string:"1,12,50000;2,6,100000;3,9,100000;4,9,100000;5,6,100000;6,12,50000;7,12,50000;8,6,100000;9,9,100000;10,9,100000;11,6,100000;12,12,50000;13,12,50000;14,6,100000;15,9,100000;16,9,100000;17,6,100000;18,12,50000;19,12,50000;20,6,100000;21,6,100000;22,9,100000;23,9,100000;24,6,100000;25,11,200000;26,6,100000;27,11,200000;28,9,100000;29,12,50000;30,6,100000;31,9,100000;32,9,100000;33,6,100000;34,12,50000;35,6,100000;36,9,100000;37,6,100000;38,11,200000;39,9,100000;40,11,200000",bonus_string:"",bonus_prize:0,position_string:"1,2,3;6,7,8;11,12,13;11,16,19;6,12,17;1,7,13;1,2,8;6,7,13;11,12,17;11,16,17;6,12,13;1,7,8;1,2,8;6,7,13;11,12,17;11,16,17;6,12,13;1,7,8;1,2,8;6,7,13;6,7,8;11,12,13;11,16,17;6,12,13;1,7,13,14;6,12,17;1,7,13,14;11,12,13;1,2,13;6,7,17;11,12,19;11,16,13;6,12,8;1,7,3;6,2,3;11,7,8;6,16,19;1,12,17,14;11,7,3;1,12,19,14;",total_free:0,total_bet:4e5,total_prize:395e4,x2_start_value:395e4,jackpot_value:104634900,jackpot_winner:0,balance:4998e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456990,slot_string:"8,9,5,4,8,3,3,10,9,10,7,6,3,10,3,7,10,1,9",prize_string:"8,3,500000;14,3,500000;20,3,500000",bonus_string:"",bonus_prize:0,position_string:"6,7,13;6,7,13;6,7,13;",total_free:0,total_bet:4e5,total_prize:15e5,x2_start_value:15e5,jackpot_value:105046900,jackpot_winner:0,balance:4543e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:457567,slot_string:"4,10,1,9,9,3,9,8,4,6,10,1,9,9,10,10,4,10,10",prize_string:"1,6,100000;4,19,300000;6,5,750000;7,6,100000;10,19,300000;12,5,750000;13,5,750000;15,19,300000;18,6,100000;19,5,750000;25,6,100000;27,6,100000;29,6,100000;32,19,300000;34,5,750000;38,6,100000;40,6,100000",bonus_string:"",bonus_prize:0,position_string:"1,2,3;11,16,19,18,15;1,7,13,9;1,2,8;11,16,17,18,15;1,7,8,9;1,2,8,9;11,12,17,18,15;1,7,8;1,2,8,9;1,7,13;1,7,13;1,2,13;11,16,13,18,15;1,7,3,9;1,12,17;1,12,19;",total_free:0,total_bet:4e5,total_prize:575e4,x2_start_value:575e4,jackpot_value:106926900,jackpot_winner:0,balance:2548e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:457839,slot_string:"3,6,3,8,3,7,3,7,3,8,10,4,8,7,5,8,6,8,10",prize_string:"34,1,107886900",bonus_string:"",bonus_prize:0,position_string:"1,7,3,9,5;",total_free:0,total_bet:4e5,total_prize:107886900,x2_start_value:0,jackpot_value:5e7,jackpot_winner:1,balance:128566900,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0}],e=i([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],DNTCEntry:[function(t,e,n){"use strict";cc._RF.push(e,"92dc2WvBCNJWZfT+T+u/N8X","DNTCEntry"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator;o.ccclass,o.property;(function(t){t.ROOM={R_Test:{id:0,value:1e4,name:"10.000"},R_100:{id:1,value:100,name:"100"},R_1k:{id:2,value:1e3,name:"1.000"},R_10k:{id:3,value:1e4,name:"10.000"}},function(t){t[t.PREPARE=0]="PREPARE",t[t.PLAYING_EFFECT=1]="PLAYING_EFFECT",t[t.STOP=2]="STOP"}(t.SCROLL_STATE||(t.SCROLL_STATE={})),function(t){t[t.PREPARE=0]="PREPARE",t[t.REQUESTING=1]="REQUESTING",t[t.PLAYX2=2]="PLAYX2",t[t.PLAYBONUS=3]="PLAYBONUS",t[t.SPINING=4]="SPINING",t[t.HANDLE_RESULT=5]="HANDLE_RESULT"}(t.GAME_STATE||(t.GAME_STATE={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.AUTO=1]="AUTO",t[t.FAST=2]="FAST"}(t.SPIN_MODE||(t.SPIN_MODE={}))})(n.DNTCEntry||(n.DNTCEntry={})),cc._RF.pop()},{}],DNTCHandler:[function(t,e,n){"use strict";cc._RF.push(e,"1f199magm5CnquAe0KYLIbY","DNTCHandler");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./DNTCEntry"),a=t("../../Common/Network/WsHandler"),c=t("../../Common/Data/GameConfigs"),s=t("./DNTCDataFree"),r=cc._decorator,l=r.ccclass,u=(r.property,function(){function t(){this.onNoti=function(t){},this.onRankEvent=function(t){},this.onFinisBonus=function(t){},this.onFirstBonus=function(t){},this.onHistory=function(t){},this.onRank=function(t){},this.onTopJackpot=function(t){},this.onSpinGame=function(){},this.onJackpot=function(){},this.dataSpinGame=null,this.dataJackpot=[],this.listLine=[],this.room_id=i.DNTCEntry.ROOM.R_100.id,this.line_tring="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30",this.line_data=this.line_tring.split(","),this.isAudio=!0,this.isStartBonus=!1,this.list_wild=[],this.isRequestLeave=!1,this.isFree=!1,this.DataFree={balance:5e7,jackpot:5e7,line_tring:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30"},this.isConnect=!1}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e,this.Instance.init()),this.Instance},t.prototype.connect=function(){this.isConnect=!0,a.WsHandler.getInstance().joinGame(c.GameConfigs.WSGameName.DaiNaoThienCung)},t.prototype.closeWS=function(){a.WsHandler.getInstance().leaveGame(c.GameConfigs.WSGameName.DaiNaoThienCung),this.isConnect=!1},t.prototype.init=function(){cc.systemEvent.on(c.GameConfigs.WSGameName.DaiNaoThienCung,this.parseRespone.bind(this),this),cc.systemEvent.on(c.GameConfigs.JPName.DaiNaoThienCung,this.parseJackpot.bind(this),this)},t.prototype.parseRespone=function(t){var e=null,n=null;null!=t&&t.hasOwnProperty("account_id")&&this.parseAccountInfo(t),null!=t&&t.hasOwnProperty("message")&&this.parseAccountInfo(t.message),null!=t&&t.hasOwnProperty("s_data")&&(e=t.cmd,n=t.s_data),null!=n&&(this.isConnect=!0,"s_spin_game"==e&&this.parseSpinGame(n),"s_push_jackpot"==e&&this.parseJackpot(n),"s_finish_bonus"==e&&this.parseFinishBonus(n),"s_jackpot"==e&&this.onTopJackpot(n),"s_honor"==e&&this.onRank(n),"s_history"==e&&this.onHistory(n),"s_rank"==e&&this.onRankEvent(n))},t.prototype.clearCallback=function(){this.onNoti=function(t){},this.onRankEvent=function(t){},this.onFinisBonus=function(t){},this.onHistory=function(t){},this.onRank=function(t){},this.onTopJackpot=function(t){},this.onSpinGame=function(){},this.onJackpot=function(){}},t.prototype.parseFinishBonus=function(t){this.isStartBonus?(this.onFirstBonus(t),this.isStartBonus=!1):this.onFinisBonus(t)},t.prototype.parseAccountInfo=function(t){2==t.game_status&&this.processFinishX2(),3==t.game_status&&(this.processFinishBonus(),this.isStartBonus=!0)},t.prototype.parseJackpot=function(t){this.dataJackpot=t,this.onJackpot()},t.prototype.parseSpinGame=function(t){this.listLine=[];var e=t.prize_string;if(e&&(e=e.split(";")).length>0)for(var n in e){var o=e[n].split(",");this.listLine.push(o[0])}t.bonus_prize>0&&(t.total_prize=parseInt(t.total_prize)+parseInt(t.bonus_prize),t.balance=parseInt(t.balance)+parseInt(t.bonus_prize)),this.dataSpinGame=t,this.onSpinGame()},t.prototype.processSpin=function(){if(this.isFree){var t=Math.floor(Math.random()*(s.default.listData.length-1));(n=s.default.listData[t]).jackpot_winner>0&&(n.total_prize=this.DataFree.jackpot),this.parseSpinGame(n)}else{this.listLine=[],this.line_tring=this.line_data[0]+"";for(var e=1;e<this.line_data.length;e++)this.line_tring+=","+this.line_data[e];var n=JSON.stringify({room_id:this.room_id,line_string:this.line_tring});this.callWS("spin_game",n)}},t.prototype.processPlayX2=function(){this.callWS("x2_play","0")},t.prototype.processFinishBonus=function(){this.callWS("finish_bonus","0")},t.prototype.processFinishX2=function(){this.callWS("x2_finish","0")},t.prototype.processTopJackpot=function(){this.callWS("jackpot","0")},t.prototype.processGetRank=function(){this.callWS("honor","0")},t.prototype.processGetHistory=function(){this.callWS("history","0")},t.prototype.provessGetRankEvent=function(){},t.prototype.callWS=function(t,e){var n='{"cmd":"'+t+'","c_data":'+e+"}";a.WsHandler.getInstance().playGame(c.GameConfigs.WSGameName.DaiNaoThienCung,n)},t.Instance=null,t=e=o([l],t)}());n.DNTCHandler=u,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/WsHandler":"WsHandler","./DNTCDataFree":"DNTCDataFree","./DNTCEntry":"DNTCEntry"}],DNTCHelp:[function(t,e,n){"use strict";cc._RF.push(e,"a896dI3Ys1P4bCCBAfe9xl3","DNTCHelp");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pgvHelp=null,e.currPage=0,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on("THAN_SAM_JACKPOT_HELP",this.parseJackpot.bind(this),this)},e.prototype.parseJackpot=function(t){t.stt},e.prototype.onBtnChangePage=function(t,e){1==+e?(this.currPage++,this.currPage>3&&(this.currPage=3)):(this.currPage--,this.currPage<0&&(this.currPage=0)),this.pgvHelp.scrollToPage(this.currPage,.25)},i([s(cc.PageView)],e.prototype,"pgvHelp",void 0),e=i([c],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],DNTCHistory:[function(t,e,n){"use strict";cc._RF.push(e,"8d5c3o/2uFNobQfkog2dnJS","DNTCHistory");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./DNTCHandler"),c=t("./DNTCEntry"),s=t("../../Common/Utilities/Utility"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.click=null,e}return o(e,t),e.prototype.start=function(){a.DNTCHandler.getInstance().onHistory=this.onPushHistory.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.DNTCHandler.getInstance().processGetHistory()})))},e.prototype.onPushHistory=function(t){var e=50;t.length<e&&(e=t.length),this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);o.getChildByName("bg1").active=n%2!=0,this.contentScroll.addChild(o),this.updateCell(o,t[n],n)}this.contentScroll.height=50*e},e.prototype.updateCell=function(t,e,n){t.getChildByName("Session").getComponent(cc.Label).string=e.spin_id,t.getChildByName("Time").getComponent(cc.Label).string=e.date_time,t.getChildByName("Room").getComponent(cc.Label).string=this.convertRoom(e.room_id),t.getChildByName("BetValue").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(e.total_bet),t.getChildByName("Detail").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(e.total_prize),t.setPosition(0,-25-50*n)},e.prototype.convertRoom=function(t){return t==c.DNTCEntry.ROOM.R_100.id?c.DNTCEntry.ROOM.R_100.name+"":t==c.DNTCEntry.ROOM.R_1k.id?c.DNTCEntry.ROOM.R_1k.name+"":t==c.DNTCEntry.ROOM.R_10k.id?c.DNTCEntry.ROOM.R_10k.name+"":" "},e.prototype.oncLickClose=function(t){a.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1),this.node.destroy()},i([u(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([u(cc.Node)],e.prototype,"contentScroll",void 0),i([u(cc.AudioClip)],e.prototype,"click",void 0),e=i([l],e)}(cc.Component);n.DNTCHistory=p,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","./DNTCEntry":"DNTCEntry","./DNTCHandler":"DNTCHandler"}],DNTCItem:[function(t,e,n){"use strict";cc._RF.push(e,"7a0d9dRfvRCGrQR/WIS8ETS","DNTCItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.updateSkin=function(t){},e.prototype.updateItemById=function(t){if(!(t<1||t>10)){for(var e=0,n=this.node.children;e<n.length;e++){n[e].active=!1}this.node.getChildByName("lm_item0"+t).active=!0}},e=i([c],e)}(cc.Component));n.DNTCItem=s,cc._RF.pop()},{}],DNTCLine:[function(t,e,n){"use strict";cc._RF.push(e,"9485cEyCehI5Jom/r3vJo2I","DNTCLine");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./DNTCHandler"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lineButtons=null,e.click=null,e.listLine=[],e.onCallback=function(){},e.totalLine=30,e}return o(e,t),e.prototype.onLoad=function(){for(var t=a.DNTCHandler.getInstance().line_data,e=1;e<=this.totalLine;e++)this.lineButtons.getChildByName(e.toString()).opacity=0;for(e=0;e<t.length;e++)this.lineButtons.getChildByName(t[e].toString()).opacity=255},e.prototype.onLineButtons=function(t,e){a.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1),t.target.opacity>0?t.target.opacity=0:t.target.opacity=255},e.prototype.onBtnLe=function(){a.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1);for(var t=1;t<=this.totalLine;t++)this.lineButtons.getChildByName(t.toString()).opacity=t%2!=0?255:0},e.prototype.onBtnChan=function(){a.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1);for(var t=1;t<=this.totalLine;t++)this.lineButtons.getChildByName(t.toString()).opacity=t%2==0?255:0},e.prototype.onBtnAll=function(){a.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1);for(var t=1;t<=this.totalLine;t++)this.lineButtons.getChildByName(t.toString()).opacity=255},e.prototype.onBtnCancle=function(){a.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1);for(var t=1;t<=this.totalLine;t++)this.lineButtons.getChildByName(t.toString()).opacity=1==t?255:0},e.prototype.checkCanClose=function(){a.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1);for(var t=1;t<=this.totalLine;t++)if(this.lineButtons.getChildByName(t.toString()).opacity>0)return!0;return!1},e.prototype.onBtnClose=function(){if(a.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1),this.checkCanClose()){for(var t=1;t<=this.totalLine;t++)this.lineButtons.getChildByName(t.toString()).opacity>0&&this.listLine.push(t);a.DNTCHandler.getInstance().line_data=this.listLine,this.onCallback(),this.node.destroy()}},i([r(cc.Node)],e.prototype,"lineButtons",void 0),i([r(cc.AudioClip)],e.prototype,"click",void 0),e=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./DNTCHandler":"DNTCHandler"}],DNTCRank:[function(t,e,n){"use strict";cc._RF.push(e,"37fcetjgQ5KHIZ3waEVy8k+","DNTCRank");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./DNTCHandler"),c=t("./DNTCEntry"),s=t("../../Common/Utilities/Utility"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.click=null,e}return o(e,t),e.prototype.start=function(){a.DNTCHandler.getInstance().onRank=this.onPushRank.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.DNTCHandler.getInstance().processGetRank()})))},e.prototype.onPushRank=function(t){var e=50;t.length<e&&(e=t.length),this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);o.getChildByName("bg1").active=n%2!=0,o.getChildByName("Time").getComponent(cc.Label).string=t[n].date_time,o.getChildByName("UserName").getComponent(cc.Label).string=t[n].nick_name,o.getChildByName("Room").getComponent(cc.Label).string=this.convertRoom(t[n].room_id),o.getChildByName("Win").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(t[n].prize_value),1==t[n].top_type?o.getChildByName("Detail").getComponent(cc.Label).string="N\u1ed5 h\u0169":o.getChildByName("Detail").getComponent(cc.Label).string="Th\u1eafng l\u1edbn",o.setPosition(0,-25-50*n),this.contentScroll.addChild(o)}this.contentScroll.height=50*e},e.prototype.convertRoom=function(t){return t==c.DNTCEntry.ROOM.R_100.id?c.DNTCEntry.ROOM.R_100.name+"":t==c.DNTCEntry.ROOM.R_1k.id?c.DNTCEntry.ROOM.R_1k.name+"":t==c.DNTCEntry.ROOM.R_10k.id?c.DNTCEntry.ROOM.R_10k.name+"":" "},e.prototype.oncLickClose=function(t){a.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1),this.node.destroy()},i([u(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([u(cc.Node)],e.prototype,"contentScroll",void 0),i([u(cc.AudioClip)],e.prototype,"click",void 0),e=i([l],e)}(cc.Component);n.DNTCRank=p,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","./DNTCEntry":"DNTCEntry","./DNTCHandler":"DNTCHandler"}],DNTCScroll:[function(t,e,n){"use strict";cc._RF.push(e,"42460lDi81AyY0pWpxeFC7n","DNTCScroll");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./DNTCEntry"),c=t("./DNTCItem"),s=t("./DNTCHandler"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effect=null,e.result=null,e.effectWild=null,e.scrollId=0,e.audioWild=null,e.state=a.DNTCEntry.SCROLL_STATE.PREPARE,e.listItems=[],e.startDelay=0,e.delegate=null,e.isWild=!1,e.onPlayDone=function(){},e}return o(e,t),e.prototype.start=function(){this.startDelay=.3*this.scrollId,this.effect.node.active=!1;var t=s.DNTCHandler.getInstance().room_id-1;-1==t&&(t=2);for(var e=0,n=this.result.children;e<n.length;e++){var o=n[e].getComponent(c.DNTCItem);o.updateItemById(Math.floor(10*Math.random()+2)),this.listItems.push(o)}},e.prototype.setSpinFast=function(t){this.startDelay=t?.3:.3*this.scrollId},e.prototype.updateFx=function(t){this.effect.node.getComponent(cc.Sprite).spriteFrame=t},e.prototype.startScroll=function(t){var e=this,n=setTimeout(function(){e.state!=a.DNTCEntry.SCROLL_STATE.PREPARE&&(e.resetScroll(),e.onPlayDone()),clearTimeout(n)},5e3);this.state==a.DNTCEntry.SCROLL_STATE.PREPARE&&(this.state=a.DNTCEntry.SCROLL_STATE.PLAYING_EFFECT,this.node.runAction(cc.sequence(cc.delayTime(this.startDelay),cc.callFunc(function(){e.result.getComponent(cc.Animation).play("updown")}),cc.delayTime(.11),cc.callFunc(function(){e.result.active=!1,e.effect.node.active=!0,e.effect.play("scrolleffect"),e.updateResult()}),cc.delayTime(t),cc.callFunc(function(){e.effect.node.active=!1,e.result.active=!0,e.result.getComponent(cc.Animation).play("downup")}),cc.delayTime(.2),cc.callFunc(function(){clearTimeout(n),e.showWild()}))))},e.prototype.updateResult=function(){var t={0:[0,5,10],1:[1,6,11,15],2:[2,7,12,16],3:[3,8,13,17],4:[4,9,14]}[this.scrollId],e=s.DNTCHandler.getInstance().dataSpinGame.slot_string;if(e){e=e.split(",");for(var n=0;n<t.length;n++)this.listItems[n].updateItemById(e[t[n]]),1==e[t[n]]&&(this.isWild=!0)}this.isWild&&s.DNTCHandler.getInstance().list_wild.push(this.scrollId)},e.prototype.showWild=function(){var t=this;this.isWild?this.node.runAction(cc.sequence(cc.callFunc(function(){s.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(t.audioWild,!1),t.effectWild.active=!0,t.effectWild.scaleX=0,2==t.scrollId?t.effectWild.runAction(cc.scaleTo(.1,1,1)):t.effectWild.runAction(cc.scaleTo(.1,.9,.9)),t.effectWild.getComponent(sp.Skeleton).setAnimation(1,"wild-3line",!0),t.result.active=!1}),cc.delayTime(1.1),cc.callFunc(function(){for(var e in 2==t.scrollId?t.effectWild.runAction(cc.scaleTo(.1,0,1)):t.effectWild.runAction(cc.scaleTo(.1,0,.9)),t.result.active=!0,t.result.children){t.result.children[e].getComponent(c.DNTCItem).updateItemById(1)}}),cc.delayTime(.5),cc.callFunc(function(){t.resetScroll(),4==t.scrollId&&t.onPlayDone()}))):(4==this.scrollId&&this.onPlayDone(),this.resetScroll())},e.prototype.resetScroll=function(){this.node.stopAllActions(),this.result.active=!0,this.effect.node.active=!1,this.state=a.DNTCEntry.SCROLL_STATE.PREPARE,this.isWild=!1},i([u(cc.Animation)],e.prototype,"effect",void 0),i([u(cc.Node)],e.prototype,"result",void 0),i([u(cc.Node)],e.prototype,"effectWild",void 0),i([u],e.prototype,"scrollId",void 0),i([u(cc.AudioClip)],e.prototype,"audioWild",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./DNTCEntry":"DNTCEntry","./DNTCHandler":"DNTCHandler","./DNTCItem":"DNTCItem"}],DNTCTop:[function(t,e,n){"use strict";cc._RF.push(e,"d3990M6h+BKH5N+N7KJAsBu","DNTCTop");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./DNTCHandler"),c=t("./DNTCEntry"),s=t("../../Common/Utilities/Utility"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.click=null,e}return o(e,t),e.prototype.start=function(){a.DNTCHandler.getInstance().onTopJackpot=this.onPushTopJackpot.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.DNTCHandler.getInstance().processTopJackpot()})))},e.prototype.onPushTopJackpot=function(t){var e=50;t.length<e&&(e=t.length),this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);this.contentScroll.addChild(o),o.getChildByName("bg1").active=n%2!=0,this.updateCell(o,t[n],n)}this.contentScroll.height=50*e},e.prototype.updateCell=function(t,e,n){t.getChildByName("Time").getComponent(cc.Label).string=e.date_time,t.getChildByName("UserName").getComponent(cc.Label).string=e.nick_name,t.getChildByName("Room").getComponent(cc.Label).string=this.convertRoom(e.room_id),t.getChildByName("WinValue").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(e.prize_value),t.setPosition(0,-25-50*n)},e.prototype.convertRoom=function(t){return t==c.DNTCEntry.ROOM.R_100.id?c.DNTCEntry.ROOM.R_100.name+"":t==c.DNTCEntry.ROOM.R_1k.id?c.DNTCEntry.ROOM.R_1k.name+"":t==c.DNTCEntry.ROOM.R_10k.id?c.DNTCEntry.ROOM.R_10k.name+"":" "},e.prototype.oncLickClose=function(t){a.DNTCHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1),this.node.destroy()},i([u(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([u(cc.Node)],e.prototype,"contentScroll",void 0),i([u(cc.AudioClip)],e.prototype,"click",void 0),e=i([l],e)}(cc.Component);n.DNTCTop=p,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","./DNTCEntry":"DNTCEntry","./DNTCHandler":"DNTCHandler"}],DataFree:[function(t,e,n){"use strict";cc._RF.push(e,"b1d49Ax6n5Is68/+oallR1P","DataFree");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.listData=[{account_id:31,username:"",room_id:3,total_lines:25,game_status:1,spin_id:"--",slot_string:"6,5,6,4,5,1,1,1,1,8,6,5,4,4,7",prize_string:"1,2,10000000;4,11,600000;10,9,200000;11,9,200000;12,11,600000;13,11,600000;14,11,600000;16,11,600000;17,5,1000000",bonus_string:"",bonus_prize:0,position_string:"6,7,8,9;11,7,3,9;6,12,8;6,2,8;1,7,8,9;11,7,8,9;1,7,3,9;6,7,3,9;6,7,13,9",total_free:0,total_bet:25e4,total_prize:144e5,x2_start_value:144e5,jackpot_value:0,jackpot_winner:0,balance:714664347,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:31,username:"",room_id:3,total_lines:25,game_status:1,spin_id:"--",slot_string:"4,3,1,6,6,2,4,4,4,5,2,1,3,5,6",prize_string:"5,35,40000;12,5,1000000;14,5,1000000;20,35,40000;24,6,250000",bonus_string:"",bonus_prize:0,position_string:"1,7;1,7,8,9;1,7,3,9;1,12;1,12,3",total_free:0,total_bet:25e4,total_prize:233e4,x2_start_value:233e4,jackpot_value:0,jackpot_winner:0,balance:716744347,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:31,username:"",room_id:3,total_lines:25,game_status:1,spin_id:"--",slot_string:"2,1,3,4,4,5,6,4,1,2,4,4,3,5,6",prize_string:"3,35,40000;9,4,0;19,35,40000;21,35,40000;25,35,40000",bonus_string:"",bonus_prize:0,position_string:"11,12;11,12,8,4,5;11,12;11,2;11,2",total_free:0,total_bet:25e4,total_prize:5028e4,x2_start_value:0,jackpot_value:5012e4,jackpot_winner:1,balance:767804347,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:31,username:"",room_id:3,total_lines:25,game_status:1,spin_id:"--",slot_string:"6,2,6,4,5,5,5,5,5,5,6,2,4,4,7",prize_string:"1,7,5000000",bonus_string:"",bonus_prize:0,position_string:"6,7,8,9,10",total_free:0,total_bet:25e4,total_prize:5e6,x2_start_value:5e6,jackpot_value:0,jackpot_winner:0,balance:773054347,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:31,username:"",room_id:3,total_lines:25,game_status:1,spin_id:"--",slot_string:"5,5,1,5,4,3,1,5,1,3,6,5,4,5,6",prize_string:"2,8,750000;4,10,3750000;8,8,750000;12,8,750000;14,8,750000;24,8,750000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4;11,7,3,9,15;1,2,8,14;1,7,8,9;1,7,3,9;1,12,3,14",total_free:0,total_bet:25e4,total_prize:75e5,x2_start_value:75e5,jackpot_value:0,jackpot_winner:0,balance:780304347,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:31,username:"",room_id:3,total_lines:25,game_status:1,spin_id:"--",slot_string:"7,5,3,5,7,3,1,2,1,2,6,7,7,7,6",prize_string:"5,13,2750000;20,13,2750000",bonus_string:"",bonus_prize:0,position_string:"1,7,13,9,5;1,12,13,14,5",total_free:0,total_bet:25e4,total_prize:55e5,x2_start_value:55e5,jackpot_value:0,jackpot_winner:0,balance:785554347,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:31,username:"",room_id:3,total_lines:25,game_status:1,spin_id:"--",slot_string:"4,1,2,3,4,5,4,6,4,1,2,3,4,5,6",prize_string:"2,35,40000;5,4,0;8,35,40000;12,35,40000;14,35,40000;18,6,250000",bonus_string:"",bonus_prize:0,position_string:"1,2;1,7,13,9,5;1,2;1,7;1,7;1,2,13",total_free:0,total_bet:25e4,total_prize:50422500,x2_start_value:0,jackpot_value:50012500,jackpot_winner:1,balance:835726847,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:31,username:"",room_id:3,total_lines:25,game_status:1,spin_id:"--",slot_string:"2,3,5,6,6,6,6,5,1,6,2,6,1,3,4",prize_string:"7,12,160000;17,10,3750000",bonus_string:"",bonus_prize:0,position_string:"6,12,13;6,7,13,9,10",total_free:0,total_bet:25e4,total_prize:391e4,x2_start_value:391e4,jackpot_value:0,jackpot_winner:0,balance:839386847,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:31,username:"",room_id:3,total_lines:25,game_status:1,spin_id:"--",slot_string:"6,6,6,4,6,3,1,6,1,2,6,5,3,5,4",prize_string:"2,12,160000;4,11,600000;8,12,160000;12,10,3750000;13,11,600000;14,10,3750000;21,12,160000",bonus_string:"",bonus_prize:0,position_string:"1,2,3;11,7,3,9;1,2,8;1,7,8,9,5;11,7,8,9;1,7,3,9,5;11,2,3",total_free:0,total_bet:25e4,total_prize:918e4,x2_start_value:918e4,jackpot_value:0,jackpot_winner:0,balance:898154347,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0}],e=i([c],e)}(cc.Component));n.default=s;cc._RF.pop()},{}],DestroyNodeTimerLH:[function(t,e,n){"use strict";cc._RF.push(e,"f2f798TKNxJOICDbz6pn04D","DestroyNodeTimerLH");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./LHoHandler"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lifeTime=0,e.jackpot=0,e.SoundJP=null,e.canRemove=!1,e.ID_sound=0,e}return o(e,t),e.prototype.start=function(){var t=this;1==this.jackpot?(a.LHoHandler.getInstance().isSound&&(this.ID_sound=cc.audioEngine.playEffect(this.SoundJP,!1)),this.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(function(){t.canRemove=!0})))):this.node.runAction(cc.sequence(cc.delayTime(this.lifeTime),cc.callFunc(function(){t.node.destroy()})))},e.prototype.onBtnRemove=function(){this.canRemove&&(this.node.destroy(),this.node.removeFromParent())},i([r],e.prototype,"lifeTime",void 0),i([r],e.prototype,"jackpot",void 0),i([r(cc.AudioClip)],e.prototype,"SoundJP",void 0),e=i([s],e)}(cc.Component);n.DestroyNodeTimer=l,cc._RF.pop()},{"./LHoHandler":"LHoHandler"}],DestroyNodeTimerMn:[function(t,e,n){"use strict";cc._RF.push(e,"88c7ay9xx5JRrpKU+fFOFek","DestroyNodeTimerMn");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lifeTime=0,e.jackpot=0,e.canRemove=!1,e}return o(e,t),e.prototype.start=function(){var t=this;1==this.jackpot?this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){t.canRemove=!0}))):this.node.runAction(cc.sequence(cc.delayTime(this.lifeTime),cc.callFunc(function(){t.node.destroy()})))},e.prototype.onBtnRemove=function(){this.canRemove&&(this.node.destroy(),this.node.removeFromParent())},i([s],e.prototype,"lifeTime",void 0),i([s],e.prototype,"jackpot",void 0),e=i([c],e)}(cc.Component);n.DestroyNodeTimer=r,cc._RF.pop()},{}],DestroyNodeTimerTH:[function(t,e,n){"use strict";cc._RF.push(e,"379afGFjH1Dya5a5oXrfx9i","DestroyNodeTimerTH");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./THHandler"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lifeTime=0,e.jackpot=0,e.SoundJP=null,e.canRemove=!1,e.ID_sound=0,e}return o(e,t),e.prototype.start=function(){var t=this;1==this.jackpot?(a.THHandler.getInstance().isSound&&(this.ID_sound=cc.audioEngine.playEffect(this.SoundJP,!1)),this.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(function(){t.canRemove=!0})))):this.node.runAction(cc.sequence(cc.delayTime(this.lifeTime),cc.callFunc(function(){t.node.destroy()})))},e.prototype.onBtnRemove=function(){this.canRemove&&(this.node.destroy(),this.node.removeFromParent())},i([r],e.prototype,"lifeTime",void 0),i([r],e.prototype,"jackpot",void 0),i([r(cc.AudioClip)],e.prototype,"SoundJP",void 0),e=i([s],e)}(cc.Component);n.DestroyNodeTimer=l,cc._RF.pop()},{"./THHandler":"THHandler"}],DestroyNodeTimerTT:[function(t,e,n){"use strict";cc._RF.push(e,"e0503cE8z9BeLk3o/9Mo0Lb","DestroyNodeTimerTT");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TPHandler"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lifeTime=0,e.jackpot=0,e.SoundJP=null,e.canRemove=!1,e.ID_sound=0,e}return o(e,t),e.prototype.start=function(){var t=this;1==this.jackpot?(a.TPHandler.getInstance().isSound&&(this.ID_sound=cc.audioEngine.playEffect(this.SoundJP,!1)),this.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(function(){t.canRemove=!0})))):this.node.runAction(cc.sequence(cc.delayTime(this.lifeTime),cc.callFunc(function(){t.node.destroy()})))},e.prototype.onBtnRemove=function(){this.canRemove&&(this.node.destroy(),this.node.removeFromParent())},i([r],e.prototype,"lifeTime",void 0),i([r],e.prototype,"jackpot",void 0),i([r(cc.AudioClip)],e.prototype,"SoundJP",void 0),e=i([s],e)}(cc.Component);n.DestroyNodeTimer=l,cc._RF.pop()},{"./TPHandler":"TPHandler"}],DestroyNodeTimer:[function(t,e,n){"use strict";cc._RF.push(e,"96d2fcEyc1EbJ4d2XaH0Yq3","DestroyNodeTimer");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lifeTime=0,e.jackpot=0,e.canRemove=!1,e}return o(e,t),e.prototype.start=function(){var t=this;1==this.jackpot?this.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(function(){t.canRemove=!0}))):this.node.runAction(cc.sequence(cc.delayTime(this.lifeTime),cc.callFunc(function(){t.node.destroy()})))},e.prototype.onBtnRemove=function(){this.canRemove&&(this.node.destroy(),this.node.removeFromParent())},i([s],e.prototype,"lifeTime",void 0),i([s],e.prototype,"jackpot",void 0),e=i([c],e)}(cc.Component);n.DestroyNodeTimer=r,cc._RF.pop()},{}],DialogLifeTime:[function(t,e,n){"use strict";cc._RF.push(e,"eca15+hunNFJ6BQGExblQxe","DialogLifeTime");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentLabel=null,e}return o(e,t),e.prototype.setContent=function(t){this.contentLabel.string=t},e.prototype.showDialog=function(t,e,n){var o=this;void 0===n&&(n=!0),this.node.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(function(){e&&e(),n?o.node.destroy():o.node.active=!1})))},i([s(cc.Label)],e.prototype,"contentLabel",void 0),e=i([c],e)}(cc.Component);n.DialogLifeTime=r,cc._RF.pop()},{}],Dialog:[function(t,e,n){"use strict";cc._RF.push(e,"094121/LgJKL6EzxxXOX7qk","Dialog");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.block=null,e}return o(e,t),e.prototype.onEnable=function(){this.block.active=!0,this.block.on(cc.Node.EventType.TOUCH_START,function(t){});cc.winSize.width,cc.winSize.height;this.node.position=cc.Vec2.ZERO,this.block.setContentSize(cc.winSize)},e.prototype.onDisable=function(){var t=this;this.node.runAction(cc.sequence(cc.delayTime(.15),cc.callFunc(function(){t.block.active=!1})))},e.prototype.onCloseClicked=function(){this.node.destroy()},i([s(cc.Node)],e.prototype,"block",void 0),e=i([c],e)}(cc.Component);n.Dialog=r,cc._RF.pop()},{}],DragonEggHandler:[function(t,e,n){"use strict";cc._RF.push(e,"c25dd1aAyVMCZmNLZLFslnk","DragonEggHandler");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Common/Network/WsHandler"),a=t("../../Common/Data/GameConfigs"),c=t("../../Common/Data/Constants"),s=cc._decorator,r=s.ccclass,l=(s.property,function(){function t(){}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e,this.Instance.init()),this.Instance},t.prototype.connect=function(){i.WsHandler.getInstance().joinGame(a.GameConfigs.WSGameName.ThienDia)},t.prototype.close=function(){i.WsHandler.getInstance().leaveGame(a.GameConfigs.WSGameName.ThienDia)},t.prototype.init=function(){cc.systemEvent.on(a.GameConfigs.WSGameName.ThienDia,this.parseDataGame.bind(this),this)},t.prototype.parseDataGame=function(t){try{var e=null,n=null;if(null!=t&&t.hasOwnProperty("data")&&(e=t.cmd,n=t.data),null!=n&&null!=e)switch(e){case"INFO":this.parseInfo(n);break;case"PLAY_GAME":this.parsePlayGame(n);break;case"GET_HISTORY_USER":this.parseHistory(n);break;case"GET_HISTORY_SESSION":this.parseHistoryDetail(n);break;case"GET_TOP_WIN":this.parseHonor(n);break;case"GET_TOP_JACKPOT":this.parseJackpotHistory(n)}}catch(t){}},t.prototype.parseInfo=function(t){cc.systemEvent.emit(c.default.EVENT_TD.INFO,t)},t.prototype.parsePlayGame=function(t){cc.systemEvent.emit(c.default.EVENT_TD.PLAY,t)},t.prototype.parseHistory=function(t){cc.systemEvent.emit(c.default.EVENT_TD.HISTORY,t)},t.prototype.parseHistoryDetail=function(t){cc.systemEvent.emit(c.default.EVENT_TD.HISTORY_DETAIL,t)},t.prototype.parseHonor=function(t){cc.systemEvent.emit(c.default.EVENT_TD.HONOR,t)},t.prototype.parseJackpotHistory=function(t){cc.systemEvent.emit(c.default.EVENT_TD.HISTORY_JACKPOT,t)},t.prototype.processPlay=function(t,e){var n=JSON.stringify({room_id:t,action_num:e});this.callWS("PLAY_GAME",n)},t.prototype.processRank=function(t){this.callWS("GET_TOP_WIN","")},t.prototype.processHistory=function(){this.callWS("GET_HISTORY_USER",null)},t.prototype.processHistoryDetail=function(t){this.callWS("GET_HISTORY_SESSION",JSON.stringify({session_id:t}))},t.prototype.processHonor=function(){this.callWS("GET_TOP_WIN",null)},t.prototype.processJackpotHistory=function(){this.callWS("GET_TOP_JACKPOT",null)},t.prototype.callWS=function(t,e){var n='{"cmd":"'+t+'","data":'+e+"}";i.WsHandler.getInstance().playGame(a.GameConfigs.WSGameName.ThienDia,n)},t.Instance=null,t=e=o([r],t)}());n.DragonEggHandler=l,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/WsHandler":"WsHandler"}],DragonEggHistoryDetail:[function(t,e,n){"use strict";cc._RF.push(e,"c73a7w+OrFE8JR8c2X1+Ol6","DragonEggHistoryDetail");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./DragonEggHandler"),c=t("../../Common/Utilities/Utility"),s=t("../../Lobby/Scripts/LoadingManager"),r=t("../../Common/Data/Constants"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabCellHistory=null,e.content=null,e.contentSC=null,e.lbSession=null,e.lbLuckyNumber=null,e.lbJPNumbers=null,e.session_id=0,e}return o(e,t),e.prototype.onLoad=function(){var t=this;s.default.getInstance().show(),cc.systemEvent.on(r.default.EVENT_TD.HISTORY_DETAIL,this.show.bind(this),this),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){a.DragonEggHandler.getInstance().processHistoryDetail(t.session_id)})))},e.prototype.show=function(t){for(var e in this.lbSession.string="#"+t[0].session_id,this.lbLuckyNumber.string=t[0].lucky_number,this.lbJPNumbers.string=t[0].jackpot_number,t){var n=cc.instantiate(this.prefabCellHistory);parseInt(e)%2==0&&(n.getChildByName("lay").active=!1),n.getChildByName("Step").getComponent(cc.Label).string=t[e].step,n.getChildByName("Select").getComponent(cc.Label).string=this.convertAction(t[e].action),n.getChildByName("Number_cur").getComponent(cc.Label).string=t[e].current_number,n.getChildByName("Bet").getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(t[e].current_bet),n.getChildByName("Win").getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(t[e].win_value),n.getChildByName("Result").getComponent(cc.Label).string=0==t[e].is_jackpot?c.Utility.getInstance().numberToCurrency(t[e].lucky_prize):c.Utility.getInstance().numberToCurrency(t[e].jackpot_prize),this.content.addChild(n)}this.contentSC.scrollToTop(),s.default.getInstance().hide()},e.prototype.convertAction=function(t){return 0==t?"B\u1eaft \u0110\u1ea7u":1==t?"L\xean":2==t?"Xu\u1ed1ng":3==t?"X2":4==t?"Nh\xe2n B\u1ea3n":5==t?"D\u1eebng":""},e.prototype.onBtnClose=function(){this.node.destroy()},i([p(cc.Prefab)],e.prototype,"prefabCellHistory",void 0),i([p(cc.Node)],e.prototype,"content",void 0),i([p(cc.ScrollView)],e.prototype,"contentSC",void 0),i([p(cc.Label)],e.prototype,"lbSession",void 0),i([p(cc.Label)],e.prototype,"lbLuckyNumber",void 0),i([p(cc.Label)],e.prototype,"lbJPNumbers",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./DragonEggHandler":"DragonEggHandler"}],DragonEggHistory:[function(t,e,n){"use strict";cc._RF.push(e,"0c353SdoQ5J7YcaA8l4AAZL","DragonEggHistory");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./DragonEggHandler"),c=t("../../Common/Utilities/Utility"),s=t("../../Common/Data/Constants"),r=t("../../Lobby/Scripts/LoadingManager"),l=t("../../Common/Data/GameConfigs"),u=t("./DragonEggHistoryDetail"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabCellHistory=null,e.content=null,e.contentSC=null,e.historyDetail=null,e}return o(e,t),e.prototype.onLoad=function(){r.default.getInstance().show(),cc.systemEvent.on(s.default.EVENT_TD.HISTORY,this.show.bind(this),this),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){a.DragonEggHandler.getInstance().processHistory()})))},e.prototype.show=function(t){var e=this,n=function(n){var i=cc.instantiate(o.prefabCellHistory);parseInt(n)%2==0&&(i.getChildByName("layout").active=!1),i.getChildByName("Session").getComponent(cc.Label).string=t[n].session_id,i.getChildByName("Time").getComponent(cc.Label).string=t[n].create_time,i.getChildByName("Room").getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(t[n].room_value),i.getChildByName("Bet").getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(t[n].bet_value),i.getChildByName("Win").getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(t[n].win_value),i.getChildByName("Detail").on(cc.Node.EventType.TOUCH_START,function(){var o=cc.instantiate(e.historyDetail),i=cc.winSize;o.x=i.width/2,o.y=i.height/2,o.getComponent(u.default).session_id=t[n].session_id,cc.director.getScene().addChild(o,l.GameConfigs.zOderGame.POP_UP)}),i.setPosition(0,-25-40*(t.length-parseInt(n)-1)),o.content.addChild(i)},o=this;for(var i in t)n(i);this.content.height=40*t.length,r.default.getInstance().hide()},i([h(cc.Prefab)],e.prototype,"prefabCellHistory",void 0),i([h(cc.Node)],e.prototype,"content",void 0),i([h(cc.ScrollView)],e.prototype,"contentSC",void 0),i([h(cc.Prefab)],e.prototype,"historyDetail",void 0),e=i([d],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./DragonEggHandler":"DragonEggHandler","./DragonEggHistoryDetail":"DragonEggHistoryDetail"}],DragonEggJackpotHistory:[function(t,e,n){"use strict";cc._RF.push(e,"d77f39ggydCDZL+MOktt5Hy","DragonEggJackpotHistory");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./DragonEggHandler"),c=t("../../Common/Utilities/Utility"),s=t("../../Common/Data/Constants"),r=t("../../Lobby/Scripts/LoadingManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabCellJPHistory=null,e.content=null,e}return o(e,t),e.prototype.onLoad=function(){r.default.getInstance().show(),cc.systemEvent.on(s.default.EVENT_TD.HISTORY_JACKPOT,this.onGetJackpotHistory.bind(this),this),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){a.DragonEggHandler.getInstance().processJackpotHistory()})))},e.prototype.onGetJackpotHistory=function(t){for(var e in t){var n=cc.instantiate(this.prefabCellJPHistory);parseInt(e)%2==0&&(n.getChildByName("layout").active=!1),n.getChildByName("Time").getComponent(cc.Label).string=t[e].create_time,n.getChildByName("Room").getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(t[e].room_value),n.getChildByName("NickName").getComponent(cc.Label).string=t[e].nick_name,n.getChildByName("Win").getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(t[e].win_value),this.content.addChild(n)}r.default.getInstance().hide()},i([p(cc.Prefab)],e.prototype,"prefabCellJPHistory",void 0),i([p(cc.Node)],e.prototype,"content",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./DragonEggHandler":"DragonEggHandler"}],DragonEggRank:[function(t,e,n){"use strict";cc._RF.push(e,"218f6DZW4hAS4ssBuZksKO1","DragonEggRank");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./DragonEggHandler"),c=t("../../Common/Utilities/Utility"),s=t("../../Common/Data/Constants"),r=t("../../Lobby/Scripts/LoadingManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabCellRank=null,e.content=null,e}return o(e,t),e.prototype.onLoad=function(){r.default.getInstance().show(),cc.systemEvent.on(s.default.EVENT_TD.HONOR,this.onGetRank.bind(this),this),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){a.DragonEggHandler.getInstance().processHonor()})))},e.prototype.onGetRank=function(t){for(var e in t){var n=cc.instantiate(this.prefabCellRank);parseInt(e)%2==0&&(n.getChildByName("layout").active=!1),n.getChildByName("Time").getComponent(cc.Label).string=t[e].create_time,n.getChildByName("Room").getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(t[e].room_value),n.getChildByName("NickName").getComponent(cc.Label).string=t[e].nick_name,n.getChildByName("Win").getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(t[e].win_value),this.content.addChild(n)}r.default.getInstance().hide()},i([p(cc.Prefab)],e.prototype,"prefabCellRank",void 0),i([p(cc.Node)],e.prototype,"content",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./DragonEggHandler":"DragonEggHandler"}],DragonEggScroll:[function(t,e,n){"use strict";cc._RF.push(e,"3667bVLqQ9Ep6+NlekWKZXp","DragonEggScroll");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./DragonEggHandler"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effect=null,e.result=null,e.SCROLL_STATE={PREPARE:0,PLAYING_EFFECT:1,STOP:2},e.state=e.SCROLL_STATE.PREPARE,e.startDelay=0,e.callBackEnd=function(){},e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){this.node.stopAllActions()},e.prototype.startScroll=function(t){var e=this,n=setTimeout(function(){e.state!=e.SCROLL_STATE.PREPARE&&(e.resetScroll(),e.callBackEnd()),clearTimeout(n)},5e3);this.state==this.SCROLL_STATE.PREPARE&&(this.state=this.SCROLL_STATE.PLAYING_EFFECT,this.node.runAction(cc.sequence(cc.delayTime(this.startDelay),cc.callFunc(function(){e.result.getComponent(cc.Animation).play("updown")}),cc.delayTime(.11),cc.callFunc(function(){e.result.active=!1,e.effect.node.active=!0,e.effect.play("scrolleffect"),e.updateResult()}),cc.delayTime(t),cc.callFunc(function(){e.effect.node.active=!1,e.result.active=!0,e.effect.stop("snscroll"),e.result.getComponent(cc.Animation).play("downup")}),cc.delayTime(.11),cc.callFunc(function(){e.resetScroll(),clearTimeout(n),e.callBackEnd()}))))},e.prototype.updateResult=function(){this.result.getChildByName("number").getComponent(cc.Label).string=a.DragonEggHandler.getInstance().current_number+""},e.prototype.resetScroll=function(){this.node.stopAllActions(),this.result.active=!0,this.effect.node.active=!1,this.state=this.SCROLL_STATE.PREPARE},i([r(cc.Animation)],e.prototype,"effect",void 0),i([r(cc.Node)],e.prototype,"result",void 0),e=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./DragonEggHandler":"DragonEggHandler"}],DragonEgg:[function(t,e,n){"use strict";cc._RF.push(e,"3cab0fxoMRJqoJwAnngKktU","DragonEgg");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./DragonEggHandler"),c=t("../../Common/Data/Constants"),s=t("../../Common/Utilities/Utility"),r=t("../../Common/UI/PopupInterface"),l=t("../../Common/Data/GameConfigs"),u=t("../../Common/Data/GameData"),p=t("../../Common/UI/NumberRun"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GAME_STATE={START:0,PLAY:1,STOP:2},e.lbSession=null,e.lbJackpot=null,e.lbMoneyHeight=null,e.lbMoneyMid=null,e.lbMoneyLow=null,e.holderButtonRoom=null,e.lbLuckyNumber=null,e.btnX2=null,e.btnStop=null,e.btnHigh=null,e.btnLow=null,e.btnDuplicate=null,e.holderNumber=null,e.animNumber=null,e.lbResult=null,e.holderGate=null,e.lbWin=null,e.animWin=null,e.lbLastNumber=null,e.animLose=null,e.history=null,e.rank=null,e.jackpotHistory=null,e.noti=null,e.jackpotLabel=null,e.nodePlay=null,e.roomId=1,e.moneyBet=0,e.gameSate=e.GAME_STATE.START,e.isX2=!1,e.gameStatus=0,e.canChoseHigh=!1,e.canChoseLow=!1,e.isPlay=!1,e.isStop=!1,e.isDuplicate=0,e.highBet=0,e.lowBet=0,e.showNumGate=!1,e.actionId={START:0,HIGH:1,LOW:2,X2:3,DUPLICATE:4,STOP:5},e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.btnDuplicate.interactable=!1,this.btnX2.interactable=!1,this.btnStop.interactable=!1,this.btnHigh.interactable=!1,this.btnLow.interactable=!1,cc.systemEvent.on(c.default.EVENT_TD.INFO,this.onInfo.bind(this),this),cc.systemEvent.on(c.default.EVENT_TD.PLAY,this.onPlay.bind(this),this),cc.systemEvent.on(l.GameConfigs.JPName.ThienDia,this.onPushJackpot.bind(this),this),this.node.getComponent(r.default).addTouchMove(),this.node.on(cc.Node.EventType.TOUCH_START,function(){t.node.zIndex=l.GameConfigs.zOderGame.MINIGAME++}).bind(this)},e.prototype.onPushJackpot=function(t){t&&t[this.roomId-1]&&(this.jackpotLabel.money=t[this.roomId-1])},e.prototype.onInfo=function(t){var e=this,n=t.session_info,o=t.win_value;for(var i in this.gameStatus=n.game_status,this.roomId=n.room_id,this.holderButtonRoom.children){var a=this.holderButtonRoom.children[i];+i+1==this.roomId?a.color=cc.Color.WHITE:a.color=cc.Color.GRAY}2!=this.gameStatus&&3!=this.gameStatus||(this.btnDuplicate.interactable=!(3==this.gameStatus),this.isDuplicate=2,this.isPlay=!0,this.executeSession(n,o),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.btnHigh.interactable=e.canChoseHigh,e.btnLow.interactable=e.canChoseLow,e.btnX2.interactable=e.canChoseHigh&&e.canChoseLow,n.last_number.split(",").length>1&&(e.btnX2.interactable=e.canChoseHigh&&e.canChoseLow,e.btnStop.interactable=!0)}))))},e.prototype.onPlay=function(t){var e=this,n=t.session_info,o=t.win_value,i=(t.is_jackpot,t.balance),a=t.respone_code;switch(a){case-99:this.showNoti("System Error");break;case-2:this.showNoti("Wrong Input");break;case-3:this.showNoti("No Method");break;case-10:this.showNoti("X2_TWO_TIME_ERROR");break;case-11:this.showNoti("X2_SAVE_SAME_ERROR");break;case-12:this.showNoti("SAVE_ONE_TIME_ERROR");break;case-4:this.showNoti("KICK_LOGIN_OTHER_DEVICE")}if(a<0)this.resetSession();else{if(this.isPlay=!0,this.btnPlay.interactable=!1,this.gameStatus=n.game_status,3==this.gameStatus){this.isStop&&(this.isStop=!1);var r=(l=n.last_number.split(","))[l.length-2];return this.holderNumber.active=!0,this.animNumber.node.active=!0,this.animNumber.play("scrolleffect"),this.lbResult.string="",this.btnHigh.interactable=!1,this.btnLow.interactable=!1,this.btnX2.interactable=!1,this.btnStop.interactable=!1,void this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.lbMoneyHeight.string=s.Utility.getInstance().numberToCurrency(n.bet_info.high_bet),e.lbMoneyMid.string=s.Utility.getInstance().numberToCurrency(n.bet_info.current_bet),e.lbMoneyLow.string=s.Utility.getInstance().numberToCurrency(n.bet_info.low_bet),e.animNumber.node.active=!1,e.lbResult.string=r,e.lbLastNumber.string=n.last_number}),cc.delayTime(2),cc.callFunc(function(){e.executeSession(n,o)}),cc.delayTime(1),cc.callFunc(function(){e.btnHigh.interactable=e.canChoseHigh,e.btnLow.interactable=e.canChoseLow,e.btnX2.interactable=e.canChoseHigh&&e.canChoseLow})))}if(this.isStop)return this.isStop=!1,this.animLose.node.getComponent(cc.Label).string="B\u1ea1n \u0111\xe3 d\u1eebng",this.animLose.node.color=(new cc.Color).fromHEX("46ff4a"),this.animLose.node.opacity=255,this.animLose.play("win"),this.resetSession(),void cc.systemEvent.emit(c.default.EVENT_LOBBY.UPDATE_BALANCE,i);if(1==this.isDuplicate)return this.isDuplicate=2,this.btnX2.interactable=!1,this.btnStop.interactable=!1,void(this.btnDuplicate.interactable=!1);if(this.executeSession(n,o),1==this.gameStatus)this.btnStop.interactable=!1,this.btnX2.interactable=!1,this.node.runAction(cc.sequence(cc.delayTime(2.5),cc.callFunc(function(){e.resetSession(),e.animLose.node.getComponent(cc.Label).string="B\u1ea1n \u0111\xe3 thua",e.animLose.node.opacity=255,e.animLose.node.color=cc.Color.RED,e.animLose.play("win"),cc.systemEvent.emit(c.default.EVENT_LOBBY.UPDATE_BALANCE,i)})));else if(2==this.gameStatus){var l;1==(l=n.last_number.split(",")).length&&cc.systemEvent.emit(c.default.EVENT_LOBBY.UPDATE_BALANCE,i),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){o>0&&(e.lbWin.node.opacity=255,e.lbWin.node.active=!0,e.lbWin.string="+"+s.Utility.getInstance().numberToCurrency(o),e.animWin.play("win"),cc.systemEvent.emit(c.default.EVENT_LOBBY.UPDATE_BALANCE,i))}),cc.delayTime(1),cc.callFunc(function(){e.btnHigh.interactable=e.canChoseHigh,e.btnLow.interactable=e.canChoseLow})))}}},e.prototype.resetSession=function(){this.nodePlay.active=!0,this.holderNumber.active=!1;for(var t=0,e=this.holderGate.children;t<e.length;t++){var n=e[t];n.active=!1;var o=n.getChildByName("number"),i=n.getChildByName("numberAct");o.getComponent(cc.Label).string="",i.getComponent(cc.Label).string=""}this.showNumGate=!1,this.isX2=!1,this.isPlay=!1,this.isDuplicate=0,this.btnX2.interactable=!1,this.btnStop.interactable=!1,this.btnDuplicate.interactable=!1,this.lbLastNumber.string="",this.lbSession.string="#--",this.lbLuckyNumber.string="",this.btnHigh.interactable=!1,this.btnLow.interactable=!1,this.btnPlay.interactable=!0,this.lbMoneyMid.string="0",this.lbMoneyHeight.string="0",this.lbMoneyLow.string="0"},e.prototype.executeSession=function(t,e){var n=this,o=t.jackpot_number_current,i=t.jackpot_number;if(i=i.split(","),o=o.split(","),this.lbSession.string="#"+t.session_id,this.lbLuckyNumber.string=t.lucky_number,this.btnHigh.interactable=!1,this.btnLow.interactable=!1,this.btnX2.interactable=!1,this.btnDuplicate.interactable=!1,this.canChoseHigh=t.bet_info.high_bet>0,this.canChoseLow=t.bet_info.low_bet>0,this.highBet=t.bet_info.high_bet,this.lowBet=t.bet_info.low_bet,this.moneyBet=t.bet_info.current_bet,this.isX2?(this.lbMoneyHeight.string=s.Utility.getInstance().numberToCurrency(t.bet_info.high_bet),this.lbMoneyMid.string=s.Utility.getInstance().numberToCurrency(t.bet_info.current_bet),this.lbMoneyLow.string=s.Utility.getInstance().numberToCurrency(t.bet_info.low_bet),this.btnHigh.interactable=!0,this.btnLow.interactable=!0,this.btnStop.interactable=!1,this.btnX2.interactable=!1,this.isX2=!1):(this.nodePlay.active=!1,this.holderNumber.active=!0,this.animNumber.node.active=!0,this.animNumber.play("scrolleffect"),this.lbResult.string="",this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){n.lbMoneyHeight.string=s.Utility.getInstance().numberToCurrency(t.bet_info.high_bet),n.lbMoneyMid.string=s.Utility.getInstance().numberToCurrency(t.bet_info.current_bet),n.lbMoneyLow.string=s.Utility.getInstance().numberToCurrency(t.bet_info.low_bet),n.animNumber.node.active=!1,n.lbResult.string=t.bet_info.current_number,n.lbLastNumber.string=t.last_number;for(var e=0,i=n.holderGate.children;e<i.length;e++){var a=i[e];a.active=!0;for(var c=a.getChildByName("number"),r=a.getChildByName("numberAct"),l=0,u=o;l<u.length;l++){var p=u[l];c.getComponent(cc.Label).string==p&&(r.getComponent(cc.Label).string=p)}}o.length>=3&&(n.btnDuplicate.interactable=!1)}),cc.delayTime(1),cc.callFunc(function(){t.last_number.split(",").length>1&&e>0&&(n.btnStop.interactable=!0,n.btnX2.interactable=n.canChoseHigh&&n.canChoseLow,n.btnDuplicate.interactable=2!=n.isDuplicate)})))),!this.showNumGate)for(var a in this.showNumGate=!0,this.holderGate.children){var c=this.holderGate.children[a];c.active=!0;var r=c.getChildByName("number"),l=c.getChildByName("numberAct");r.getComponent(cc.Label).string=i[a],r.getComponent(cc.Label).string==o[a]&&(l.getComponent(cc.Label).string=o[a])}},e.prototype.onBtnHighLow=function(t,e){switch(this.btnStop.interactable=!1,this.btnX2.interactable=!1,e){case"1":cc.systemEvent.emit(c.default.EVENT_LOBBY.UPDATE_BALANCE,u.default.getInstance().UserData.balance-this.moneyBet),a.DragonEggHandler.getInstance().processPlay(this.roomId,this.actionId.HIGH);break;case"2":cc.systemEvent.emit(c.default.EVENT_LOBBY.UPDATE_BALANCE,u.default.getInstance().UserData.balance-this.moneyBet),a.DragonEggHandler.getInstance().processPlay(this.roomId,this.actionId.LOW)}},e.prototype.onBtnBet=function(t,e){if(!this.isPlay){this.roomId=+e;for(var n=0,o=this.holderButtonRoom.children;n<o.length;n++){o[n].color=cc.Color.GRAY}t.target.color=cc.Color.WHITE}},e.prototype.onBtnX2=function(){u.default.getInstance().UserData.balance<2*this.moneyBet?this.showNoti("B\u1ea1n kh\xf4ng \u0111\u1ee7 s\u1ed1 d\u01b0 \u0111\u1ec3 bet"):(this.isX2=!0,a.DragonEggHandler.getInstance().processPlay(this.roomId,this.actionId.X2))},e.prototype.onBtnStop=function(){this.isStop=!0,a.DragonEggHandler.getInstance().processPlay(this.roomId,this.actionId.STOP)},e.prototype.onBtnDuplicate=function(){this.isDuplicate=1,a.DragonEggHandler.getInstance().processPlay(this.roomId,this.actionId.DUPLICATE)},e.prototype.onBtnPlay=function(){a.DragonEggHandler.getInstance().processPlay(this.roomId,this.actionId.START)},e.prototype.onBtnHistory=function(){var t=cc.instantiate(this.history),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnRank=function(){var t=cc.instantiate(this.rank),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnJackpotHistory=function(){var t=cc.instantiate(this.jackpotHistory),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.showNoti=function(t){var e=cc.instantiate(this.noti);e.getComponent("Notification").setContent(t),e.getComponent("Notification").showDialog(2),cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onDestroy=function(){a.DragonEggHandler.getInstance().close()},i([f(cc.Label)],e.prototype,"lbSession",void 0),i([f(cc.Label)],e.prototype,"lbJackpot",void 0),i([f(cc.Label)],e.prototype,"lbMoneyHeight",void 0),i([f(cc.Label)],e.prototype,"lbMoneyMid",void 0),i([f(cc.Label)],e.prototype,"lbMoneyLow",void 0),i([f(cc.Node)],e.prototype,"holderButtonRoom",void 0),i([f(cc.Label)],e.prototype,"lbLuckyNumber",void 0),i([f(cc.Button)],e.prototype,"btnPlay",void 0),i([f(cc.Button)],e.prototype,"btnX2",void 0),i([f(cc.Button)],e.prototype,"btnStop",void 0),i([f(cc.Button)],e.prototype,"btnHigh",void 0),i([f(cc.Button)],e.prototype,"btnLow",void 0),i([f(cc.Button)],e.prototype,"btnDuplicate",void 0),i([f(cc.Node)],e.prototype,"holderNumber",void 0),i([f(cc.Animation)],e.prototype,"animNumber",void 0),i([f(cc.Label)],e.prototype,"lbResult",void 0),i([f(cc.Node)],e.prototype,"holderGate",void 0),i([f(cc.Label)],e.prototype,"lbWin",void 0),i([f(cc.Animation)],e.prototype,"animWin",void 0),i([f(cc.Label)],e.prototype,"lbLastNumber",void 0),i([f(cc.Animation)],e.prototype,"animLose",void 0),i([f(cc.Prefab)],e.prototype,"history",void 0),i([f(cc.Prefab)],e.prototype,"rank",void 0),i([f(cc.Prefab)],e.prototype,"jackpotHistory",void 0),i([f(cc.Prefab)],e.prototype,"noti",void 0),i([f(p.default)],e.prototype,"jackpotLabel",void 0),i([f(cc.Node)],e.prototype,"nodePlay",void 0),e=i([h],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/UI/NumberRun":"NumberRun","../../Common/UI/PopupInterface":"PopupInterface","../../Common/Utilities/Utility":"Utility","./DragonEggHandler":"DragonEggHandler"}],Effect:[function(t,e,n){"use strict";cc._RF.push(e,"ddaecfYHodGKLmrmOKJwl1Y","Effect");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeXoay=null,e.nodeWin=null,e}return o(e,t),e.prototype.onLoad=function(){this.nodeXoay.runAction(cc.repeatForever(cc.rotateBy(5,360))),this.nodeWin.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(1,1.2),cc.scaleTo(1,1))))},i([s(cc.Node)],e.prototype,"nodeXoay",void 0),i([s(cc.Node)],e.prototype,"nodeWin",void 0),e=i([c],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],EventAlpha:[function(t,e,n){"use strict";cc._RF.push(e,"eb65aunnIJNwJdIBog+i3DQ","EventAlpha");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utilities/Utility"),c=t("../../Common/Data/Constants"),s=t("./LoadingManager"),r=t("../../Common/Network/ConnectHandler"),l=t("../../Common/Data/GameConfigs"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listTabLeft=[],e.listNode=[],e.listButtonRight=[],e.listNodeMenu=[],e.nodeTick=null,e.eventCell=null,e.content=null,e.lbDate=null,e.arrowDate=null,e.bgDate=null,e.nodeTabRight=null,e.contentBanner=null,e.type=0,e}return o(e,t),e.prototype.onLoad=function(){this.onShowBanner(),cc.systemEvent.on(c.default.EVENT_API.GET_EVENT_ALPHA,this.onEventAlpha.bind(this),this);var t=cc.sys.localStorage.getItem(a.Utility.getInstance().getCurrDateInt());this.nodeTick.active="true"==t,this.lbDate.string=a.Utility.getInstance().getCurrDate()},e.prototype.onBtnDate=function(t){this.arrowDate.rotation=this.bgDate.active?0:-90,this.bgDate.active=!this.bgDate.active},e.prototype.onEventAlpha=function(t){if(this.content.removeAllChildren(!0),s.default.getInstance().hide(),null!=t){var e=0;if(0==t.status)for(var n=0,o=t.data;n<o.length;n++){var i=o[n],c=cc.instantiate(this.eventCell);e%2==0?c.getChildByName("1").active=!0:c.getChildByName("2").active=!0,e<3?c.getChildByName("rank_"+e).active=!0:c.getChildByName("rank").getComponent(cc.Label).string=e+1+"",c.getChildByName("nick").getComponent(cc.Label).string=i.nick_name,c.getChildByName("win").getComponent(cc.Label).string=1==this.type?a.Utility.getInstance().numberToCurrency(i.total_prize):a.Utility.getInstance().numberToCurrency(i.data),c.getChildByName("time").getComponent(cc.Label).string=1==this.type?i.date_update:i.date_time,c.getChildByName("award").getComponent(cc.Label).string=1==this.type?this.parseAwardSlot(e+1):this.parseAwardTX(e+1),e++,this.content.addChild(c)}}},e.prototype.parseAwardSlot=function(t){return 1==t?"1.000.000":2==t?"500.000":3==t?"300.000":t>=4&&t<=5?"200.000":t>5&&t<=10?"100.000":void 0},e.prototype.parseAwardTX=function(t){return 1==t?"2.000.000":2==t?"1.500.000":3==t?"1.000.000":t>=4&&t<=5?"500.000":t>5&&t<=10?"300.000":t>=11&&t<=20?"200.000":void 0},e.prototype.onBtnTabLeft=function(t,e){for(var n in this.listNode)n==e?(0==+e?this.onBtnTabRight(this.listButtonRight[0],0):1==+e?(this.type=0,this.onBtnTabRight(this.listButtonRight[1],1)):(this.type=1,this.onBtnTabRight(this.listButtonRight[1],1)),this.listNode[n].active=!0,this.listTabLeft[n].children[0].active=!0):(this.listNode[n].active=!1,this.listTabLeft[n].children[0].active=!1);this.nodeTabRight.active=+e>0,this.bgDate.active=!1,this.arrowDate.rotation=0},e.prototype.onBtnTabRight=function(t,e){for(var n in this.listNodeMenu)n==e?(1==+e&&(s.default.getInstance().show(),r.default.getInstance().processGetEventAlpha(a.Utility.getInstance().getCurrDateInt(),this.type)),this.listNodeMenu[+n].active=!0,this.listButtonRight[n].interactable=!1):(this.listNodeMenu[+n].active=!1,2==+e&&(this.listNodeMenu[1].active=!0),this.listButtonRight[n].interactable=!0);this.bgDate.active=!1,this.arrowDate.rotation=0},e.prototype.onBtnOptionDate=function(t,e){this.lbDate.string=e,this.bgDate.active=!1,this.arrowDate.rotation=0,s.default.getInstance().show(),r.default.getInstance().processGetEventAlpha(a.Utility.getInstance().formatDateInt(e),this.type)},e.prototype.onBtnShow=function(t){this.nodeTick.active=!this.nodeTick.active,cc.sys.localStorage.setItem(a.Utility.getInstance().getCurrDateInt(),this.nodeTick.active)},e.prototype.onShowBanner=function(){var t=this;if(0!=l.GameConfigs.server_config.banner.length)for(var e=function(e){cc.loader.load(e.img,function(n,o){var i=new cc.Node,a=i.addComponent(cc.Sprite);i.active=!0,i.on(cc.Node.EventType.TOUCH_END,function(t){cc.sys.openURL(e.link)}),a.spriteFrame=new cc.SpriteFrame(o),i.width=t.contentBanner.width,t.contentBanner.addChild(i)})},n=0,o=l.GameConfigs.server_config.banner;n<o.length;n++){e(o[n])}},i([d(cc.Node)],e.prototype,"listTabLeft",void 0),i([d(cc.Node)],e.prototype,"listNode",void 0),i([d(cc.Button)],e.prototype,"listButtonRight",void 0),i([d(cc.Node)],e.prototype,"listNodeMenu",void 0),i([d(cc.Node)],e.prototype,"nodeTick",void 0),i([d(cc.Prefab)],e.prototype,"eventCell",void 0),i([d(cc.Node)],e.prototype,"content",void 0),i([d(cc.Label)],e.prototype,"lbDate",void 0),i([d(cc.Node)],e.prototype,"arrowDate",void 0),i([d(cc.Node)],e.prototype,"bgDate",void 0),i([d(cc.Node)],e.prototype,"nodeTabRight",void 0),i([d(cc.Node)],e.prototype,"contentBanner",void 0),e=i([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/Utilities/Utility":"Utility","./LoadingManager":"LoadingManager"}],EventManager:[function(t,e,n){"use strict";cc._RF.push(e,"fe574ColRVPprL8HR+TkmgH","EventManager");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameConfigs"),c=t("../../Common/Data/Constants"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listEvent=[],e.listFrameEvent=[],e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(c.default.EVENT_API.GET_EVENT_OPEN,this.onEventOpen.bind(this),this),cc.systemEvent.on(c.default.EVENT_API.GET_ALL_EVENT,this.onAllEvent.bind(this),this)},e.prototype.onEventOpen=function(t){if(0==t.status){c.default.EVENT_OPEN=t.data;for(var e=0,n=t.data;e<n.length;e++){var o=n[e],i=this.parseGameIDToEvent(o.id);this.listEvent[i].active=0!=o.is_open&&this.checkIsMatchDay(o.day_event),o.id!=a.GameConfigs.GameId.TaiXiu&&o.id!=a.GameConfigs.GameId.Fish&&(this.listEvent[i].getComponent(cc.Sprite).spriteFrame=this.listFrameEvent[o.multiply-2])}}},e.prototype.onAllEvent=function(t){0==t.status&&(c.default.ALL_EVENT=t.data)},e.prototype.checkIsMatchDay=function(t){for(var e=0,n=t.split(",");e<n.length;e++){if(+n[e]==this.getCurrentDay())return!0}return!1},e.prototype.getCurrentDay=function(){return(new Date).getDay()+1},e.prototype.parseGameIDToEvent=function(t){switch(t){case a.GameConfigs.GameId.TaiXiu:return 0;case a.GameConfigs.GameId.Minipoker:return 1;case a.GameConfigs.GameId.ThienThu:return 2;case a.GameConfigs.GameId.ThinhKinh:return 3;case a.GameConfigs.GameId.Fish:return 4;case a.GameConfigs.GameId.LongHo:return 5;case a.GameConfigs.GameId.ThanTai:return 6;case a.GameConfigs.GameId.KT:return 7;case a.GameConfigs.GameId.TienHiep:return 8}},i([l(cc.Node)],e.prototype,"listEvent",void 0),i([l(cc.SpriteFrame)],e.prototype,"listFrameEvent",void 0),e=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs"}],EventTX:[function(t,e,n){"use strict";cc._RF.push(e,"88f680GidFLW6XoFbXt2KA0","EventTX");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/Constants"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeWin=null,e.nodeLose=null,e.lbWinPoint=null,e.lbLosePoint=null,e.event=null,e.endWin=0,e.endLost=0,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(a.default.EVENT_TAIXIU.EVENT_TX,this.onInfoEvent.bind(this),this),cc.systemEvent.on(a.default.EVENT_TAIXIU.GET_EVENT,this.onGetEvent.bind(this),this)},e.prototype.onGetEvent=function(t){this.endWin=t.is_end_win,this.endLost=t.is_end_lost,this.endWin,this.endLost,this.endWin>0&&this.endLost},e.prototype.onInfoEvent=function(t){t.current_win>0&&(this.lbWinPoint.string=t.current_win),t.current_old>0&&(this.lbLosePoint.string=t.current_old),15!=t.count_win&&15!=t.count_lost||(this.lbWinPoint.string="",this.lbLosePoint.string=""),this.endWin>0&&this.endLost},e.prototype.onBtnEvent=function(t){if(null==cc.director.getScene().getChildByName("TX_EVENT")){var e=cc.instantiate(this.event),n=cc.winSize;e.name="TX_EVENT",e.x=n.width/2,e.y=n.height/2,cc.director.getScene().addChild(e,a.default.zOderGame.POP_UP)}},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([r(cc.Button)],e.prototype,"nodeWin",void 0),i([r(cc.Button)],e.prototype,"nodeLose",void 0),i([r(cc.Label)],e.prototype,"lbWinPoint",void 0),i([r(cc.Label)],e.prototype,"lbLosePoint",void 0),i([r(cc.Prefab)],e.prototype,"event",void 0),e=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../Common/Data/Constants":"Constants"}],EventTop:[function(t,e,n){"use strict";cc._RF.push(e,"afc81uFEVFBuaImSaXhmcsV","EventTop");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/Constants"),c=t("./LoadingManager"),s=t("../../Common/Network/ConnectHandler"),r=t("../../Common/Utilities/Utility"),l=t("../../Common/Data/GameConfigs"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentBXH=null,e.contentDate=null,e.arrowDate=null,e.arrowDT=null,e.bgDate=null,e.bgOptionDT=null,e.lbDT=null,e.lbDate=null,e.eventCell=null,e.datePrefab=null,e.listLbStartEnd=[],e.btnDT=null,e.btnDate=null,e.lbTop=null,e.lbMonth=null,e.arrowMonth=null,e.bgMonth=null,e.nodeDateCC=null,e.nodeMonthCC=null,e.eventID=0,e.listDTWin=[],e.listDTLose=[],e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(a.default.EVENT_API.TOP_EVENT,this.onTopEvent.bind(this),this)},e.prototype.resetDefault=function(){this.bgMonth.active=!1,this.bgDate.active=!1,this.bgOptionDT.active=!1,this.arrowDT.rotation=0,this.arrowMonth.rotation=0,this.arrowDate.rotation=0},e.prototype.setEventID=function(t){this.resetDefault(),this.eventID=t,this.btnDT.active=3==this.eventID||4==this.eventID,this.btnDate.active=1==this.eventID||3==this.eventID||5==this.eventID,this.onChangeLbTop(t),this.renderDate(this.eventID);var e=r.Utility.getInstance().formatDateInt(this.lbDate.string);switch(this.eventID){case l.GameConfigs.EventId.ThanhDuChungCuoc:this.nodeDateCC.active=!0,this.nodeMonthCC.active=!1}c.default.getInstance().show(),s.default.getInstance().processGetTopEvent(this.eventID,e)},e.prototype.onChangeLbTop=function(t){switch(t){case 1:case 2:this.lbTop.string="T\u1ed5ng \u0111\u1eb7t";break;case 3:case 4:this.lbTop.string="D\xe2y";break;default:this.lbTop.string="Th\u1eafng"}},e.prototype.onTopEvent=function(t){if(c.default.getInstance().hide(),this.contentBXH.removeAllChildren(!0),null!=t&&0==t.status){var e=[];t.data.hasOwnProperty("day_thang")?(this.listDTWin=t.data.day_thang,this.listDTLose=t.data.day_thua,e=this.listDTWin):t.data.hasOwnProperty("info")?(e=t.data.list,this.listLbStartEnd[0].string=t.data.info.from,this.listLbStartEnd[1].string=t.data.info.to):e=t.data,this.spawnEventCell(e)}},e.prototype.spawnEventCell=function(t){this.contentBXH.removeAllChildren(!0);for(var e=0,n=0,o=t;n<o.length;n++){var i=o[n],a=cc.instantiate(this.eventCell);e%2==0?a.getChildByName("1").active=!0:a.getChildByName("2").active=!0,e<3?a.getChildByName("rank_"+e).active=!0:a.getChildByName("rank").getComponent(cc.Label).string=i.rank,a.getChildByName("nick").getComponent(cc.Label).string=i.nick_name,a.getChildByName("win").getComponent(cc.Label).string=r.Utility.getInstance().numberToCurrency(i.data),a.getChildByName("time").getComponent(cc.Label).string=i.date_time,a.getChildByName("award").getComponent(cc.Label).string=r.Utility.getInstance().numberToCurrency(i.award),this.contentBXH.addChild(a),e++}},e.prototype.onBtnCloseDay=function(){this.bgDate.active=!1,this.bgMonth.active=!1,this.bgOptionDT.active=!1},e.prototype.onBtnDate=function(t){this.arrowDate.rotation=this.bgDate.active?0:-90,this.bgDate.active=!this.bgDate.active},e.prototype.onBtnDT=function(t){this.arrowDT.rotation=this.bgOptionDT.active?0:-90,this.bgOptionDT.active=!this.bgOptionDT.active},e.prototype.onBtnMonth=function(t){this.arrowMonth.rotation=this.arrowMonth.active?0:-90,this.bgMonth.active=!this.bgMonth.active},e.prototype.onBtnChoseDT=function(t,e){switch(+e){case 0:this.lbDT.string="D\xe2y Th\u1eafng",this.spawnEventCell(this.listDTWin);break;case 1:this.lbDT.string="D\xe2y Thua",this.spawnEventCell(this.listDTLose)}this.arrowDT.rotation=0,this.bgOptionDT.active=!1},e.prototype.onBtnChoseMonth=function(t,e){this.lbMonth.string="Th\xe1ng "+e,+e<10&&(e="0"+e),c.default.getInstance().show(),s.default.getInstance().processGetTopEvent(l.GameConfigs.EventId.TienTriThang,e),this.bgMonth.active=!1,this.arrowMonth.rotation=0},e.prototype.renderDate=function(t){var e=this;this.contentDate.removeAllChildren(!0),this.lbMonth.string="Th\xe1ng "+r.Utility.getInstance().getCurrentMonth();for(var n=0,o=a.default.LIST_DATE_EVENT;n<o.length;n++){var i=o[n];if(t==i.game_id){var l=i.list_date,u=l.split(",");this.lbDate.string=""==l?"":r.Utility.getInstance().currentDate();for(var p=function(t){var n=u[t],o=cc.instantiate(d.datePrefab);o.getChildByName("lb").getComponent(cc.Label).string=n,o.on(cc.Node.EventType.TOUCH_END,function(){e.lbDate.string=n,e.bgDate.active=!1,e.arrowDate.rotation=0,c.default.getInstance().show(),s.default.getInstance().processGetTopEvent(e.eventID,r.Utility.getInstance().formatDateInt(n))}),d.contentDate.addChild(o)},d=this,h=u.length-1;h>=0;h--)p(h)}}},i([d(cc.Node)],e.prototype,"contentBXH",void 0),i([d(cc.Node)],e.prototype,"contentDate",void 0),i([d(cc.Node)],e.prototype,"arrowDate",void 0),i([d(cc.Node)],e.prototype,"arrowDT",void 0),i([d(cc.Node)],e.prototype,"bgDate",void 0),i([d(cc.Node)],e.prototype,"bgOptionDT",void 0),i([d(cc.Label)],e.prototype,"lbDT",void 0),i([d(cc.Label)],e.prototype,"lbDate",void 0),i([d(cc.Prefab)],e.prototype,"eventCell",void 0),i([d(cc.Prefab)],e.prototype,"datePrefab",void 0),i([d(cc.Label)],e.prototype,"listLbStartEnd",void 0),i([d(cc.Node)],e.prototype,"btnDT",void 0),i([d(cc.Node)],e.prototype,"btnDate",void 0),i([d(cc.Label)],e.prototype,"lbTop",void 0),i([d(cc.Label)],e.prototype,"lbMonth",void 0),i([d(cc.Node)],e.prototype,"arrowMonth",void 0),i([d(cc.Node)],e.prototype,"bgMonth",void 0),i([d(cc.Node)],e.prototype,"nodeDateCC",void 0),i([d(cc.Node)],e.prototype,"nodeMonthCC",void 0),e=i([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/Utilities/Utility":"Utility","./LoadingManager":"LoadingManager"}],Event:[function(t,e,n){"use strict";cc._RF.push(e,"5414bo+Ft5OVJTaLZlDyqaI","Event");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utilities/Utility"),c=t("../../Common/Data/GameConfigs"),s=t("./CountDownBanner"),r=t("./EventTop"),l=t("../../Common/Network/ConnectHandler"),u=t("../../Common/Data/Constants"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listTabLeft=[],e.listNode=[],e.listButtonRight=[],e.listNodeMenu=[],e.nodeTick=null,e.nodeButtonRight=null,e.contentBanner=null,e.countDownBanner=null,e.eventTop=null,e.lbStart=null,e.lbEnd=null,e.eventID=0,e}return o(e,t),e.prototype.onLoad=function(){this.onShowBanner(),l.default.getInstance().processGetListDateEvent(),cc.systemEvent.on(u.default.EVENT_API.LIST_DATE_EVENT,this.onListDate.bind(this),this);var t=cc.sys.localStorage.getItem(a.Utility.getInstance().getCurrDateInt());this.nodeTick.active="true"==t,this.lbStart.string=c.GameConfigs.server_config.start_date_noel,this.lbEnd.string=c.GameConfigs.server_config.end_date_noel},e.prototype.onEnable=function(){this.onShowTabLeft()},e.prototype.onShowMission=function(){this.onBtnTabLeft(null,6)},e.prototype.onShowTabLeft=function(){this.listTabLeft[1].active=c.GameConfigs.server_config.enable_tab_event.enable_thanhdu,this.listTabLeft[2].active=c.GameConfigs.server_config.enable_tab_event.enable_tientri,this.listTabLeft[3].active=c.GameConfigs.server_config.enable_tab_event.enable_thandieu,this.listTabLeft[4].active=c.GameConfigs.server_config.enable_tab_event.enable_xhu,this.listTabLeft[5].active=c.GameConfigs.server_config.enable_tab_event.enable_topvip,this.listTabLeft[6].active=c.GameConfigs.server_config.enable_tab_event.enable_nhiemvu},e.prototype.onListDate=function(t){null!=t&&0==t.status&&(u.default.LIST_DATE_EVENT=t.data)},e.prototype.onShowNoelTotal=function(){var t=this;this.onBtnTabLeft(null,1),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.onBtnTabRight(null,2)})))},e.prototype.onBtnTabLeft=function(t,e){for(var n in+e>0&&(this.eventID=this.parseTabLeftEventID(+e)),this.listNode)n==e?(this.checkEnableTabRight(+e),this.listNode[n].active=!0,this.listTabLeft[n].children[0].active=!0):(this.listNode[n].active=!1,this.listTabLeft[n].children[0].active=!1);this.nodeButtonRight.active=+e>0},e.prototype.checkEnableTabRight=function(t){switch(this.listButtonRight[0].node.active=!0,this.listButtonRight[1].node.active=!0,this.listButtonRight[2].node.active=!0,t){case 0:this.onBtnTabRight(this.listButtonRight[0],0);break;case 2:case 3:this.listButtonRight[2].node.active=!1,this.onBtnTabRight(this.listButtonRight[1],1);break;case 4:case 6:this.listButtonRight[1].node.active=!1,this.listButtonRight[2].node.active=!1,this.onBtnTabRight(this.listButtonRight[0],0);break;default:this.onBtnTabRight(this.listButtonRight[1],1)}},e.prototype.onBtnTabRight=function(t,e){for(var n in this.listNodeMenu)n==e?(this.listNodeMenu[+n].active=!0,this.listButtonRight[n].interactable=!1):(this.listNodeMenu[+n].active=!1,2==+e&&(this.listNodeMenu[1].active=!0),this.listButtonRight[n].interactable=!0);+e>0&&this.eventTop.setEventID(this.parseTabRightEventID(+e))},e.prototype.onBtnShow=function(t){this.nodeTick.active=!this.nodeTick.active,cc.sys.localStorage.setItem(a.Utility.getInstance().getCurrDateInt(),this.nodeTick.active)},e.prototype.onShowBanner=function(){var t=this;if(0!=c.GameConfigs.server_config.banner.length)for(var e=function(e){cc.loader.load(e.img,function(n,o){var i=new cc.Node,a=i.addComponent(cc.Sprite);if(i.active=!0,i.on(cc.Node.EventType.TOUCH_END,function(t){cc.sys.openURL(e.link)}),a.spriteFrame=new cc.SpriteFrame(o),i.width=t.contentBanner.width,t.contentBanner.addChild(i),!n||""==e.img){var c=cc.instantiate(t.countDownBanner);c.getComponent(s.default).countDownBanner(e.end_date);var r=-i.width/2+c.width,l=-i.height/2+c.height/2;c.setPosition(r,l),i.addChild(c)}})},n=0,o=c.GameConfigs.server_config.banner;n<o.length;n++){e(o[n])}},e.prototype.parseTabLeftEventID=function(t){switch(t){case 1:return c.GameConfigs.EventId.ThanhDuNgay;case 2:return c.GameConfigs.EventId.ThanhLongBachHo;case 3:return c.GameConfigs.EventId.ThanDieu}},e.prototype.parseTabRightEventID=function(t){switch(t){case 1:if(1==this.eventID)return c.GameConfigs.EventId.ThanhDuNgay;if(3==this.eventID)return c.GameConfigs.EventId.ThanhLongBachHo;case 2:if(1==this.eventID)return c.GameConfigs.EventId.ThanhDuChungCuoc}return this.eventID},i([h(cc.Node)],e.prototype,"listTabLeft",void 0),i([h(cc.Node)],e.prototype,"listNode",void 0),i([h(cc.Button)],e.prototype,"listButtonRight",void 0),i([h(cc.Node)],e.prototype,"listNodeMenu",void 0),i([h(cc.Node)],e.prototype,"nodeTick",void 0),i([h(cc.Node)],e.prototype,"nodeButtonRight",void 0),i([h(cc.Node)],e.prototype,"contentBanner",void 0),i([h(cc.Prefab)],e.prototype,"countDownBanner",void 0),i([h(r.default)],e.prototype,"eventTop",void 0),i([h(cc.Label)],e.prototype,"lbStart",void 0),i([h(cc.Label)],e.prototype,"lbEnd",void 0),e=i([d],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/Utilities/Utility":"Utility","./CountDownBanner":"CountDownBanner","./EventTop":"EventTop"}],FishManager:[function(t,e,n){"use strict";cc._RF.push(e,"7bfffk1x9tG6aW0OYj4s3pO","FishManager");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./BattleControl"),c=t("./FishObject"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fish_prefab=null,e.list_fish=[],e.battleControl=null,e.ID_suond=0,e}return o(e,t),e.prototype.onLoad=function(){this.battleControl=this.node.getComponent(a.default)},e.prototype.onFishDie=function(t){var e=this.getFishById(t);null!=e&&e.onFishDieAnimation()},e.prototype.getFishById=function(t){var e=this.list_fish.filter(function(e){return e.fish_id==t});return e.length>0?e[0]:null},e.prototype.updateNewPostitionFish=function(t){var e=this.list_fish.filter(function(e){return e.fish_id==t.fish_id});if(e.length>0)e[0].moveFish(t.location.v2),e[0].is_updated=!1;else{var n=this.list_fish.filter(function(e){return e.fish_kind==t.kind&&0==e.node.active});if(n.length<2){var o=cc.instantiate(this.fish_prefab);o.getComponent(c.default).init(t),o.getComponent(c.default).Manager=this,this.battleControl.node_fish.addChild(o,100),this.list_fish.push(o.getComponent(c.default))}else n[0].updateInfoFish(t)}},e.prototype.removePositionFish=function(t){this.list_fish.filter(function(e){return!t.some(function(t){return t.fish_id==e.fish_id})}).forEach(function(t){t.removeFish()})},e.prototype.removeFishScence=function(){null!=this.list_fish&&this.list_fish.forEach(function(t){t.onRemoveFishScence()})},e.prototype.removeAllFish=function(){null!=this.list_fish&&this.list_fish.forEach(function(t){t.node.removeFromParent(!0)})},i([l(cc.Prefab)],e.prototype,"fish_prefab",void 0),e=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./BattleControl":"BattleControl","./FishObject":"FishObject"}],FishObject:[function(t,e,n){"use strict";cc._RF.push(e,"87079GXzZ9A6ZZv55UA6h3n","FishObject");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./BanCaData"),c=t("./BanCaHandler"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fish_spine=null,e.die_spine=null,e.btnLock=null,e.Anim_grid=null,e.particle=null,e.particleJP=null,e.node_particleJP=null,e.Audio_JP=null,e.factor_sacle=1,e.Audio_zone=null,e.battleControl=null,e.old_position=cc.Vec2.ZERO,e.fish_id=0,e.fish_kind=0,e.is_updated=!1,e.is_die=!1,e.winsize=cc.size(1280,720),e.delta_box=20,e.Sm=!1,e.Manager=null,e}return o(e,t),e.prototype.onLoad=function(){this.node.scale=this.factor_sacle},e.prototype.onDestroy=function(){},e.prototype.onDisable=function(){},e.prototype.removeFish=function(){null!=a.default.getInstance().lock_fish_target&&a.default.getInstance().lock_fish_target.fish_id==this.fish_id&&(a.default.getInstance().lock_fish_target=null),this.node.angle=0,this.node.position=cc.v2(-3e3,-3e3),this.node.active=!1},e.prototype.onEnable=function(){},e.prototype.updateInfoFish=function(t){try{this.fish_spine.node.active=!0,this.die_spine.node.active=!1,this.particle.node.active=!1,this.is_die=!1,this.fish_spine.animation="fish_"+(t.kind>=10?t.kind:"0"+t.kind),this.fish_id=t.fish_id,this.node.position=t.location.v1,this.old_position=t.location.v1;var e=this.getRotationFish(t.location.v2);this.node.angle=-e,this.node.active=!0}catch(t){console.error("error:"+t)}},e.prototype.init=function(t){try{this.fish_id=t.fish_id,this.fish_kind=t.kind,this.node.position=t.location.v1,this.old_position=t.location.v1;var e=this.getRotationFish(t.location.v2);this.node.angle=-e,this.fish_spine.animation="fish_"+(t.kind>=10?t.kind:"0"+t.kind),this.btnLock.width=c.default.getInstance().config_fish[t.kind].box_w,this.btnLock.height=c.default.getInstance().config_fish[t.kind].box_h,this.node.getComponent(cc.BoxCollider).size=cc.size(c.default.getInstance().config_fish[t.kind].box_w,c.default.getInstance().config_fish[t.kind].box_h)}catch(t){console.error("error:"+t)}},e.prototype.moveFish=function(t){var e=this,n=this.getRotationFish(t);this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(1,t),cc.rotateTo(1,n)),cc.callFunc(function(){e.is_updated=!0})))},e.prototype.rotationFish=function(t){this.node.angle=-this.getRotationFish(t)},e.prototype.getRotationFish=function(t){var e=t.x-this.old_position.x,n=t.y-this.old_position.y,o=Math.atan2(n,e);return this.old_position=t,cc.misc.radiansToDegrees(o)},e.prototype.update=function(t){this.btnLock.active=a.default.getInstance().BATTLECONFIG.is_lock_fish,18==this.fish_kind&&this.onSoundJackpot(),18==this.fish_kind&&a.default.getInstance().BATTLECONFIG.is_lock_jackpot&&this.onBtnLockFish()},e.prototype.onSoundJackpot=function(){if(this.node.x<-this.delta_box||this.node.x>this.winsize.width+this.delta_box||this.node.y<-this.delta_box||this.node.y>this.winsize.height+this.delta_box)return cc.audioEngine.stopEffect(this.Manager.ID_suond),this.particleJP.node.active=!1,this.node_particleJP.active=!1,void(this.Sm=!1);this.Sm||(1==a.default.getInstance().BATTLECONFIG.is_Sound&&(this.Manager.ID_suond=cc.audioEngine.playEffect(this.Audio_JP,!0)),this.particleJP.node.active=!0,this.node_particleJP.active=!0,this.Sm=!0)},e.prototype.onBtnLockFish=function(){this.node.x<-this.delta_box||this.node.x>this.winsize.width+this.delta_box||this.node.y<-this.delta_box||this.node.y>this.winsize.height+this.delta_box||(a.default.getInstance().lock_fish_target=this)},e.prototype.onFishDieAnimation=function(){var t=this;this.is_die=!0,this.node.stopAllActions(),this.fish_spine.node.active=!1,13==this.fish_kind?(a.default.getInstance().BATTLECONFIG.is_Sound&&cc.audioEngine.playEffect(this.Audio_zone,!1),this.removeFish()):(this.die_spine.node.active=!0,this.die_spine.setCompleteListener(function(){t.removeFish()}))},e.prototype.onRemoveFishScence=function(){this.node.stopAllActions(),this.removeFish()},e.prototype.actionOnHit=function(){this.fish_spine.node.color=cc.color(255,255,255),this.fish_spine.node.stopAllActions(),this.fish_spine.node.runAction(cc.sequence(cc.tintTo(.1,255,0,0),cc.tintTo(.05,255,255,255)));var t=cc.instantiate(this.Anim_grid);t.x=this.node.x,t.y=this.node.y,this.node.parent.addChild(t),t.runAction(cc.sequence(cc.delayTime(.4),cc.removeSelf(!0)))},i([l(sp.Skeleton)],e.prototype,"fish_spine",void 0),i([l(sp.Skeleton)],e.prototype,"die_spine",void 0),i([l(cc.Node)],e.prototype,"btnLock",void 0),i([l(cc.Prefab)],e.prototype,"Anim_grid",void 0),i([l(cc.ParticleSystem)],e.prototype,"particle",void 0),i([l(cc.ParticleSystem)],e.prototype,"particleJP",void 0),i([l(cc.Node)],e.prototype,"node_particleJP",void 0),i([l(cc.AudioClip)],e.prototype,"Audio_JP",void 0),i([l()],e.prototype,"factor_sacle",void 0),i([l(cc.AudioClip)],e.prototype,"Audio_zone",void 0),e=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./BanCaData":"BanCaData","./BanCaHandler":"BanCaHandler"}],ForgetPass:[function(t,e,n){"use strict";cc._RF.push(e,"a941cvDmhhE16HbPO9IVV10","ForgetPass");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameConfigs"),c=cc._decorator,s=c.ccclass,r=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onBtnTelegram=function(){cc.sys.openURL(a.GameConfigs.server_config.forget_pass_telegram)},e=i([s],e)}(cc.Component));n.default=r,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs"}],Freeze:[function(t,e,n){"use strict";cc._RF.push(e,"19000n4VONII7pjHH7MiKq1","Freeze");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameData"),c=t("../../Common/Utilities/Utility"),s=t("../../Common/Network/ConnectHandler"),r=t("../../Common/Data/Constants"),l=t("../../Common/Data/GameConfigs"),u=t("../../Common/Data/LabelHelperConfigs"),p=t("./LoadingManager"),d=t("../../Common/UI/Notification"),h=cc._decorator,f=h.ccclass,_=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelBalance=null,e.labelFreezeBalance=null,e.listToggle=[],e.listNode=[],e.eboxFreeze=null,e.eboxUnFreeze=null,e.eboxOTP=null,e.btnOTP=null,e.notiPrefab=null,e.type=1,e.language=null,e}return o(e,t),e.prototype.onLoad=function(){this.language=u.TextData[a.default.getInstance().UserData.textPackage],cc.systemEvent.on(r.default.EVENT_API.FREEZE_BALANCE,this.onFreezeResponse.bind(this),this),cc.systemEvent.on(r.default.EVENT_API.UNFREEZE_BALANCE,this.onUnFreezeResponse.bind(this),this)},e.prototype.onEnable=function(){this.labelBalance.string=c.Utility.getInstance().numberToCurrency(a.default.getInstance().UserData.balance),this.labelFreezeBalance.string=c.Utility.getInstance().numberToCurrency(a.default.getInstance().UserData.freeze_money),this.onToggleFreeze(this.listToggle[0],0)},e.prototype.onTextChangeFreeze=function(){if(this.eboxFreeze.string=this.eboxFreeze.string.replace(/[^0-9]/g,""),/\d/.test(this.eboxFreeze.string)){var t=this.eboxFreeze.string.replace(/[.]/g,"");this.eboxFreeze.string=c.Utility.getInstance().numberToCurrency(t)}},e.prototype.onTextChangeUnFreeze=function(){if(this.eboxUnFreeze.string=this.eboxUnFreeze.string.replace(/[^0-9]/g,""),/\d/.test(this.eboxUnFreeze.string)){var t=this.eboxUnFreeze.string.replace(/[.]/g,"");this.eboxUnFreeze.string=c.Utility.getInstance().numberToCurrency(t)}},e.prototype.onFreezeResponse=function(t){if(p.default.getInstance().hide(),null!=t){if(this.enableNoti(s.default.getInstance().statusApiError(t.status)),0==t.status){var e=this.eboxFreeze.string.replace(/[.]/g,""),n=a.default.getInstance().UserData.balance-+e,o=a.default.getInstance().UserData.freeze_money+ +e;cc.systemEvent.emit(r.default.EVENT_LOBBY.UPDATE_BALANCE,n),this.labelBalance.string=c.Utility.getInstance().numberToCurrency(n),this.labelFreezeBalance.string=c.Utility.getInstance().numberToCurrency(o),a.default.getInstance().UserData.balance=n,a.default.getInstance().UserData.freeze_money=o}this.eboxFreeze.string=""}else this.enableNoti(this.language.system_busy)},e.prototype.onUnFreezeResponse=function(t){if(p.default.getInstance().hide(),null!=t){if(this.enableNoti(s.default.getInstance().statusApiError(t.status)),0==t.status){var e=this.eboxUnFreeze.string.replace(/[.]/g,""),n=a.default.getInstance().UserData.balance+ +e,o=a.default.getInstance().UserData.freeze_money-+e;cc.systemEvent.emit(r.default.EVENT_LOBBY.UPDATE_BALANCE,n),this.labelBalance.string=c.Utility.getInstance().numberToCurrency(n),this.labelFreezeBalance.string=c.Utility.getInstance().numberToCurrency(o),a.default.getInstance().UserData.balance=n,a.default.getInstance().UserData.freeze_money=o}this.eboxOTP.string=""}else this.enableNoti(this.language.system_busy)},e.prototype.onToggleFreeze=function(t,e){for(var n in this.listToggle)n==e?(this.listToggle[n].isChecked=!0,this.listNode[n].active=!0):(this.listToggle[n].isChecked=!1,this.listNode[n].active=!1);this.eboxOTP.string="",this.eboxFreeze.string="",this.eboxUnFreeze.string=""},e.prototype.resetDefault=function(){this.listToggle[0].isChecked=!0,this.listToggle[1].isChecked=!1,this.listNode[0].active=!0,this.listNode[1].active=!1,this.eboxFreeze.string=""},e.prototype.onBtnXN=function(t){if(this.listToggle[0].isChecked){if(0==this.eboxFreeze.string.length)return void this.enableNoti(this.language.null_freeze_money);p.default.getInstance().show();var e=this.eboxFreeze.string.replace(/[.]/g,"");s.default.getInstance().processFreeze(e)}else{if(0==this.eboxUnFreeze.string.length)return void this.enableNoti(this.language.null_unfreeze_money);if(0==this.eboxOTP.string.length)return void this.enableNoti(this.language.null_otp);p.default.getInstance().show();e=this.eboxUnFreeze.string.replace(/[.]/g,"");s.default.getInstance().processUnFreeze(e,this.eboxOTP.string)}},e.prototype.onBtnOTP=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent(d.default).showOTP(),t.getComponent(d.default).setContent(this.language.noti_get_otp),cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent("Notification").setContent(t),e.getComponent("Notification").showDialog(2),cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([_(cc.Label)],e.prototype,"labelBalance",void 0),i([_(cc.Label)],e.prototype,"labelFreezeBalance",void 0),i([_(cc.Toggle)],e.prototype,"listToggle",void 0),i([_(cc.Node)],e.prototype,"listNode",void 0),i([_(cc.EditBox)],e.prototype,"eboxFreeze",void 0),i([_(cc.EditBox)],e.prototype,"eboxUnFreeze",void 0),i([_(cc.EditBox)],e.prototype,"eboxOTP",void 0),i([_(cc.Node)],e.prototype,"btnOTP",void 0),i([_(cc.Prefab)],e.prototype,"notiPrefab",void 0),e=i([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/UI/Notification":"Notification","../../Common/Utilities/Utility":"Utility","./LoadingManager":"LoadingManager"}],GameConfigs:[function(t,e,n){"use strict";cc._RF.push(e,"85654rFgtBEOptmYyeeuAZr","GameConfigs"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator;o.ccclass,o.property;(function(t){(function(t){t.MiniPoker="minipoker",t.ThienThu="tht",t.TaiXiu="taixiu",t.ThinhKinh="thk",t.ChatTX="chat",t.Hilow="hilow",t.ThienDia="thd",t.Banca="banca",t.LongHo="lh",t.ThanTai="tt",t.KT="kt",t.TienHiep="cv",t.DaiNaoThienCung="slot30",t.NuWa="no40",t.PhongThan="pt"})(t.WSGameName||(t.WSGameName={})),function(t){t.MiniPoker="j_minipoker",t.ThinhKinh="j_thinhkinh",t.Hilow="j_highlow",t.ThienThu="j_thienthu",t.ThienDia="j_thiendia",t.BanCa="j_banca",t.LongHo="j_longho",t.ThanTai="j_thantai",t.KT="j_kiemthe",t.TienHiep="j_cuuvi",t.NuWa="j_nuwa",t.DaiNaoThienCung="j_wukong"}(t.JPName||(t.JPName={})),function(t){t.TienHiep_Room="TienHiepRoom",t.TienHiep="TienHiep",t.Lobby="Lobby",t.BanCa="GameBattle",t.LongHo="LongHo",t.LongHo_Room="LongHoRoom",t.KTRoom="KTRoom",t.KT="KT",t.TBPRoom="TBPRoom",t.TBP="TBP",t.ThanTai="TaiPhu",t.DaiNaoThienCung="DaiNaoThienCung",t.NuWa="NuWa",t.PhongThan="PhongThan"}(t.SceneName||(t.SceneName={})),function(t){t.TaiXiu=1,t.Minipoker=2,t.Hilow=3,t.ThienThu=4,t.ThinhKinh=5,t.ThienDia=11,t.LongHo=6,t.ThanTai=7,t.KT=8,t.TienHiep=9,t.NuWa=10,t.DaiNaoThienCung=11,t.Fish=100}(t.GameId||(t.GameId={})),function(t){t.ThanhDuNgay=1,t.ThanhDuChungCuoc=2,t.ThanhLongBachHo=3,t.ThanDieu=5,t.TopVipNgay=6,t.TopVipChungCuoc=7}(t.EventId||(t.EventId={})),function(t){t.link_ws="ws://alpha_g.longho.xyz",t.link_authen="ws://alpha_b.longho.xyz",t.banner=[],t.ads=[],t.transfer_fee=2,t.group="",t.chat_admin="",t.fanpage="",t.telegram="",t.chat_telegram="",t.hotline="",t.cash_out_fee=20,t.account_kit=0,t.charge_info=[],t.link_ios="",t.link_android="",t.link_pc="",t.time_change_vippoint="",t.forget_pass_telegram="",t.start_date_noel="",t.end_date_noel="",t.ev_chuot=1,t.enable_tab_event={enable_thanhdu:!0,enable_tientri:!0,enable_thandieu:!0,enable_xhu:!0,enable_topvip:!0,enable_nhiemvu:!0}}(t.server_config||(t.server_config={}));var e=function(){return function(){this.telco=0,this.ratio=0,this.value="10k,20k,30k,50k,100k,200k,300k,500k"}}();t.ChargeInfo=e;var n=function(){return function(){this.link="",this.img="",this.end_date=""}}();t.Banner=n,t.zOderGame={HANDLE_MINI:1,HU_RAU:2,MINIGAME:3,ICON:9990,BIGICON:9998,POP_UP:9999,NOTI:9997,LOADING:1e5},t.osName=function(){switch(cc.sys.os){case cc.sys.OS_ANDROID:return"ANDROID";case cc.sys.OS_IOS:return"IOS";case cc.sys.OS_WINDOWS:case cc.sys.OS_OSX:return"WEB";default:return""}},t.getOSID=function(){switch(cc.sys.os){case cc.sys.OS_ANDROID:return 2;case cc.sys.OS_IOS:return 3;case cc.sys.OS_WINDOWS:case cc.sys.OS_OSX:return 1;default:return-1}},t.getOSIDIAP=function(){switch(cc.sys.os){case cc.sys.OS_ANDROID:return 1;case cc.sys.OS_IOS:return 2}}})(n.GameConfigs||(n.GameConfigs={})),cc._RF.pop()},{}],GameData:[function(t,e,n){"use strict";cc._RF.push(e,"df48bq8sAtNTpwxHE0vWVXE","GameData"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=(o.ccclass,o.property,t("./UserData")),a=t("./GameRoomData"),c=function(){function t(){this.UserData=null,this.GameData=null,this.listEmotionsFrame={},this.isLogin=!1,this.listAvatarFrame={},this.currentIAPPackage={package_name:"com.cutephomaique.studio",product_id:"",reciept:""},this.gameRoomData=new a.GameRoomData}return t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new t),this.Instance},t.prototype.loadEmoticon=function(t){this.listEmotionsFrame={};for(var e=0,n=t.getSpriteFrames();e<n.length;e++){var o=n[e];this.listEmotionsFrame[o.name]=o}},t.prototype.startRoom=function(){this.UserData=new i.default,this.GameData=new s,this.GameData.room_nor=[],this.GameData.room_por=[],this.GameData.game_id=0},t.prototype.loadData=function(t){var e=cc.sys.localStorage.getItem(t);return null!=e?JSON.parse(e):null},t.prototype.saveData=function(t,e){null!=e&&cc.sys.localStorage.setItem(t,JSON.stringify(e))},t.prototype.setPackageLanguage=function(t){this.UserData.textPackage=t},t.Instance=null,t}();n.default=c;var s=function(){return function(){}}();n.GAME_DATA=s;var r=function(){return function(){}}();n.ROOM_CARD=r,cc._RF.pop()},{"./GameRoomData":"GameRoomData","./UserData":"UserData"}],GameRoomData:[function(t,e,n){"use strict";cc._RF.push(e,"e7701Ijo8lAAa9mdcSCF/TA","GameRoomData");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=(i.property,function(){function t(){this.listGameRoom={};for(var t=1;t<6;t++){for(var e={},n=0;n<12;n++){var o={bet_room_id:n+1,room_money:1e5+1e5*n,is_active:n%2};e[o.bet_room_id]=o}this.listGameRoom[t]=e}}return t.prototype.setDataRoomInfo=function(t){for(var e=1;e<6;e++){for(var n={},o=0;o<12;o++){var i={bet_room_id:t.bet_room_id,room_money:t.room_money,is_active:1};n[i.bet_room_id]=i}this.listGameRoom[e]=n}},t=o([a],t)}());n.GameRoomData=c,cc._RF.pop()},{}],Giftcode:[function(t,e,n){"use strict";cc._RF.push(e,"87db81zO5ZMpIp+48pmKv8f","Giftcode");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Network/ConnectHandler"),c=t("./LoadingManager"),s=t("../../Common/Data/GameConfigs"),r=t("../../Common/Data/LabelHelperConfigs"),l=t("../../Common/Data/GameData"),u=t("../../Common/Data/Constants"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eboxGiftcode=null,e.eboxCaptcha=null,e.sprCaptcha=null,e.notiPrefab=null,e.captchaVerify="",e.language=null,e}return o(e,t),e.prototype.onLoad=function(){this.refreshCaptcha(),this.language=r.TextData[l.default.getInstance().UserData.textPackage],cc.systemEvent.on(u.default.EVENT_API.GET_CAPTCHA,this.onCaptchaReaponse.bind(this),this),cc.systemEvent.on(u.default.EVENT_API.USE_GIFTCODE,this.onGiftcodeReaponse.bind(this),this)},e.prototype.onCaptchaReaponse=function(t){this.captchaVerify=t.data.captchaVerify;var e="data:image/png;base64,"+t.data.captchaImage,n=new Image;n.src=e;var o=new cc.Texture2D;o.initWithElement(n),o.handleLoadedTexture(),this.sprCaptcha.spriteFrame=new cc.SpriteFrame(o)},e.prototype.onGiftcodeReaponse=function(t){c.default.getInstance().hide(),null!=t?(this.enableNoti(a.default.getInstance().statusApiError(t.status)),0==t.status&&cc.systemEvent.emit(u.default.EVENT_LOBBY.UPDATE_BALANCE,t.data.balance),this.eboxCaptcha.string="",this.refreshCaptcha()):this.enableNoti(this.language.system_busy)},e.prototype.setGiftcode=function(t){this.eboxGiftcode.string=t},e.prototype.onEnable=function(){cc.systemEvent.emit("LANGUAGE")},e.prototype.refreshCaptcha=function(){a.default.getInstance().processGetCaptcha()},e.prototype.onBtnConfirm=function(){0!=this.eboxGiftcode.string.length?0!=this.eboxCaptcha.string.length?(c.default.getInstance().show(),a.default.getInstance().processGiftcode(this.eboxGiftcode.string,this.captchaVerify,this.eboxCaptcha.string)):this.enableNoti(this.language.null_captcha):this.enableNoti(this.language.null_giftcode)},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent("Notification").setContent(t),e.getComponent("Notification").showDialog(2),cc.director.getScene().addChild(e,s.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnChatAdmin=function(){cc.sys.openURL(s.GameConfigs.server_config.chat_admin)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([h(cc.EditBox)],e.prototype,"eboxGiftcode",void 0),i([h(cc.EditBox)],e.prototype,"eboxCaptcha",void 0),i([h(cc.Sprite)],e.prototype,"sprCaptcha",void 0),i([h(cc.Prefab)],e.prototype,"notiPrefab",void 0),e=i([d],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","./LoadingManager":"LoadingManager"}],HLHandler:[function(t,e,n){"use strict";cc._RF.push(e,"535b8ZRBOVPw7R9jDzVjZp2","HLHandler");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./HLModules"),a=t("../../Common/Data/GameConfigs"),c=t("../../Common/Network/WsHandler"),s=t("../../Common/Data/GameData"),r=t("../../Common/Data/LabelHelperConfigs"),l=t("../../Common/Data/Constants"),u=cc._decorator,p=u.ccclass,d=(u.property,function(){function t(){this.onPushPlay=function(t){},this.onPushFinish=function(t){},this.onPushRank=function(t){},this.onPushHistory=function(t){},this._user=new i.HighLowValue.User,this._play=new i.HighLowValue.PlayInfo,this._message=new i.HighLowValue.Messages,this._jackpots=[],this._bigWins=[],this._histories=[]}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e,this.Instance.init()),this.Instance},t.prototype.init=function(){cc.systemEvent.on(a.GameConfigs.WSGameName.Hilow,this.onMessage.bind(this),this)},t.prototype.onMessage=function(t){try{var e=null,n=null;if(null!=t&&t.hasOwnProperty("cmd")&&(e=t.cmd,n=t.message_data),null!=n)switch("UPDATE_ACCOUNT"==e&&this.parseUser(n),e){case"PLAY_INIT":case"PLAY_ACTION":this.parsePlayInitData(n);break;case"FINISH":this.parseFinishData(n);break;case"RANKING":this.parseBigWin(n);break;case"HISTORY":this.parserHistory(n)}}catch(t){console.error(t)}},t.prototype.clearCallback=function(){this.onPushPlay=function(t){},this.onPushRank=function(t){},this.onPushHistory=function(t){}},t.prototype.connect=function(){c.WsHandler.getInstance().joinGame(a.GameConfigs.WSGameName.Hilow)},t.prototype.close=function(){c.WsHandler.getInstance().leaveGame(a.GameConfigs.WSGameName.Hilow)},t.prototype.parseUser=function(t){this._user._userId=t.account_id,this._user._userName=t.username,this._user._sessionId=t.session_id,this._user._accessStr=t.aces_string,this._user._accessTotal=t.aces_total,this._user._roomId=t.room_id,this._user._step=t.step,this._play._step=t.step,this._user._cardStr=t.card_string,this._user._cardId=t.card_id,this._play._cardId=t.card_id,this._user._betValue=t.bet_value,this._user._remainSecond=t.remain_seconds,this._user._multiplyHigh=t.multiply_hight,this._user._multiplyLow=t.multiply_low,this._user._execResult=t.exec_result,this._user._rank=t.rank,this._user._point=t.step_count,this._play._execResult<0?cc.systemEvent.emit(l.default.EVENT_HILOW.PARSE_ACC_DONE,!1):cc.systemEvent.emit(l.default.EVENT_HILOW.PARSE_ACC_DONE,!0)},t.prototype.parsePlayInitData=function(t){this._play._sessionId=t.session_id,this._play._actionId=t.action_id,this._play._accessStr=t.aces_string,this._play._accessTotal=t.aces_total,this._play._step=t.step,this._play._cardStr=t.card_string,this._play._cardId=t.card_id,this._play._betValue=t.bet_value,this._play._prizeValue=t.prize_value,this._play._JackpotValue=t.jackpot_value,this._play._balance=t.balance,this._play._multiplyHigh=t.multiply_hight,this._play._multiplyLow=t.multiply_low,this._play._execResult=t.exec_result,this._user._rank=t.rank,this._user._point=t.step_count,this._play._execResult<0?this.onPushPlay(!1):this.onPushPlay(!0)},t.prototype.parseFinishData=function(t){this._play._sessionId=t.session_id,this._play._actionId=t.action_id,this._play._accessStr=t.aces_string,this._play._accessTotal=t.aces_total,this._play._step=t.step,this._play._cardStr=t.card_string,this._play._cardId=t.card_id,this._play._betValue=t.bet_value,this._play._prizeValue=t.prize_value,this._play._JackpotValue=t.jackpot_value,this._play._balance=t.balance,this._play._multiplyHigh=t.multiply_hight,this._play._multiplyLow=t.multiply_low,this._play._execResult=t.exec_result,this._play._execResult<0?this.onPushFinish(!1):this.onPushFinish(!0)},t.prototype.parserHistory=function(t){this._histories=[];for(var e=0,n=t;e<n.length;e++){var o=n[e],i={session:o.session_id,time:o.date_time,betValue:o.bet_value,step:o.step,result:o.card_name,choose:o.action_id,recieve:o.prize_value};this._histories.push(i)}this.onPushHistory(!0)},t.prototype.parseBigWin=function(t){var e=[0,1e3,1e4,5e4,1e5,5e5];this._bigWins=[];for(var n=r.TextData[s.default.getInstance().UserData.textPackage],o=0,i=t;o<i.length;o++){var a=i[o],c={time:a.date_time,username:a.nick_name,roomValue:e[a.room_id],winValue:a.prize_value,detail:1==a.big_type?"N\u1ed5 H\u0169":n.bigwin};this._bigWins.push(c)}this.onPushRank(!0)},t.prototype.getListHistory=function(){var t=JSON.stringify({cmd:"HISTORY",message_data:0});c.WsHandler.getInstance().playGame(a.GameConfigs.WSGameName.Hilow,t)},t.prototype.getBigWin=function(){var t=JSON.stringify({cmd:"RANKING",message_data:0});c.WsHandler.getInstance().playGame(a.GameConfigs.WSGameName.Hilow,t)},t.prototype.playInit=function(t){var e=JSON.stringify({cmd:"PLAY_INIT",message_data:{room_id:t,acction_id:0}});c.WsHandler.getInstance().playGame(a.GameConfigs.WSGameName.Hilow,e)},t.prototype.playAction=function(t,e){var n=JSON.stringify({cmd:"PLAY_ACTION",message_data:{room_id:t,acction_id:e}});c.WsHandler.getInstance().playGame(a.GameConfigs.WSGameName.Hilow,n)},t.prototype.finishGame=function(t){var e=JSON.stringify({cmd:"FINISH",message_data:{room_id:t,acction_id:0}});c.WsHandler.getInstance().playGame(a.GameConfigs.WSGameName.Hilow,e)},t.prototype.updateAccount=function(){var t=JSON.stringify({cmd:"UPDATE_ACCOUNT",message_data:0});c.WsHandler.getInstance().playGame(a.GameConfigs.WSGameName.Hilow,t)},t.Instance=null,t=e=o([p],t)}());n.HLHandler=d,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/WsHandler":"WsHandler","./HLModules":"HLModules"}],HLModules:[function(t,e,n){"use strict";cc._RF.push(e,"d24feWI0AhJ+6ToLQvVBp/7","HLModules"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){(function(t){t[t.START=0]="START",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN"})(t.Action||(t.Action={})),function(t){t[t.START=0]="START",t[t.PLAY=1]="PLAY",t[t.FINISH=2]="FINISH"}(t.Input||(t.Input={})),function(t){t[t.PREPARE_START=0]="PREPARE_START",t[t.PREPARE_CHOOSE=1]="PREPARE_CHOOSE",t[t.WAITING_SERVER=2]="WAITING_SERVER",t[t.PLAYLING=3]="PLAYLING",t[t.HANDLE_FX=4]="HANDLE_FX",t[t.FINISH=5]="FINISH"}(t.GameState||(t.GameState={})),function(t){t[t.HIGH=0]="HIGH",t[t.LOW=1]="LOW",t[t.NONE=2]="NONE"}(t.LockChoose||(t.LockChoose={}));var e=function(){return function(){this._userId=0,this._userName="",this._balance=0,this._sourceId=0,this._merchanctId=0,this._sessionId=0,this._accessStr="",this._accessTotal=[],this._roomId=0,this._step=0,this._cardStr="",this._cardId=0,this._betValue=0,this._remainSecond=0,this._multiplyHigh=0,this._multiplyLow=0,this._execResult=0,this._rank=0,this._point=0}}();t.User=e;var n=function(){return function(){this._actionId=0,this._inputType=0,this._sessionId=0,this._accessStr="",this._accessTotal=0,this._step=0,this._cardStr="",this._cardId=0,this._betValue=0,this._prizeValue=0,this._JackpotValue=0,this._balance=0,this._multiplyHigh=0,this._multiplyLow=0,this._execResult=0}}();t.PlayInfo=n;var o=function(){return function(){this._msgCode=0,this._msgContent=""}}();t.Messages=o}(n.HighLowValue||(n.HighLowValue={})),cc._RF.pop()},{}],HandlerMinipoker:[function(t,e,n){"use strict";cc._RF.push(e,"5be17lVBhhFzIn9BVU60Yts","HandlerMinipoker");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Common/Network/WsHandler"),a=t("../../Common/Data/GameConfigs"),c=cc._decorator,s=c.ccclass,r=(c.property,function(){function t(){this._spinData={_spinId:0,_jackpot:0,_betValue:0,_prizeValue:0,_jackpotFund:0,_balance:0,_cardTypeId:0,_responseStatus:0,_cardResult:null,eventRank:0,eventPoint:0},this._listHistory=[],this._listHonor=[],this.updateJackpot=[],this.rootNode=null}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e),this.Instance},t.prototype.closeWs=function(){cc.systemEvent.targetOff(this),i.WsHandler.getInstance().leaveGame(a.GameConfigs.WSGameName.MiniPoker)},t.prototype.init=function(t){this.rootNode=t},t.prototype.connect=function(){i.WsHandler.getInstance().joinGame(a.GameConfigs.WSGameName.MiniPoker),cc.systemEvent.on(a.GameConfigs.WSGameName.MiniPoker,this.parseData.bind(this),this)},t.prototype.parseData=function(t){var e=null,n=null;null!=t&&t.hasOwnProperty("data")&&(e=t.cmd,n=t.data),null!=e&&null!=n&&("PLAY_SPIN"==e&&this.parseSpin(n),"GET_HISTORY"==e&&this.parseHistory(n),"GET_TOP_WIN"==e&&this.parseHonor(n))},t.prototype.parseSpin=function(t){t.exec<0?this.rootNode.enabledAllBtn():(this._spinData._spinId=t.spin_id,this._spinData._balance=t.balance,this._spinData._jackpot=t.jackpot,this._spinData._betValue=t.bet_value,this._spinData._prizeValue=t.prize_value,this._spinData._cardResult=t.slot_string.split(","),this._spinData._cardTypeId=t.win_type,this._spinData._isJackpot=t.is_jackpot,this._spinData._responseStatus=t.exec,this._spinData.eventRank=t.current_rank,this._spinData.eventPoint=t.max_count,this.rootNode.processSpin(this._spinData))},t.prototype.parseHistory=function(t){this._listHistory=[];for(var e=0;e<t.length;e++){var n={_slotData:t[e].mini_string.split(","),_createTime:t[e].create_time,_betValue:[0,100,1e3,1e4][t[e].room_id],_prizeValue:t[e].win_prize,_userName:t[e].nick_name,_typeHonor:t[e].big_type,_cardType:t[e].win_type,_spinId:t[e].spin_id};this._listHistory.push(n)}cc.systemEvent.emit("HISTORYMINIPOKER",{listHistory:this._listHistory,cardAtlas:this.rootNode.cardAtlas})},t.prototype.parseHonor=function(t){this._listHonor=[];for(var e=0;e<t.length;e++){var n={_slotData:t[e].mini_string.split(","),_createTime:t[e].create_time,_betValue:[0,100,1e3,1e4][t[e].room_id],_prizeValue:t[e].win_prize,_userName:t[e].nick_name,_typeHonor:t[e].win_type};this._listHonor.push(n)}cc.systemEvent.emit("HONORMINIPOKER",{listHonor:this._listHonor,cardAtlas:this.rootNode.cardAtlas})},t.prototype.processJoin=function(){},t.prototype.processSpin=function(t){this.callWS("PLAY_SPIN",'{"room_id":'+t.toString()+"}")},t.prototype.processHistory=function(){this.callWS("GET_HISTORY",0)},t.prototype.processHonor=function(){this.callWS("GET_TOP_WIN",0)},t.prototype.callWS=function(t,e){var n='{"cmd":"'+t+'","data":'+e+"}";i.WsHandler.getInstance().playGame(a.GameConfigs.WSGameName.MiniPoker,n)},t.Instance=null,t=e=o([s],t)}());n.default=r,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/WsHandler":"WsHandler"}],HighLowAccesCard:[function(t,e,n){"use strict";cc._RF.push(e,"64f7efmK8lEn4OdEckhAEm3","HighLowAccesCard");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hideCard=null,e.accesCard=[],e.accesCardEffect=[],e.updatedAces=[0,0,0],e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.updateCard=function(t,e){var n=this;void 0===e&&(e=!1);var o=t.split(",");if(1!=e){if(o.length>0&&""!=o[0]){var i=o.length-1;0==this.updatedAces[i]&&(this.accesCardEffect[i].active=!0,this.accesCardEffect[i].getComponent(sp.Skeleton).setEndListener(function(){n.node.children[i].getComponent(cc.Sprite).spriteFrame=n.getAcesCardById(parseInt(o[i])),n.accesCardEffect[i].active=!1,n.updatedAces[i]=1}),this.accesCardEffect[i].getComponent(sp.Skeleton).setAnimation(0,"card-a",!1))}}else for(var a in this.node.children){var c=this.node.children[a].getComponent(cc.Sprite);""!=t&&+a<o.length?c.spriteFrame=this.getAcesCardById(parseInt(o[+a])):c.spriteFrame=this.hideCard}},e.prototype.reset=function(){for(var t in this.node.children){this.node.children[+t].getComponent(cc.Sprite).spriteFrame=this.hideCard}this.updatedAces=[0,0,0]},e.prototype.getAcesCardById=function(t){return 12==t?this.accesCard[0]:25==t?this.accesCard[1]:38==t?this.accesCard[2]:51==t?this.accesCard[3]:void 0},i([s(cc.SpriteFrame)],e.prototype,"hideCard",void 0),i([s([cc.SpriteFrame])],e.prototype,"accesCard",void 0),i([s([cc.Node])],e.prototype,"accesCardEffect",void 0),e=i([c],e)}(cc.Component);n.HighLowAccesCard=r,cc._RF.pop()},{}],HighLowCardPlay:[function(t,e,n){"use strict";cc._RF.push(e,"b03578XuZJFk7R/HpX+JOCA","HighLowCardPlay");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TIME_SCROLL=1.5,e.startButton=null,e.cardResult=null,e.cardStart=null,e.effect=null,e._listCardSpriteFrame=[],e.onPlayCardDone=function(){},e.result=-1,e}return o(e,t),e.prototype.onLoad=function(){this.effect.getComponent(sp.Skeleton).setCompleteListener(this.endScroll.bind(this))},e.prototype.reset=function(){this.node.stopAllActions(),this.startButton.node.active=!0,this.effect.active=!1,this.cardResult.active=!1,this.cardStart.active=!0},e.prototype.startScroll=function(t){this.startButton.node.active=!1,this.effect.active=!0,this.cardResult.active=!1,this.cardStart.active=!1,this.result=t,this.effect.getComponent(sp.Skeleton).setAnimation(0,"Highlow",!1)},e.prototype.endScroll=function(){this.updateResult(this.result),this.cardResult.active=!0,this.cardStart.active=!1,this.effect.active=!1,this.onPlayCardDone()},e.prototype.showCard=function(t){this.node.stopAllActions(),this.startButton.node.active=!1,this.updateResult(t),this.cardResult.active=!0,this.cardStart.active=!1,this.effect.active=!1},e.prototype.updateResult=function(t){this.cardResult.getComponent(cc.Sprite).spriteFrame=this.getCardSpireFrame(t)},e.prototype.getCardSpireFrame=function(t){for(var e=""+t.toString(),n=0,o=this._listCardSpriteFrame;n<o.length;n++){var i=o[n];if(i.name==e)return i}return null},i([s(cc.Button)],e.prototype,"startButton",void 0),i([s(cc.Node)],e.prototype,"cardResult",void 0),i([s(cc.Node)],e.prototype,"cardStart",void 0),i([s(cc.Node)],e.prototype,"effect",void 0),e=i([c],e)}(cc.Component);n.HighLowCardPlay=r,cc._RF.pop()},{}],HighLowHistory:[function(t,e,n){"use strict";cc._RF.push(e,"79bf8ePCkVLCL1mTQMAKZcA","HighLowHistory");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./HLHandler"),c=t("../../Common/Utilities/Utility"),s=t("../../Common/Data/LabelHelperConfigs"),r=t("../../Common/Data/GameData"),l=t("../../Lobby/Scripts/LoadingManager"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.language=null,e}return o(e,t),e.prototype.onLoad=function(){l.default.getInstance().show(),this.language=s.TextData[r.default.getInstance().UserData.textPackage]},e.prototype.start=function(){a.HLHandler.getInstance().onPushHistory=this.onResponseDataSuccess.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){a.HLHandler.getInstance().getListHistory()})))},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},e.prototype.onResponseDataSuccess=function(t){var e=43;a.HLHandler.getInstance()._bigWins.length<e&&(e=a.HLHandler.getInstance()._histories.length),this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);n%2==0?o.getChildByName("Line1").active=!1:o.getChildByName("Line2").active=!1,this.contentScroll.addChild(o),this.updateCell(o,a.HLHandler.getInstance()._histories[n],n)}l.default.getInstance().hide()},e.prototype.updateCell=function(t,e,n){1==parseInt(n)%2&&t.removeComponent(cc.Sprite),t.getChildByName("Session").getComponent(cc.Label).string=e.session,t.getChildByName("Time").getComponent(cc.Label).string=e.time,t.getChildByName("BetValue").getComponent(cc.Label).string=c.Utility.getInstance().add_commas(e.betValue),t.getChildByName("Step").getComponent(cc.Label).string=e.step,t.getChildByName("Result").getComponent(cc.Label).string=e.result;var o="";1==e.choose?o=this.language.hilow_high:2==e.choose?o=this.language.hilow_low:0==e.choose&&(o=this.language.hilow_play),t.getChildByName("Chose").getComponent(cc.Label).string=o,t.getChildByName("Win").getComponent(cc.Label).string=c.Utility.getInstance().add_commas(e.recieve)},i([d(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([d(cc.Node)],e.prototype,"contentScroll",void 0),e=i([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./HLHandler":"HLHandler"}],HighLowRanking:[function(t,e,n){"use strict";cc._RF.push(e,"d9bdeEbkOJLG59rH15pkiGf","HighLowRanking");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./HLHandler"),c=t("../../Common/Utilities/Utility"),s=t("../../Lobby/Scripts/LoadingManager"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e}return o(e,t),e.prototype.onLoad=function(){s.default.getInstance().show()},e.prototype.start=function(){a.HLHandler.getInstance().onPushRank=this.onResponseDataSuccess.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){a.HLHandler.getInstance().getBigWin()})))},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},e.prototype.onResponseDataSuccess=function(t){var e=43;a.HLHandler.getInstance()._bigWins.length<e&&(e=a.HLHandler.getInstance()._bigWins.length),this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);n%2==0?o.getChildByName("Line1").active=!1:o.getChildByName("Line2").active=!1,this.contentScroll.addChild(o),this.updateCell(o,a.HLHandler.getInstance()._bigWins[n],n)}s.default.getInstance().hide()},e.prototype.updateCell=function(t,e,n){1==parseInt(n)%2&&t.removeComponent(cc.Sprite),t.getChildByName("Time").getComponent(cc.Label).string=e.time,t.getChildByName("UserName").getComponent(cc.Label).string=e.username,t.getChildByName("Room").getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(e.roomValue),t.getChildByName("WinValue").getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(e.winValue),t.getChildByName("Details").getComponent(cc.Label).string=e.detail},i([u(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([u(cc.Node)],e.prototype,"contentScroll",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./HLHandler":"HLHandler"}],HighLow:[function(t,e,n){"use strict";cc._RF.push(e,"627ec2bSJ1LHqbgFbBqAje6","HighLow");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./HighLowCardPlay"),c=t("./HighLowAccesCard"),s=t("./HLModules"),r=t("./HLHandler"),l=t("../../Common/UI/NumberRun"),u=t("../../Common/Data/Constants"),p=t("../../Common/UI/PopupInterface"),d=t("../../Common/Utilities/Utility"),h=t("../../Common/Data/GameData"),f=t("../../Common/Data/GameConfigs"),_=t("../../Common/Data/LabelHelperConfigs"),g=t("../../Common/Network/WsHandler"),m=cc._decorator,y=m.ccclass,v=m.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.FX_TIME=1.5,e.roomGroup=null,e.jackpotLabel=null,e.jackpotUSLabel=null,e.timer=null,e.session=null,e.SprBtnRoom=[],e.betLabel=null,e.highLabel=null,e.lowLabel=null,e.cardStringLabel=null,e.cardPlay=null,e.cardAcces=null,e.highButton=null,e.lowButton=null,e.newGameButton=null,e.guidePopup=null,e.historyPopup=null,e.honorPopup=null,e.jackPotFx=null,e.moneyWin=null,e.noti=null,e.descLabel=null,e.notiPrefab=null,e.nodeFX=null,e._resourceCount=52,e._timerCounter=0,e._isSleep=!1,e._isRequesting=!1,e._requestTime=0,e._requestInput=s.HighLowValue.Input.START,e.listJackpot=[],e.language=null,e.listCardAtlas=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.init(),r.HLHandler.getInstance().onPushPlay=this.onResponsePlaySuccess.bind(this),r.HLHandler.getInstance().onPushFinish=this.onResponseFinish.bind(this),cc.systemEvent.on(f.GameConfigs.JPName.Hilow,this.onPushJackpot.bind(this),this);var e=g.WsHandler.getInstance().listJPAll.filter(function(t){return t.name===f.GameConfigs.JPName.Hilow})[0];e&&this.onPushJackpot(e.value.split(",")),this.cardPlay.onPlayCardDone=this.onCardPlayDone.bind(this),cc.systemEvent.on(u.default.EVENT_HILOW.PARSE_ACC_DONE,this.onUpdateAccount.bind(this),this),this.language=_.TextData[h.default.getInstance().UserData.textPackage];for(var n=0,o=0,i=this.listCardAtlas.getSpriteFrames();o<i.length;o++){var a=i[o];this.cardPlay._listCardSpriteFrame[n]=a,n++}this.node.on(cc.Node.EventType.TOUCH_START,function(){t.node.zIndex=f.GameConfigs.zOderGame.MINIGAME++}).bind(this)},e.prototype.start=function(){r.HLHandler.getInstance().updateAccount()},e.prototype.init=function(){this._gameState=s.HighLowValue.GameState.PREPARE_START,this._roomId=1,this.setRoomActive(this._roomId),this.getComponent(p.default).addTouchMove()},e.prototype.update=function(t){this._gameState===s.HighLowValue.GameState.PREPARE_CHOOSE&&(this._timerCounter-=t,this.timer.string=this.getTimeString(this._timerCounter),this._timerCounter<=0&&(this._timerCounter=120,r.HLHandler.getInstance().updateAccount(),this._gameState=s.HighLowValue.GameState.WAITING_SERVER)),this._isRequesting&&(this._requestTime+=t,this._requestTime>5&&(this._requestTime=0,this._isRequesting=!1,this._requestInput===s.HighLowValue.Input.START&&this.resetTurn(),this._requestInput===s.HighLowValue.Input.PLAY&&(this.isAccesCard(r.HLHandler.getInstance()._play._cardId)?this.enableChoose(!0,s.HighLowValue.LockChoose.HIGH):this.isPigCard(r.HLHandler.getInstance()._play._cardId)?this.enableChoose(!0,s.HighLowValue.LockChoose.LOW):this.enableChoose(!0),this._gameState=s.HighLowValue.GameState.PREPARE_CHOOSE)))},e.prototype.onDisable=function(){this._isSleep=!0},e.prototype.onEnable=function(){this._isSleep&&(this._isSleep=!1)},e.prototype.onDestroy=function(){r.HLHandler.getInstance().clearCallback(),r.HLHandler.getInstance().close(),cc.systemEvent.targetOff(this)},e.prototype.setRoomActive=function(t){this.betLabel.string=d.Utility.getInstance().numberToCurrency([1e3,1e4,5e4,1e5,5e5][t-1]);for(var e=0;e<this.roomGroup.children.length;e++)this.roomGroup.children[e].getComponent(cc.Sprite).spriteFrame=e==t-1?this.SprBtnRoom[1]:this.SprBtnRoom[0]},e.prototype.resetTurn=function(){this._gameState=s.HighLowValue.GameState.PREPARE_START,this.cardPlay.reset(),this.cardAcces.reset(),this.enableChoose(!1),this.newGameButton.interactable=!1,this.highButton.interactable=!1,this.lowButton.interactable=!1,this.highLabel.string="0",this.lowLabel.string="0",this.betLabel.string=d.Utility.getInstance().numberToCurrency(this.getBetRoom()),this.cardStringLabel.string="",this.timer.string="00:00",this.session.string="#--",this.descLabel.active=!0},e.prototype.enableChoose=function(t,e){void 0===e&&(e=s.HighLowValue.LockChoose.NONE),this.highButton.interactable=t,this.lowButton.interactable=t,e===s.HighLowValue.LockChoose.HIGH&&(this.highButton.interactable=!1),e===s.HighLowValue.LockChoose.LOW&&(this.lowButton.interactable=!1)},e.prototype.showMoneyFx=function(t){},e.prototype.updateAcountInfo=function(){var t=r.HLHandler.getInstance()._user;this.cardStringLabel.string=this.getListCardName(t._cardStr),this.session.string="#"+t._sessionId.toString(),this.cardAcces.updateCard(t._accessStr,!0),this.betLabel.string=d.Utility.getInstance().numberToCurrency(t._betValue),this.highLabel.string=d.Utility.getInstance().numberToCurrency(Math.floor(t._betValue*t._multiplyHigh)),this.lowLabel.string=d.Utility.getInstance().numberToCurrency(Math.floor(t._betValue*t._multiplyLow))},e.prototype.updateBetInfo=function(){var t=r.HLHandler.getInstance()._play;this.session.string="#"+t._sessionId.toString(),this.cardStringLabel.string=this.getListCardName(t._cardStr),1!=r.HLHandler.getInstance()._play._step?(this.betLabel.string=d.Utility.getInstance().numberToCurrency(t._prizeValue),this.highLabel.string=d.Utility.getInstance().numberToCurrency(Math.floor(t._prizeValue*t._multiplyHigh)),this.lowLabel.string=d.Utility.getInstance().numberToCurrency(Math.floor(t._prizeValue*t._multiplyLow))):(this.betLabel.string=d.Utility.getInstance().numberToCurrency(this.getBetRoom()),this.highLabel.string=d.Utility.getInstance().numberToCurrency(Math.floor(this.getBetRoom()*t._multiplyHigh)),this.lowLabel.string=d.Utility.getInstance().numberToCurrency(Math.floor(this.getBetRoom()*t._multiplyLow)))},e.prototype.calculatorEndGame=function(){},e.prototype.startPlay=function(){r.HLHandler.getInstance().playInit(this._roomId),this._gameState=s.HighLowValue.GameState.WAITING_SERVER,this._isRequesting=!0,this._requestInput=s.HighLowValue.Input.START,this.enableChoose(!1)},e.prototype.finishGame=function(){r.HLHandler.getInstance().finishGame(this._roomId),this._gameState=s.HighLowValue.GameState.WAITING_SERVER,this._isRequesting=!0,this._requestInput=s.HighLowValue.Input.FINISH,this.enableChoose(!1)},e.prototype.betForHigh=function(){r.HLHandler.getInstance().playAction(this._roomId,1),this._gameState=s.HighLowValue.GameState.WAITING_SERVER,this._isRequesting=!0,this._requestInput=s.HighLowValue.Input.PLAY,this.enableChoose(!1)},e.prototype.betForLow=function(){r.HLHandler.getInstance().playAction(this._roomId,2),this._gameState=s.HighLowValue.GameState.WAITING_SERVER,this._requestInput=s.HighLowValue.Input.PLAY,this._isRequesting=!0,this.enableChoose(!1)},e.prototype.onClickPlay=function(t){if(this._gameState===s.HighLowValue.GameState.PREPARE_START){if(this.descLabel.active=!1,h.default.getInstance().UserData.balance<this.getBetRoom())return void this.showNotMoney();this.startPlay()}},e.prototype.onClickHigh=function(t){this._gameState===s.HighLowValue.GameState.PREPARE_CHOOSE&&this.betForHigh()},e.prototype.onClickLow=function(t){this._gameState===s.HighLowValue.GameState.PREPARE_CHOOSE&&this.betForLow()},e.prototype.onClickNew=function(t){this._gameState===s.HighLowValue.GameState.PREPARE_CHOOSE&&(this.noti.node.active=!0,this.noti.string=this.language.hilow_stop_game,this.noti.node.getComponent(cc.Animation).play("MoneyWin"),this.finishGame(),this.descLabel.active=!0)},e.prototype.onClickRoom=function(t,e){this._gameState===s.HighLowValue.GameState.PREPARE_START&&(this._roomId=e.valueOf(),this.setRoomActive(this._roomId),this.onPushJackpot(null))},e.prototype.onClickGuide=function(t){var e=cc.instantiate(this.guidePopup),n=cc.director.getWinSize();e.setPosition(n.width/2,n.height/2),cc.director.getScene().addChild(e,u.default.zOderGame.POP_UP)},e.prototype.onClickHonor=function(t){var e=cc.instantiate(this.honorPopup),n=cc.director.getWinSize();e.setPosition(n.width/2,n.height/2),cc.director.getScene().addChild(e,u.default.zOderGame.POP_UP)},e.prototype.onClickHistory=function(t){var e=cc.instantiate(this.historyPopup),n=cc.director.getWinSize();e.setPosition(n.width/2,n.height/2),cc.director.getScene().addChild(e,u.default.zOderGame.POP_UP)},e.prototype.onPushJackpot=function(t){this.listJackpot=t,t&&t[this._roomId-1]&&(this.jackpotLabel.money=t[this._roomId-1],this.jackpotUSLabel.runNumberPrefix(t[this._roomId-1]/2e4,!0))},e.prototype.onResponseFinish=function(t){t&&(h.default.getInstance().UserData.balance=r.HLHandler.getInstance()._play._balance,cc.systemEvent.emit(u.default.EVENT_LOBBY.UPDATE_BALANCE,h.default.getInstance().UserData.balance),this.resetTurn())},e.prototype.onUpdateAccount=function(t){if(t){this._isRequesting=!1;var e=0==r.HLHandler.getInstance()._user._sessionId;if(this._gameState==s.HighLowValue.GameState.PLAYLING)this.cardPlay.startScroll(r.HLHandler.getInstance()._play._cardId),this._timerCounter=r.HLHandler.getInstance()._user._remainSecond;else if(e)this.resetTurn();else{this.descLabel.active=!1;var n=r.HLHandler.getInstance()._user;this._timerCounter=n._remainSecond,this.cardPlay.showCard(n._cardId),this.updateAcountInfo(),this.setRoomActive(n._roomId),this.checkPlayNewGame(),this.isAccesCard(r.HLHandler.getInstance()._play._cardId)?this.enableChoose(!0,s.HighLowValue.LockChoose.HIGH):this.isPigCard(r.HLHandler.getInstance()._play._cardId)?this.enableChoose(!0,s.HighLowValue.LockChoose.LOW):this.enableChoose(!0),this._gameState=s.HighLowValue.GameState.PREPARE_CHOOSE}}},e.prototype.onResponsePlaySuccess=function(t){if(t){this._isRequesting=!1;var e=r.HLHandler.getInstance()._play;if(e._inputType==s.HighLowValue.Input.FINISH)return this.calculatorEndGame(),void this.resetTurn();e._inputType==s.HighLowValue.Input.START&&(h.default.getInstance().UserData.balance-=r.HLHandler.getInstance()._play._betValue),cc.systemEvent.emit(u.default.EVENT_LOBBY.UPDATE_BALANCE,h.default.getInstance().UserData.balance),this._gameState=s.HighLowValue.GameState.PLAYLING,this.cardPlay.startScroll(r.HLHandler.getInstance()._play._cardId)}else this.showNoti(this.language.system_busy)},e.prototype.onCardPlayDone=function(){var t=this;this._gameState=s.HighLowValue.GameState.HANDLE_FX,this.cardAcces.updateCard(r.HLHandler.getInstance()._play._accessStr,!0),this.showMoneyFx(this.FX_TIME),this.checkJackpot(),0==r.HLHandler.getInstance()._play._prizeValue&&1!=r.HLHandler.getInstance()._play._step?(this.noti.node.active=!0,this.noti.string=this.language.hilow_lost,this.noti.node.getComponent(cc.Animation).play("MoneyWin")):1!=r.HLHandler.getInstance()._play._step&&(this.moneyWin.node.active=!0,this.moneyWin.string="+"+d.Utility.getInstance().numberToCurrency(r.HLHandler.getInstance()._play._prizeValue),this.moneyWin.node.getComponent(cc.Animation).play("MoneyWin")),this.node.runAction(cc.sequence(cc.delayTime(this.FX_TIME),cc.callFunc(function(){t._gameState=s.HighLowValue.GameState.PREPARE_CHOOSE,t.onHandleFxDone()})))},e.prototype.onHandleFxDone=function(){r.HLHandler.getInstance()._play._prizeValue>0||1==r.HLHandler.getInstance()._play._step?(this._timerCounter=120,this.updateBetInfo(),this.checkPlayNewGame(),this.isAccesCard(r.HLHandler.getInstance()._play._cardId)?this.enableChoose(!0,s.HighLowValue.LockChoose.HIGH):this.isPigCard(r.HLHandler.getInstance()._play._cardId)?this.enableChoose(!0,s.HighLowValue.LockChoose.LOW):this.enableChoose(!0)):this.resetTurn(),this.moneyWin.node.active=!1,this.noti.node.active=!1,h.default.getInstance().UserData.balance=r.HLHandler.getInstance()._play._balance,cc.systemEvent.emit(u.default.EVENT_LOBBY.UPDATE_BALANCE,h.default.getInstance().UserData.balance)},e.prototype.checkJackpot=function(){var t=this;if(3==r.HLHandler.getInstance()._play._accessTotal&&r.HLHandler.getInstance()._play._prizeValue>0){var e=cc.instantiate(this.jackPotFx);e.getChildByName("MoneyWin").getComponent(l.default).runNumber(r.HLHandler.getInstance()._play._prizeValue,!0),this.nodeFX.addChild(e),e.runAction(cc.sequence(cc.delayTime(6*this.FX_TIME),cc.callFunc(function(){e.removeFromParent(),t.resetTurn()}))),this.enableChoose(!1)}},e.prototype.checkPlayNewGame=function(){r.HLHandler.getInstance()._play._step>=2&&(this.newGameButton.interactable=!0)},e.prototype.getBetRoom=function(){return[0,1e3,1e4,5e4,1e5,5e5][this._roomId]},e.prototype.isAccesCard=function(t){return 12==t||25==t||38==t||51==t},e.prototype.isPigCard=function(t){return 0==t||13==t||26==t||39==t},e.prototype.getCardName=function(t){return["2\u2660","3\u2660","4\u2660","5\u2660","6\u2660","7\u2660","8\u2660","9\u2660","10\u2660","J\u2660","Q\u2660","K\u2660","A\u2660","2\u2663","3\u2663","4\u2663","5\u2663","6\u2663","7\u2663","8\u2663","9\u2663","10\u2663","J\u2663","Q\u2663","K\u2663","A\u2663","2\u2666","3\u2666","4\u2666","5\u2666","6\u2666","7\u2666","8\u2666","9\u2666","10\u2666","J\u2666","Q\u2666","K\u2666","A\u2666","2\u2665","3\u2665","4\u2665","5\u2665","6\u2665","7\u2665","8\u2665","9\u2665","10\u2665","J\u2665","Q\u2665","K\u2665","A\u2665"][t]},e.prototype.getListCardName=function(t){for(var e="",n=0,o=t.split(",");n<o.length;n++){var i=o[n];e=e+" "+this.getCardName(+i)}return e},e.prototype.getTimeString=function(t){var e=Math.floor(t/60),n=Math.floor(t%60),o=n.toString();return n<10&&(o="0"+n),"0"+e+":"+o},e.prototype.showNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent("Notification").setContent(t),e.getComponent("Notification").showDialog(2),cc.director.getScene().addChild(e,f.GameConfigs.zOderGame.POP_UP)},e.prototype.showNotMoney=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent("Notification").setContent(this.language.no_enough_balance),t.getComponent("Notification").showNotMoney(),cc.director.getScene().addChild(t,f.GameConfigs.zOderGame.POP_UP)},i([v(cc.Node)],e.prototype,"roomGroup",void 0),i([v(l.default)],e.prototype,"jackpotLabel",void 0),i([v(l.default)],e.prototype,"jackpotUSLabel",void 0),i([v(cc.Label)],e.prototype,"timer",void 0),i([v(cc.Label)],e.prototype,"session",void 0),i([v(cc.SpriteFrame)],e.prototype,"SprBtnRoom",void 0),i([v(cc.Label)],e.prototype,"betLabel",void 0),i([v(cc.Label)],e.prototype,"highLabel",void 0),i([v(cc.Label)],e.prototype,"lowLabel",void 0),i([v(cc.Label)],e.prototype,"cardStringLabel",void 0),i([v(a.HighLowCardPlay)],e.prototype,"cardPlay",void 0),i([v(c.HighLowAccesCard)],e.prototype,"cardAcces",void 0),i([v(cc.Button)],e.prototype,"highButton",void 0),i([v(cc.Button)],e.prototype,"lowButton",void 0),i([v(cc.Button)],e.prototype,"newGameButton",void 0),i([v(cc.Prefab)],e.prototype,"guidePopup",void 0),i([v(cc.Prefab)],e.prototype,"historyPopup",void 0),i([v(cc.Prefab)],e.prototype,"honorPopup",void 0),i([v(cc.Prefab)],e.prototype,"jackPotFx",void 0),i([v(cc.Label)],e.prototype,"moneyWin",void 0),i([v(cc.Label)],e.prototype,"noti",void 0),i([v(cc.Node)],e.prototype,"descLabel",void 0),i([v(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([v(cc.Node)],e.prototype,"nodeFX",void 0),i([v(cc.SpriteAtlas)],e.prototype,"listCardAtlas",void 0),e=i([y],e)}(cc.Component);n.HighLow=b,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/WsHandler":"WsHandler","../../Common/UI/NumberRun":"NumberRun","../../Common/UI/PopupInterface":"PopupInterface","../../Common/Utilities/Utility":"Utility","./HLHandler":"HLHandler","./HLModules":"HLModules","./HighLowAccesCard":"HighLowAccesCard","./HighLowCardPlay":"HighLowCardPlay"}],HistoryDetail:[function(t,e,n){"use strict";cc._RF.push(e,"412bf6VIU5N16aiTMMj/QJX","HistoryDetail");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utilities/Utility"),c=t("../../Common/Data/Constants"),s=t("./Card"),r=t("../../Common/Data/GameConfigs"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTransaction=null,e.lbTime=null,e.lbService=null,e.lbSession=null,e.lbBet=null,e.lbWin=null,e.lbBalance=null,e.lbArise=null,e.lbDesc=null,e.nodeGame=null,e.cardPrefab=null,e.nodeCashout=null,e.bgHolder=null,e.nodeHolder=[],e.dataCard=null,e}return o(e,t),e.prototype.onEnable=function(){this.lbDesc.string="",this.nodeGame.active=!1,this.nodeCashout.active=!1},e.prototype.setChargeDetail=function(t){this.lbTransaction.string=t.log_id,this.lbTime.string=t.date_time,this.lbService.string="N\u1ea1p LONG",this.lbBalance.string=a.Utility.getInstance().numberToCurrency(t.money_after),this.lbArise.string=a.Utility.getInstance().numberToCurrency(t.real_amount),t.telco>0?this.lbDesc.string="N\u1ea1p th\u1ebb "+this.parseTelco(t.telco)+" m\u1ec7nh gi\xe1 "+a.Utility.getInstance().numberToCurrency(t.amount)+"\nSeri : "+t.serial+"\nM\xe3 th\u1ebb : "+t.pin:this.lbDesc.string="N\u1ea1p "+this.parseTelco(t.telco)},e.prototype.setCashoutDetail=function(t){this.nodeCashout.active=!0,this.lbTransaction.string=t.log_id,this.lbTime.string=t.date_time,this.lbService.string="\u0110\u1ed5i th\u01b0\u1edfng",this.lbBalance.string=a.Utility.getInstance().numberToCurrency(t.money_after),this.lbArise.string=a.Utility.getInstance().numberToCurrency(-t.total_paid),1==parseInt(t.result)?this.dataCard=t:this.lbDesc.string="\u0110\u1ed5i th\u01b0\u1edfng th\u1ea5t b\u1ea1i"},e.prototype.setTransferDetail=function(t){this.lbTransaction.string=t.id,this.lbTime.string=t.trans_date,this.lbService.string=t.real_amount>0?"Nh\u1eadn LONG":"Chuy\u1ec3n LONG",this.lbBalance.string=a.Utility.getInstance().numberToCurrency(t.money_after),this.lbArise.string=a.Utility.getInstance().numberToCurrency(t.real_amount),this.lbDesc.string=t.full_desc+"\nL\xfd do chuy\u1ec3n kho\u1ea3n: "+t.desc},e.prototype.setSystemDetail=function(t){this.bgHolder.active=!1,this.lbTransaction.string=t.log_id,this.lbTime.string=t.date_time,this.lbService.string=t.reason,this.lbBalance.string=a.Utility.getInstance().numberToCurrency(t.money_after),this.lbArise.string=a.Utility.getInstance().numberToCurrency(t.money_change)},e.prototype.setGameDetail=function(t){this.nodeGame.active=!0,this.lbDesc.string="",this.lbTransaction.string=t.sessionId+"",this.lbTime.string=t.create_date,this.lbService.string=t.game_name,this.lbSession.string=t.sessionId,this.lbBet.string=a.Utility.getInstance().numberToCurrency(t.bet),this.lbWin.string=a.Utility.getInstance().numberToCurrency(t.win),this.lbBalance.string=a.Utility.getInstance().numberToCurrency(t.money_after),this.lbArise.string=a.Utility.getInstance().numberToCurrency(t.money_change)},e.prototype.parseTelco=function(t){switch(t){case c.default.NETWORK_TYPE.MOMO:return"MoMo";case c.default.NETWORK_TYPE.MOBI:return"MobiFone";case c.default.NETWORK_TYPE.VIETTEL:return"Viettel";case c.default.NETWORK_TYPE.VINA:return"VinaPhone"}},e.prototype.onBtnViewCard=function(t){if(null!=this.dataCard){var e=cc.instantiate(this.cardPrefab);e.getComponent(s.default).setProperties(this.dataCard.amount,this.dataCard.serial,this.dataCard.pin,this.dataCard.telco),cc.director.getScene().addChild(e,r.GameConfigs.zOderGame.POP_UP)}},e.prototype.onBtnBack=function(){this.nodeHolder[0].active=!0,this.nodeHolder[1].active=!1},i([p(cc.Label)],e.prototype,"lbTransaction",void 0),i([p(cc.Label)],e.prototype,"lbTime",void 0),i([p(cc.Label)],e.prototype,"lbService",void 0),i([p(cc.Label)],e.prototype,"lbSession",void 0),i([p(cc.Label)],e.prototype,"lbBet",void 0),i([p(cc.Label)],e.prototype,"lbWin",void 0),i([p(cc.Label)],e.prototype,"lbBalance",void 0),i([p(cc.Label)],e.prototype,"lbArise",void 0),i([p(cc.Label)],e.prototype,"lbDesc",void 0),i([p(cc.Node)],e.prototype,"nodeGame",void 0),i([p(cc.Prefab)],e.prototype,"cardPrefab",void 0),i([p(cc.Node)],e.prototype,"nodeCashout",void 0),i([p(cc.Node)],e.prototype,"bgHolder",void 0),i([p(cc.Node)],e.prototype,"nodeHolder",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Utilities/Utility":"Utility","./Card":"Card"}],History:[function(t,e,n){"use strict";cc._RF.push(e,"d0b97XZ1kRLvardKGcCuAL3","History");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Network/ConnectHandler"),c=t("./HistoryDetail"),s=t("../../Common/Utilities/Utility"),r=t("../../Common/Data/LabelHelperConfigs"),l=t("../../Common/Data/GameData"),u=t("../../Common/Data/Constants"),p=t("./LoadingManager"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.cellPrefab=null,e.listTopButton=[],e.scv=null,e.nodeHolder=[],e.language=null,e}return o(e,t),e.prototype.onLoad=function(){this.language=r.TextData[l.default.getInstance().UserData.textPackage],this.onBtnTop(this.listTopButton[0],0),this.scv.scrollToTop(.1),cc.systemEvent.on(u.default.EVENT_API.HISTORY_CHARGE,this.onHistoryChargeResponse.bind(this),this),cc.systemEvent.on(u.default.EVENT_API.HISTORY_CASHOUT,this.onHistoryCashOutResponse.bind(this),this),cc.systemEvent.on(u.default.EVENT_API.HISTORY_TRANSFER,this.onHistoryTransferResponse.bind(this),this),cc.systemEvent.on(u.default.EVENT_API.HISTORY_GAME,this.onHistoryGameResponse.bind(this),this),cc.systemEvent.on(u.default.EVENT_API.HISTORY_SYSTEM,this.onHistorySystemResponse.bind(this),this)},e.prototype.onHistoryChargeResponse=function(t){p.default.getInstance().hide(),null!=t&&0==t.status&&this.renderChargeCell(t.data)},e.prototype.onHistoryCashOutResponse=function(t){p.default.getInstance().hide(),null!=t&&0==t.status&&this.renderCashoutCell(t.data)},e.prototype.onHistoryTransferResponse=function(t){p.default.getInstance().hide(),null!=t&&0==t.status&&this.renderTransferCell(t.data)},e.prototype.onHistoryGameResponse=function(t){p.default.getInstance().hide(),null!=t&&0==t.status&&this.renderGameCell(t.data)},e.prototype.onHistorySystemResponse=function(t){p.default.getInstance().hide(),null!=t&&0==t.status&&this.renderSystemCell(t.data)},e.prototype.onBtnTop=function(t,e){for(var n in this.content.removeAllChildren(!0),this.scv.scrollToTop(.1),this.listTopButton)this.listTopButton[n].node.opacity=n==e?255:0;switch(p.default.getInstance().show(),+e){case 0:a.default.getInstance().processGetHistoryCharge();break;case 1:a.default.getInstance().processGetHistoryCashOut();break;case 2:a.default.getInstance().processHistoryTransfer();break;case 3:a.default.getInstance().processGetHistoryGame(-1);break;case 4:a.default.getInstance().processGetHistorySystem()}},e.prototype.renderChargeCell=function(t){var e=this,n=function(n){var i=cc.instantiate(o.cellPrefab);parseInt(n)%2==0?i.getChildByName("1").active=!0:i.getChildByName("2").active=!0,i.getChildByName("id").getComponent(cc.Label).string=t[n].log_id,i.getChildByName("time").getComponent(cc.Label).string=t[n].date_time,i.getChildByName("service").getComponent(cc.Label).string="N\u1ea1p LONG",i.getChildByName("arise").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(t[n].real_amount),i.getChildByName("balance").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(t[n].money_after),i.getChildByName("detail").on(cc.Node.EventType.TOUCH_START,function(t){i.getChildByName("detail").scale=1.1}),i.getChildByName("detail").on(cc.Node.EventType.TOUCH_END,function(o){i.getChildByName("detail").scale=1,e.nodeHolder[0].active=!1,e.nodeHolder[1].active=!0,e.nodeHolder[1].getComponent(c.default).setChargeDetail(t[n])}),o.content.addChild(i)},o=this;for(var i in t)n(i)},e.prototype.renderCashoutCell=function(t){var e=this,n=function(n){var i=cc.instantiate(o.cellPrefab);parseInt(n)%2==0?i.getChildByName("1").active=!0:i.getChildByName("2").active=!0,i.getChildByName("id").getComponent(cc.Label).string=t[n].log_id,i.getChildByName("time").getComponent(cc.Label).string=t[n].date_time,i.getChildByName("service").getComponent(cc.Label).string="\u0110\u1ed5i th\u01b0\u1edfng",i.getChildByName("arise").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(-t[n].total_paid),i.getChildByName("balance").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(t[n].money_after),i.getChildByName("detail").on(cc.Node.EventType.TOUCH_START,function(t){i.getChildByName("detail").scale=1.1}),i.getChildByName("detail").on(cc.Node.EventType.TOUCH_END,function(o){i.getChildByName("detail").scale=1,e.nodeHolder[0].active=!1,e.nodeHolder[1].active=!0,e.nodeHolder[1].getComponent(c.default).setCashoutDetail(t[n])}),o.content.addChild(i)},o=this;for(var i in t)n(i)},e.prototype.renderTransferCell=function(t){var e=this,n=function(n){var i=cc.instantiate(o.cellPrefab);parseInt(n)%2==0?i.getChildByName("1").active=!0:i.getChildByName("2").active=!0,i.getChildByName("id").getComponent(cc.Label).string=t[n].id,i.getChildByName("time").getComponent(cc.Label).string=t[n].trans_date,i.getChildByName("service").getComponent(cc.Label).string=t[n].real_amount>0?"Nh\u1eadn LONG":"Chuy\u1ec3n LONG",i.getChildByName("arise").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(t[n].real_amount),i.getChildByName("balance").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(t[n].money_after),i.getChildByName("detail").on(cc.Node.EventType.TOUCH_START,function(t){i.getChildByName("detail").scale=1.1}),i.getChildByName("detail").on(cc.Node.EventType.TOUCH_END,function(o){i.getChildByName("detail").scale=1,e.nodeHolder[0].active=!1,e.nodeHolder[1].active=!0,e.nodeHolder[1].getComponent(c.default).setTransferDetail(t[n])}),o.content.addChild(i)},o=this;for(var i in t)n(i)},e.prototype.renderGameCell=function(t){var e=this,n=function(n){var i=cc.instantiate(o.cellPrefab);parseInt(n)%2==0?i.getChildByName("1").active=!0:i.getChildByName("2").active=!0,i.getChildByName("id").getComponent(cc.Label).string=t[n].id,i.getChildByName("time").getComponent(cc.Label).string=t[n].create_date,i.getChildByName("service").getComponent(cc.Label).string=t[n].game_name,i.getChildByName("arise").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(t[n].money_change),i.getChildByName("balance").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(t[n].money_after),i.getChildByName("detail").on(cc.Node.EventType.TOUCH_START,function(t){i.getChildByName("detail").scale=1.1}),i.getChildByName("detail").on(cc.Node.EventType.TOUCH_END,function(o){i.getChildByName("detail").scale=1,e.nodeHolder[0].active=!1,e.nodeHolder[1].active=!0,e.nodeHolder[1].getComponent(c.default).setGameDetail(t[n])}),o.content.addChild(i)},o=this;for(var i in t)n(i)},e.prototype.renderSystemCell=function(t){var e=this,n=function(n){var i=cc.instantiate(o.cellPrefab);parseInt(n)%2==0?i.getChildByName("1").active=!0:i.getChildByName("2").active=!0,i.getChildByName("id").getComponent(cc.Label).string=t[n].log_id,i.getChildByName("time").getComponent(cc.Label).string=t[n].date_time,i.getChildByName("service").getComponent(cc.Label).string=t[n].reason,i.getChildByName("arise").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(t[n].money_change),i.getChildByName("balance").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(t[n].money_after),i.getChildByName("detail").on(cc.Node.EventType.TOUCH_START,function(t){i.getChildByName("detail").scale=1.1}),i.getChildByName("detail").on(cc.Node.EventType.TOUCH_END,function(o){i.getChildByName("detail").scale=1,e.nodeHolder[0].active=!1,e.nodeHolder[1].active=!0,e.nodeHolder[1].getComponent(c.default).setSystemDetail(t[n])}),o.content.addChild(i)},o=this;for(var i in t)n(i)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([f(cc.Node)],e.prototype,"content",void 0),i([f(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([f(cc.Button)],e.prototype,"listTopButton",void 0),i([f(cc.ScrollView)],e.prototype,"scv",void 0),i([f(cc.Node)],e.prototype,"nodeHolder",void 0),e=i([h],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/Utilities/Utility":"Utility","./HistoryDetail":"HistoryDetail","./LoadingManager":"LoadingManager"}],IconMiniGame:[function(t,e,n){"use strict";cc._RF.push(e,"7df74iaAu9C162VzizxIcsj","IconMiniGame");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/Constants"),c=t("../../Common/Data/GameData"),s=t("../../TaiXiu/Scripts/TaiXiuHandler"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.callMiniGame=function(t){},e.nodeIcon=null,e.countdown=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this;cc.systemEvent.on(a.default.EVENT_TAIXIU.TAIXIU_HANDLER+"pergame",this.updatePerGameTX.bind(this),this),this.nodeIcon.on(cc.Node.EventType.TOUCH_MOVE,function(e){var n=e.getDelta();t.node.x+=n.x,t.node.y+=n.y})},e.prototype.updatePerGameTX=function(){var t=s.default.getInstance().perGame;2==t.game_status?(t.remain_waiting>=10?this.countdown.string="00:"+t.remain_waiting:this.countdown.string="00:0"+t.remain_waiting,this.countdown.node.color=cc.Color.RED):(t.remain_betting>=10?this.countdown.string="00:"+t.remain_betting:this.countdown.string="00:0"+t.remain_betting,this.countdown.node.color=cc.color(244,252,156))},e.prototype.clickHideIcon=function(){var t=this;cc.systemEvent.emit(a.default.EVENT_LOBBY.SHOW_ICON_MINI_GAME,!0);var e=this.node.parent.parent.getChildByName("minigame").position;this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.4,e.x,e.y),cc.scaleTo(.4,0),cc.rotateBy(.4,720)),cc.callFunc(function(){t.node.destroy()})))},e.prototype.onBtnRPay=function(){cc.sys.openURL(c.default.getInstance().UserData.link)},e.prototype.clickIcon=function(t,e){this.callMiniGame(e),cc.systemEvent.emit(a.default.EVENT_LOBBY.SHOW_ICON_MINI_GAME,!0),this.node.destroy(),this.closePrefab()},e.prototype.closePrefab=function(){this.node.destroy(),cc.removeSelf(!1)},i([u(cc.Node)],e.prototype,"nodeIcon",void 0),i([u(cc.Label)],e.prototype,"countdown",void 0),e=i([l],e)}(cc.Component);n.IconMiniGame=p,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameData":"GameData","../../TaiXiu/Scripts/TaiXiuHandler":"TaiXiuHandler"}],Info:[function(t,e,n){"use strict";cc._RF.push(e,"59f33kXZCdDu7MaTrwsVY9v","Info");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./UserInfo"),c=t("../../Common/Data/GameData"),s=t("../../Common/Utilities/Utility"),r=t("../../Common/Data/LabelHelperConfigs"),l=t("../../Common/Data/Constants"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbNickname=null,e.lbID=null,e.lbBalance=null,e.lbPhone=null,e.lbVip=null,e.lbBMDN=null,e.rootNode=null,e.btnUpdateOTP=null,e.btnRemovePhone=null,e.btnRegisterBMDN=null,e.avatarAtlas=null,e.avatar=null,e.nodeAvatar=null,e.nodeChangePass=null,e.title=null,e.language=null,e}return o(e,t),e.prototype.onLoad=function(){this.language=r.TextData[c.default.getInstance().UserData.textPackage],cc.systemEvent.on(l.default.EVENT_LOBBY.AVATAR,this.onChangeAvatar.bind(this),this)},e.prototype.onChangeAvatar=function(t){this.avatar.spriteFrame=this.avatarAtlas.getSpriteFrame(t)},e.prototype.onBtnAvatar=function(){this.title.active=!1,this.node.active=!1,this.nodeAvatar.active=!0},e.prototype.onEnable=function(){this.title.active=!0,this.lbNickname.string=c.default.getInstance().UserData.nick,this.lbID.string=c.default.getInstance().UserData.pub_id,this.lbBalance.string=s.Utility.getInstance().numberToCurrency(c.default.getInstance().UserData.balance),this.lbVip.string=this.parseRank(c.default.getInstance().UserData.curr_level),this.avatar.spriteFrame=this.avatarAtlas.getSpriteFrame(c.default.getInstance().UserData.avatar+""),1==c.default.getInstance().UserData.security?(this.lbBMDN.string=this.language.active,this.btnRegisterBMDN.active=!1):(this.lbBMDN.string=this.language.in_active,this.btnRegisterBMDN.active=!0),""==c.default.getInstance().UserData.phone?(this.btnUpdateOTP.active=!0,this.btnRemovePhone.active=!1,this.lbPhone.node.color=cc.color(68,13,13,255),this.lbPhone.string=this.language.blank):(this.btnUpdateOTP.active=!1,this.btnRemovePhone.active=!0,this.lbPhone.node.color=cc.Color.RED,this.lbPhone.string=this.optimizePhone(c.default.getInstance().UserData.phone))},e.prototype.optimizePhone=function(t){var e="****"+t.substr(t.length-2,t.length);return t.substr(0,t.length-6)+e},e.prototype.onBtnChangePass=function(t){this.title.active=!1,this.node.active=!1,this.nodeChangePass.active=!0},e.prototype.onBtnUpdate=function(){this.rootNode.setToSecurity("PHONE")},e.prototype.onBtnRegisterBMDN=function(){this.rootNode.setToSecurity("BMDN")},e.prototype.parseRank=function(t){switch(t){case 1:return"VIP 0";case 2:return"VIP 1";case 3:return"VIP 2";case 4:return"VIP 3";case 5:return"VIP 4";case 6:return"VIP 5";case 7:return"VIP 6"}},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([d(cc.Label)],e.prototype,"lbNickname",void 0),i([d(cc.Label)],e.prototype,"lbID",void 0),i([d(cc.Label)],e.prototype,"lbBalance",void 0),i([d(cc.Label)],e.prototype,"lbPhone",void 0),i([d(cc.Label)],e.prototype,"lbVip",void 0),i([d(cc.Label)],e.prototype,"lbBMDN",void 0),i([d(a.default)],e.prototype,"rootNode",void 0),i([d(cc.Node)],e.prototype,"btnUpdateOTP",void 0),i([d(cc.Node)],e.prototype,"btnRemovePhone",void 0),i([d(cc.Node)],e.prototype,"btnRegisterBMDN",void 0),i([d(cc.SpriteAtlas)],e.prototype,"avatarAtlas",void 0),i([d(cc.Sprite)],e.prototype,"avatar",void 0),i([d(cc.Node)],e.prototype,"nodeAvatar",void 0),i([d(cc.Node)],e.prototype,"nodeChangePass",void 0),i([d(cc.Node)],e.prototype,"title",void 0),e=i([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Utilities/Utility":"Utility","./UserInfo":"UserInfo"}],JackpotController:[function(t,e,n){"use strict";cc._RF.push(e,"f57d3OQbMNBB5CjanDUt0Np","JackpotController");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Data/GameConfigs"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbJP=[],e.gameId=0,e}return o(e,t),e.prototype.onLoad=function(){this.checkGameID()},e.prototype.checkGameID=function(){switch(this.gameId){case c.GameConfigs.GameId.LongHo:cc.systemEvent.on(c.GameConfigs.JPName.LongHo,this.parseJackpot.bind(this),this);break;case c.GameConfigs.GameId.ThanTai:cc.systemEvent.on(c.GameConfigs.JPName.ThanTai,this.parseJackpot.bind(this),this);break;case c.GameConfigs.GameId.TienHiep:cc.systemEvent.on(c.GameConfigs.JPName.TienHiep,this.parseJackpot.bind(this),this);break;case c.GameConfigs.GameId.KT:cc.systemEvent.on(c.GameConfigs.JPName.KT,this.parseJackpot.bind(this),this);break;case c.GameConfigs.GameId.Fish:cc.systemEvent.on(c.GameConfigs.JPName.BanCa,this.parseJackpot.bind(this),this);break;case c.GameConfigs.GameId.NuWa:cc.systemEvent.on(c.GameConfigs.JPName.NuWa,this.parseJackpot.bind(this),this);break;case c.GameConfigs.GameId.DaiNaoThienCung:cc.systemEvent.on(c.GameConfigs.JPName.DaiNaoThienCung,this.parseJackpot.bind(this),this)}},e.prototype.parseJackpot=function(t){if(t)for(var e=0;e<3;e++)this.lbJP[e].runNumber(t[e],!0)},i([l(a.default)],e.prototype,"lbJP",void 0),i([l],e.prototype,"gameId",void 0),e=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/UI/NumberRun":"NumberRun"}],KTBonusItem:[function(t,e,n){"use strict";cc._RF.push(e,"d7e3b671hBNWLGevZTRNzXW","KTBonusItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Data/Constants"),s=t("./KTHandler"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeResult=[],e.lbMoneyWin=null,e.clickItem=null,e}var n;return o(e,t),n=e,e.prototype.onBtnPresent=function(t){s.KTHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickItem,!1),cc.systemEvent.emit(c.default.NT_STOP_COUNT_DOWN_25),this.node.getComponent(cc.Button).interactable=!1;for(var e=++s.KTHandler.getInstance().bonusInfo.count,n=--s.KTHandler.getInstance().bonusInfo.totalStep,o=s.KTHandler.getInstance().bonusInfo.listStep,i=s.KTHandler.getInstance().bonusInfo.listPrize,a=o.length,r=0;r<a;r++)e==o[r]&&this.showEffectWin(n,i[r])},e.prototype.showEffectWin=function(t,e){if(n.totalWin+=parseInt(e),t>=0&&cc.systemEvent.emit(c.default.NT_BONUS_25,{Step:t,TotalWin:n.totalWin}),this.lbMoneyWin.node.active=!0,this.nodeResult[0].active=!1,this.nodeResult[parseInt(e)>0?1:2].active=!0,this.lbMoneyWin.runNumber(e,!0),0==t)var o=setTimeout(function(){cc.systemEvent.emit(c.default.NT_NEXT_BONUS_25),clearTimeout(o)},1500)},e.prototype.resetDefault=function(){n.totalWin=0,this.nodeResult[0].active=!0,this.nodeResult[1].active=!1,this.lbMoneyWin.node.active=!1,this.lbMoneyWin.targetValue=0,this.node.getComponent(cc.Button).interactable=!0},e.totalWin=0,i([u(cc.Node)],e.prototype,"nodeResult",void 0),i([u(a.default)],e.prototype,"lbMoneyWin",void 0),i([u(cc.AudioClip)],e.prototype,"clickItem",void 0),e=n=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/UI/NumberRun":"NumberRun","./KTHandler":"KTHandler"}],KTBonus:[function(t,e,n){"use strict";cc._RF.push(e,"4ca18Nai95HV7LOaI+pBTrW","KTBonus");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Data/Constants"),s=t("./KTBonusItem"),r=t("./KTHandler"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelCountDown=null,e.labelTurn=null,e.labelTotalWin=null,e.holder=null,e.clickItem=null,e.increaseMoneyAC=null,e.bgBonus=null,e.nodeBonusAll=null,e.nodeBonusXX=null,e.labelTime=null,e.sprActive=[],e.sprList=[],e.btnCard=[],e.listLight=[],e.nodeBox=[],e.countDown2=0,e.countDown=0,e.currentWin=0,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(c.default.NT_BONUS_25,this.onCheckBonus.bind(this),this),cc.systemEvent.on(c.default.NT_STOP_COUNT_DOWN_25,this.onStopCountDown.bind(this),this),cc.systemEvent.on(c.default.NT_NEXT_BONUS_25,this.ShowBonusXX.bind(this),this)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},e.prototype.onEnable=function(){for(var t in this.nodeBonusAll.active=!0,this.nodeBonusXX.active=!1,s.default.totalWin=0,this.holder.children)this.holder.children[t].getComponent(s.default).resetDefault();this.countDown=10,r.KTHandler.getInstance().bonusInfo.count=0,this.labelTurn.string=r.KTHandler.getInstance().bonusInfo.totalStep.toString(),this.labelCountDown.string=this.countDown.toString(),this.labelTotalWin.string="0",this.RunTimeBonus(),r.KTHandler.getInstance().isSound&&cc.audioEngine.playMusic(this.bgBonus,!0)},e.prototype.RunTimeBonus=function(){var t=this;this.nodeBonusXX.active||(this.countDown--,this.countDown<0?r.KTHandler.getInstance().finishBonus():(this.labelCountDown.string=this.countDown.toString(),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.RunTimeBonus()})))))},e.prototype.onDisable=function(){this.node.stopAllActions(),this.currentWin=0,s.default.totalWin=0,this.labelTotalWin.string="0";for(var t=0,e=this.nodeBox;t<e.length;t++){(c=e[t]).active=!1}for(var n=0,o=this.sprList;n<o.length;n++){(c=o[n]).setPosition(0,0),c.opacity=0}for(var i=0,a=this.listLight;i<a.length;i++){var c;(c=a[i]).active=!1}},e.prototype.onStopCountDown=function(t){},e.prototype.onCheckBonus=function(t){this.countDown=10,this.labelTurn.string=t.Step.toString(),this.labelTotalWin.runNumber(t.TotalWin,!0),t.TotalWin!=this.currentWin&&(this.currentWin=t.TotalWin,r.KTHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.increaseMoneyAC,!1))},e.prototype.ShowBonusXX=function(){this.node.stopAllActions(),this.nodeBonusXX.active=!0,this.nodeBonusAll.active=!1;for(var t=0;t<this.btnCard.length;t++)this.btnCard[t].active=!0;this.countDown2=5,this.RunTimeBonusXX()},e.prototype.RunTimeBonusXX=function(){var t=this;this.nodeBonusXX.active&&(this.countDown2>0?(this.countDown2--,this.labelTime.string="00:0"+this.countDown2,this.nodeBonusXX.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.RunTimeBonusXX()})))):r.KTHandler.getInstance().finishBonus())},e.prototype.ClickCard=function(t,e){e=parseInt(e),r.KTHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickItem,!1);var n=r.KTHandler.getInstance().bonusInfo.xxx;this.sprList[e].getComponent(cc.Sprite).spriteFrame=this.sprActive[n-1];var o=n+1;6==o&&(o=3);var i=e+1;3==i&&(i=0),this.sprList[parseInt(i)].getComponent(cc.Sprite).spriteFrame=this.sprActive[o-1];var a=n+2;6==a&&(a=3),7==a&&(a=4);var c=e+2;3==c&&(c=0),4==c&&(c=1),this.sprList[parseInt(c)].getComponent(cc.Sprite).spriteFrame=this.sprActive[a-1];for(var s=0,l=this.btnCard;s<l.length;s++){var u=l[s];this.EffectCard(u,e)}this.countDown2=5},e.prototype.EffectCard=function(t,e){var n=this,o=t.position;t.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.moveTo(.05,o.y+5,o.x-5),cc.moveTo(.05,o.y+5,o.x+5),cc.moveTo(.05,o.y-5,o.x+5),cc.moveTo(.05,o.y-5,o.x-5),cc.moveTo(.05,o.y+5,o.x-5),cc.moveTo(.05,o.y+5,o.x+5),cc.moveTo(.05,o.y-5,o.x+5),cc.moveTo(.05,o.y-5,o.x-5),cc.moveTo(.05,o.y+5,o.x-5),cc.moveTo(.05,o.y,o.x),cc.callFunc(function(){t.scale=1,t.active=!1;for(var o=0,i=n.nodeBox;o<i.length;o++){i[o].active=!0}for(var a=0,c=n.sprList;a<c.length;a++){c[a].runAction(cc.spawn(cc.moveTo(2,0,30),cc.fadeTo(2,255)))}n.listLight[e].active=!0,n.listLight[e].getComponent(cc.Animation).play()})))},i([p(cc.Label)],e.prototype,"labelCountDown",void 0),i([p(cc.Label)],e.prototype,"labelTurn",void 0),i([p(a.default)],e.prototype,"labelTotalWin",void 0),i([p(cc.Node)],e.prototype,"holder",void 0),i([p(cc.AudioClip)],e.prototype,"clickItem",void 0),i([p(cc.AudioClip)],e.prototype,"increaseMoneyAC",void 0),i([p(cc.AudioClip)],e.prototype,"bgBonus",void 0),i([p(cc.Node)],e.prototype,"nodeBonusAll",void 0),i([p(cc.Node)],e.prototype,"nodeBonusXX",void 0),i([p(cc.Label)],e.prototype,"labelTime",void 0),i([p([cc.SpriteFrame])],e.prototype,"sprActive",void 0),i([p(cc.Node)],e.prototype,"sprList",void 0),i([p(cc.Node)],e.prototype,"btnCard",void 0),i([p(cc.Node)],e.prototype,"listLight",void 0),i([p(cc.Node)],e.prototype,"nodeBox",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/UI/NumberRun":"NumberRun","./KTBonusItem":"KTBonusItem","./KTHandler":"KTHandler"}],KTController:[function(t,e,n){"use strict";cc._RF.push(e,"e274bb+K6ZFg4+cJcCD2rKh","KTController");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Utilities/Utility"),s=t("../../Common/Data/Constants"),r=t("../../Common/Data/GameConfigs"),l=t("../../Common/Data/GameData"),u=t("./DataFree"),p=t("../../Common/Data/LabelHelperConfigs"),d=t("../../Common/UI/Notification"),h=t("../../scenemanager/scripts/SceneManager"),f=t("./KTModule"),_=t("./KTScroll"),g=t("./KTX2"),m=t("./KTHandler"),y=t("./KTEffect"),v=cc._decorator,b=v.ccclass,C=v.property,T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TIME_NO_PRIZE=.1,e.TIME_GOT_SPIN_RESULT=.5,e.TIME_GOT_JACKPOT=10,e.TIME_GOT_BIGWIN=5,e.TIME_DELAY_AUTO=1,e.TIME_DELAY_MG=4,e.TIME_FINISH_MG=7,e.TIME_FINISH_MG_WITH_EFFECT=10,e.SPIN_NORMAL=.6,e.SPIN_FAST=.2,e.TIME_SHOW_FREE=1,e.DELAY_FIRST_FREE=2e3,e.jackpotLabel=null,e.balanceLabel=null,e.totalLineLabel=null,e.sessionLabel=null,e.moneyWinLabel=null,e.totalBetLabel=null,e.winBG=null,e.winEffect=null,e.scrollerMasker=null,e.x2UI=null,e.backButton=null,e.spinButton=null,e.autoSpinButton=null,e.stopAutoButton=null,e.fastSpinButton=null,e.stopFastButton=null,e.btnX2=null,e.BGNOde=[],e.liners=null,e.helpPrefab=null,e.topjackpotPrefab=null,e.rankPrefab=null,e.historyPrefab=null,e.bonusUI=null,e.freeLabel=null,e.notiPrefab=null,e.bonusFreeAnim=null,e.freebonusHolder=null,e.uiFree=null,e.sound=[],e.winParticle=null,e.jackportFx=null,e.bigwinFx=null,e.megaFx=null,e.listBtnLine=[],e.btnSelectLine=[],e.lbMG=null,e.lbTimeMG=null,e.lbHeSoMG=null,e.lbMoneyMG=null,e.musicBackground=null,e.jackpotAC=null,e.bigwinAC=null,e.megaWinAC=null,e.moneyAClip=null,e.freeSpinAclip=null,e.bonusAclip=null,e.click=null,e.spin=null,e.autoSpin=null,e.fastSpin=null,e.mg1=null,e.mg2=null,e.nodeMG=null,e.posMG=[],e.samuraiHolder=null,e.samurai=null,e.samuraiDefault=null,e.manhGhepBG=null,e.blockRobot=null,e.moneyRobotComplete=null,e.tbpAtlas=null,e.nodeTryMode=null,e.animFinishMG=null,e.animWinMG=null,e.shadowSamurai=null,e.nodeVQMM=null,e.lbVQMM=null,e.listScrolls=[],e.listLine=[],e.gameState=f.KTModule.GAME_STATE.PREPARE,e.spinMode=f.KTModule.SPIN_MODE.NORMAL,e.curRoomId=1,e.totalBet=0,e.requestTime=0,e.autoTime=0,e.listRoomValue=[1e4,100,1e3,1e4],e.listItemSf=[],e.spinDone=!1,e.moneyWinFX=0,e.isSpin=!1,e.isSound=!0,e.timeShowFree=e.TIME_SHOW_FREE,e.countFree=0,e.intervalAuto=null,e.language=null,e.timeOutWin=null,e.jackpotFree=5e7,e.time_mg=0,e.finish_mg=!1,e.delayFirstFree=e.DELAY_FIRST_FREE,e.forceChangeRoom=1,e}return o(e,t),e.prototype.onLoad=function(){this.curRoomId=m.KTHandler.getInstance().accountInfo.roomId,0!=this.curRoomId&&m.KTHandler.getInstance().getAccumulate(),this.language=p.TextData[l.default.getInstance().UserData.textPackage],this.onPushJackpot([5e5,5e6,5e7])},e.prototype.start=function(){this.isSound?(cc.audioEngine.playMusic(this.musicBackground,!0),m.KTHandler.getInstance().isSound=!0):m.KTHandler.getInstance().isSound=!1,m.KTHandler.getInstance().isRequestLeave=!1;for(var t=0,e=this.scrollerMasker.children;t<e.length;t++){var n=e[t].getComponent(_.KTScroll);this.listScrolls.push(n),4==n.scrollId&&(n.delegate=this)}for(var o=1;o<26;o++){var i=this.liners.getChildByName(o+"");this.listLine.push(i),i.active=!0,i.opacity=0}var a=l.default.getInstance().UserData.balance;if(this.balanceLabel.string=c.Utility.getInstance().add_commas(a),this.updateRoom(),m.KTHandler.getInstance().onPushPlay=this.onPushPlay.bind(this),m.KTHandler.getInstance().onPushFinishBonus=this.onPlayBonusDone.bind(this),m.KTHandler.getInstance().onPushPlayBonus=this.onPushPlayBonus.bind(this),m.KTHandler.getInstance().onPushGetAccumulate=this.onPushGetAccumulate.bind(this),m.KTHandler.getInstance().onPushJackpot=this.onPushJackpot.bind(this),cc.systemEvent.on(s.default.NT_STOP_X2,this.onPlayX2Done.bind(this),this),cc.systemEvent.on(s.default.EVENT_LOBBY.UPDATE_BALANCE,this.onUpdateGloabalBalance.bind(this),this),m.KTHandler.getInstance().isTryMode){this.nodeTryMode.active=!0,this.gameState=f.KTModule.GAME_STATE.PREPARE,m.KTHandler.getInstance().demoInfo.balance=5e7,m.KTHandler.getInstance().demoInfo.jackpot=5e7,this.balanceLabel.string=c.Utility.getInstance().add_commas(5e7),this.jackpotLabel.money=this.jackpotFree,this.fastSpinButton.interactable=!1;for(o=0;o<this.btnSelectLine.length;o++)this.btnSelectLine[o].interactable=!1}this.updateLayoutRoom(this.curRoomId)},e.prototype.updateLayoutRoom=function(t){this.listItemSf=[];for(var e=0;e<11;e++){var n=this.tbpAtlas.getSpriteFrames()[e+""];if(this.listItemSf.push(n),10==e)for(var o=0,i=this.listScrolls;o<i.length;o++){i[o].updateSkin(this.listItemSf,t)}}switch(t){case 0:this.BGNOde[0].active=!0,this.BGNOde[1].active=!1,this.BGNOde[2].active=!1,this.BGNOde[3].active=!1;break;case 1:this.BGNOde[0].active=!1,this.BGNOde[1].active=!0,this.BGNOde[2].active=!1,this.BGNOde[3].active=!1;break;case 2:this.BGNOde[0].active=!1,this.BGNOde[1].active=!1,this.BGNOde[2].active=!0,this.BGNOde[3].active=!1;break;case 3:this.BGNOde[0].active=!1,this.BGNOde[1].active=!1,this.BGNOde[2].active=!1,this.BGNOde[3].active=!0}},e.prototype.onDestroy=function(){m.KTHandler.getInstance().accountInfo.lineString="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25",m.KTHandler.getInstance().accountInfo.totalLine=25,clearTimeout(this.timeOutWin),cc.systemEvent.targetOff(this)},e.prototype.update=function(t){m.KTHandler.getInstance().isTryMode&&this.gameState==f.KTModule.GAME_STATE.PREPARE&&this.spinMode==f.KTModule.SPIN_MODE.AUTO&&(this.autoTime+=t,this.autoTime>=.1&&(this.autoTime=0,this.onSpinClicked(null))),this.gameState==f.KTModule.GAME_STATE.PREPARE&&(this.spinMode==f.KTModule.SPIN_MODE.AUTO||this.spinMode==f.KTModule.SPIN_MODE.FAST||this.isFreeNextTurn())&&(this.autoTime+=t,this.autoTime>=this.TIME_DELAY_AUTO&&(this.autoTime=0,this.onSpinClicked(null))),this.gameState==f.KTModule.GAME_STATE.REQUESTING&&(this.requestTime+=t,this.requestTime>30&&(this.requestTime=0,this.updateUIAfterPlay(),this.spinMode=f.KTModule.SPIN_MODE.NORMAL,this.autoSpinButton.node.active=!0,this.stopAutoButton.node.active=!1,this.fastSpinButton.node.active=!0,this.stopFastButton.node.active=!1,this.gameState=f.KTModule.GAME_STATE.PREPARE))},e.prototype.updateUIRequestPlay=function(){this.winEffect.targetValue=0,this.winBG.active=!1,this.fastSpinButton.interactable=!1,this.autoSpinButton.interactable=!1,this.spinButton.interactable=!1,this.backButton.interactable=!1,this.moneyWinLabel.string="",this.listBtnLine[0].interactable=!1,this.listBtnLine[1].interactable=!1,this.btnX2.interactable=!1,this.hideAllLine()},e.prototype.enableAllButtons=function(){this.autoSpinButton.interactable=!0,this.fastSpinButton.interactable=!0,this.spinButton.interactable=!0,this.backButton.interactable=!0,this.listBtnLine[0].interactable=!0,this.listBtnLine[1].interactable=!0,this.btnX2.interactable=!0},e.prototype.updateUIAfterPlay=function(){var t=m.KTHandler.getInstance();if(this.spinMode!=f.KTModule.SPIN_MODE.NORMAL||t.accountInfo.isFree||this.enableAllButtons(),!t.accountInfo.isFree&&t.x2Info.startBet>0&&!t.isTryMode&&3!=t.accountInfo.gameStatus&&t.spinInfo.jackpotWinner<=0&&this.countFree<0?this.btnX2.interactable=!0:this.btnX2.interactable=!1,t.isTryMode){this.fastSpinButton.interactable=!1;for(var e=0;e<this.btnSelectLine.length;e++)this.btnSelectLine[e].interactable=!1}this.lbMoneyMG.string=c.Utility.getInstance().add_commas(m.KTHandler.getInstance().money_mg)},e.prototype.updateBalanceRequestPlay=function(){var t=m.KTHandler.getInstance();if(t.isTryMode){t.demoInfo.balance-=this.totalBet;var e=t.demoInfo.balance;this.balanceLabel.string=c.Utility.getInstance().add_commas(e),this.jackpotLabel.string=c.Utility.getInstance().add_commas(t.demoInfo.jackpot)}else if(this.isFreeTurn())this.totalBetLabel.string="0";else{l.default.getInstance().UserData.balance-=this.totalBet;e=l.default.getInstance().UserData.balance;this.balanceLabel.string=c.Utility.getInstance().add_commas(e),this.totalBetLabel.string=c.Utility.getInstance().add_commas(this.totalBet)}},e.prototype.updateBalanceAfterPlay=function(){if(0==m.KTHandler.getInstance().isTryMode)l.default.getInstance().UserData.balance=m.KTHandler.getInstance().spinInfo.balance,this.balanceLabel.string=c.Utility.getInstance().add_commas(l.default.getInstance().UserData.balance);else{var t=m.KTHandler.getInstance().demoInfo;t.balance+=m.KTHandler.getInstance().spinInfo.totalPrize,this.balanceLabel.string=c.Utility.getInstance().add_commas(t.balance),this.jackpotFree+=2500,this.jackpotLabel.money=this.jackpotFree}},e.prototype.isEnoughMoney=function(){return!(l.default.getInstance().UserData.balance<this.totalBet&&!m.KTHandler.getInstance().isTryMode)},e.prototype.onPushGetAccumulate=function(t){if(t){this.lbMG.string=t.accumulate_items+"/9";for(var e=1;e<=t.accumulate_items;e++)this.nodeMG.getChildByName(e.toString()).scale=1,this.nodeMG.getChildByName(e.toString()).opacity=255,this.nodeMG.getChildByName(e.toString()).setPosition(this.posMG[e-1]);this.time_mg=parseInt(t.time_remain),this.RunTimeMG(),this.lbHeSoMG.string=""+t.accumulate_multiply,this.lbMoneyMG.string=c.Utility.getInstance().add_commas(t.revenue)}},e.prototype.RunTimeMG=function(){var t=this;if(this.lbTimeMG)if(this.time_mg--,this.lbTimeMG.node.stopAllActions(),this.time_mg>0)this.lbTimeMG.string=this.convertHMS(this.time_mg),this.lbTimeMG.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.RunTimeMG()})));else for(var e in this.lbTimeMG.string="00:00:00",this.lbMG.string="0/9",this.lbHeSoMG.string="0",this.lbMoneyMG.string="0",this.nodeMG.children){var n=this.nodeMG.children[e];n.opacity=0,n.scale=0}},e.prototype.convertHMS=function(t){var e=parseInt(t,10),n=Math.floor(e/3600),o=Math.floor((e-3600*n)/60),i=e-3600*n-60*o,a=n+"";n<10&&(a="0"+n);var c=""+o;o<10&&(c="0"+o);var s=""+i;return i<10&&(s="0"+i),a+":"+c+":"+s},e.prototype.requesPlay=function(){var t=this;if(this.spinDone=!1,this.winParticle.node.active=!1,this.isSpin=!0,this.isFreeNextTurn()||m.KTHandler.getInstance().free_vqmm>0){this.updateUIRequestPlay();var e=setTimeout(function(){m.KTHandler.getInstance().play(t.curRoomId),clearTimeout(e)},this.delayFirstFree);return this.delayFirstFree=0,void(this.gameState=f.KTModule.GAME_STATE.REQUESTING)}this.isEnoughMoney()?(this.updateBalanceRequestPlay(),this.updateUIRequestPlay(),m.KTHandler.getInstance().play(this.curRoomId),this.gameState=f.KTModule.GAME_STATE.REQUESTING):(this.spinMode=f.KTModule.SPIN_MODE.NORMAL,this.autoSpinButton.node.active=!0,this.fastSpinButton.node.active=!0,this.showNotMoney(),this.stopFastButton.node.active=!1,this.stopAutoButton.node.active=!1,this.enableAllButtons(),this.resetSpinTurn())},e.prototype.resetSpinTurn=function(){for(var t=0,e=this.listScrolls;t<e.length;t++){e[t].resetScroll()}this.gameState==f.KTModule.GAME_STATE.HANDLE_RESULT&&(this.gameState=f.KTModule.GAME_STATE.PREPARE)},e.prototype.showLineWin=function(){var t=m.KTHandler.getInstance().spinInfo.listLineWin,e=function(e){var o=1.5*+e;n.spinMode!=f.KTModule.SPIN_MODE.AUTO&&n.spinMode!=f.KTModule.SPIN_MODE.FAST||(o=0);var i=t[+e]-1,a=n.listLine[i];if(i>25)return{value:void 0};var c=cc.delayTime(o);a.runAction(cc.sequence(c,cc.callFunc(function(){a.opacity=255}),cc.delayTime(1.5),cc.callFunc(function(){a.opacity=0})))},n=this;for(var o in t){var i=e(o);if("object"==typeof i)return i.value}},e.prototype.hideAllLine=function(){for(var t=0,e=this.listLine;t<e.length;t++){var n=e[t];n.stopAllActions(),n.opacity=0}},e.prototype.calculatorSpecialResult=function(){var t=this,e=m.KTHandler.getInstance(),n=this.TIME_GOT_SPIN_RESULT,o=this.checkWinAccumulate(e);return e.spinInfo.jackpotWinner>0?(o==this.TIME_FINISH_MG&&(o=this.TIME_FINISH_MG_WITH_EFFECT),this.node.runAction(cc.sequence(cc.delayTime(o),cc.callFunc(function(){o==t.TIME_FINISH_MG_WITH_EFFECT&&t.onBtnBlockRobot(),t.winBG.active=!1;var e=cc.instantiate(t.jackportFx);e.getComponent(y.default).money=t.moneyWinFX,t.node.addChild(e),t.isSound&&cc.audioEngine.playEffect(t.jackpotAC,!1),t.onStopAutoSpinClicked(null),t.onStopFastSpinClicked(null)}))),n+o):e.spinInfo.totalPrize>=10*this.totalBet?(n=this.TIME_GOT_BIGWIN,this.node.runAction(cc.sequence(cc.delayTime(o),cc.callFunc(function(){t.winBG.active=!1;var e=cc.instantiate(t.megaFx);e.getComponent(y.default).money=t.moneyWinFX,t.node.addChild(e),t.isSound&&cc.audioEngine.playEffect(t.megaWinAC,!1)}))),n+o):e.spinInfo.totalPrize>=5*this.totalBet?(n=this.TIME_GOT_BIGWIN,this.node.runAction(cc.sequence(cc.delayTime(o),cc.callFunc(function(){t.winBG.active=!1;var e=cc.instantiate(t.bigwinFx);e.getComponent(y.default).money=t.moneyWinFX,t.node.addChild(e),t.isSound&&cc.audioEngine.playEffect(t.bigwinAC,!1)}))),n+o):0==e.spinInfo.totalPrize?n=this.TIME_NO_PRIZE:e.spinInfo.is_accumulate?o:void 0},e.prototype.checkWinAccumulate=function(t){var e=0;return this.checkManhGhep(t.spinInfo.accumulate_items,t.spinInfo.accumulate_data)&&(e=this.finish_mg?this.TIME_FINISH_MG:this.TIME_DELAY_MG),e},e.prototype.checkManhGhep=function(t,e){var n=this;return!(0==t||!m.KTHandler.getInstance().spinInfo.is_accumulate)&&(9==t&&null!=e?(this.isSound&&cc.audioEngine.playEffect(this.mg2,!1),this.finish_mg=!0,this.onStopAutoSpinClicked(null),this.onStopFastSpinClicked(null),this.animWinMG.node.active=!0,this.lbMG.string="9/9",this.animWinMG.play("anim_mg"),this.nodeMG.getChildByName("9").runAction(cc.sequence(cc.delayTime(.5),cc.spawn(cc.scaleTo(.5,1),cc.fadeTo(.5,255)),cc.delayTime(2),cc.moveTo(.5,this.posMG[8]),cc.callFunc(function(){n.animWinMG.stop(),n.animWinMG.node.active=!1}),cc.delayTime(1.5),cc.callFunc(function(){n.resetAllMG(),n.samurai.active=!0,n.samuraiDefault.active=!1,n.samuraiHolder.children[1].active=!0,n.moneyRobotComplete.runNumber(e,!0),n.shadowSamurai.active=!1,n.samuraiHolder.runAction(cc.sequence(cc.moveTo(1,new cc.Vec2(208,6)),cc.callFunc(function(){n.animFinishMG.node.active=!0,n.animFinishMG.play("finish_mg")}),cc.delayTime(.5),cc.callFunc(function(){n.blockRobot.active=!0})))}))),!0):(this.isSound&&cc.audioEngine.playEffect(this.mg1,!1),this.lbMG.string=t+"/9",this.animWinMG.node.active=!0,this.nodeMG.getChildByName(t.toString()).position=0==t?cc.v2(0,160):cc.v2(0,0),this.animWinMG.play("anim_mg"),this.nodeMG.getChildByName(t.toString()).runAction(cc.sequence(cc.delayTime(.5),cc.spawn(cc.scaleTo(.5,1),cc.fadeTo(.5,255)),cc.delayTime(2),cc.moveTo(.5,this.posMG[t-1]),cc.callFunc(function(){n.animWinMG.node.active=!1,n.animWinMG.stop(),m.KTHandler.getInstance().getAccumulate()}))),!0))},e.prototype.onBtnBlockRobot=function(){this.enableAllButtons(),this.finish_mg=!1,this.animFinishMG.node.active=!1,this.animFinishMG.stop(),this.blockRobot.active=!1,this.samuraiHolder.children[1].active=!1,this.lbMG.string="0/9",this.samurai.active=!1,this.samuraiDefault.active=!0,this.shadowSamurai.active=!0,this.samuraiHolder.setPosition(cc.v2(-370,-53)),this.onPushGetAccumulate({session_id:0,revenue:0,accumulate_multiply:0,accumulate_items:0,time_remain:0})},e.prototype.resetAllMG=function(){for(var t in this.nodeMG.children){var e=this.nodeMG.children[t];e.opacity=0,e.scale=0,e.position=0==parseInt(t)?cc.v2(0,160):cc.v2(0,0)}},e.prototype.onPlayX2Done=function(){this.btnX2.interactable=!1,this.x2UI.node.active=!1,this.gameState=f.KTModule.GAME_STATE.PREPARE;var t=m.KTHandler.getInstance().x2Info.balance;this.balanceLabel.string=c.Utility.getInstance().add_commas(t),m.KTHandler.getInstance().x2Info.winValue>0?(this.winBG.active=!1,this.moneyWinLabel.string=c.Utility.getInstance().add_commas(m.KTHandler.getInstance().x2Info.winValue)):(this.moneyWinLabel.string="0",this.winBG.active=!1,this.winEffect.targetValue=0)},e.prototype.onX2Clicked=function(t){this.gameState==f.KTModule.GAME_STATE.PREPARE&&(this.x2UI.node.active=!0,this.x2UI.resetTurn(),this.gameState=f.KTModule.GAME_STATE.PLAYX2,this.isSound&&cc.audioEngine.playEffect(this.click,!1))},e.prototype.handlerAfterSpinDone=function(){this.resetSpinTurn()},e.prototype.updateRoom=function(){this.btnX2.interactable=!1;var t=m.KTHandler.getInstance().accountInfo.totalLine;m.KTHandler.getInstance().isTryMode&&(t=m.KTHandler.getInstance().demoInfo.totalLine),m.KTHandler.getInstance().accountInfo.betValue=this.listRoomValue[this.curRoomId],this.totalBet=t*m.KTHandler.getInstance().accountInfo.betValue,this.totalBetLabel.string=c.Utility.getInstance().add_commas(this.totalBet),this.sessionLabel.string="#--",this.moneyWinLabel.string="",this.totalLineLabel.string=t+""},e.prototype.updateWinFX=function(t){var e=this;if(0!=t){this.winBG.active=!0,this.moneyWinFX=t;var n=1,o=1200;this.spinMode==f.KTModule.SPIN_MODE.FAST?(n=.2,o=400):this.spinMode==f.KTModule.SPIN_MODE.AUTO&&(n=.4,o=700),this.winEffect.runNumber(t,!0,n),this.timeOutWin=setTimeout(function(){e.moneyWinLabel.string=c.Utility.getInstance().add_commas(m.KTHandler.getInstance().spinInfo.totalPrize),clearTimeout(e.timeOutWin)},o),this.winParticle.resetSystem(),this.winParticle.node.active=!0,this.isSound&&cc.audioEngine.playEffect(this.moneyAClip,!1)}},e.prototype.isFreeTurn=function(){return m.KTHandler.getInstance().accountInfo.isFree},e.prototype.isFreeNextTurn=function(){var t=this,e=m.KTHandler.getInstance().accountInfo.freeNumber;if(this.countFree=e-1,e>0){if(this.timeShowFree--,0==this.timeShowFree){this.isSound&&cc.audioEngine.playEffect(this.freeSpinAclip,!1),this.delayFirstFree=this.DELAY_FIRST_FREE;var n=this.checkWinAccumulate(m.KTHandler.getInstance());this.node.runAction(cc.sequence(cc.delayTime(n),cc.callFunc(function(){var e=cc.instantiate(t.bonusFreeAnim);e.getChildByName("free").active=!0,t.freebonusHolder.addChild(e);var n=setTimeout(function(){e.destroy(),e.removeFromParent(!0),clearTimeout(n)},2e3)})))}return this.uiFree.active=!0,this.freeLabel.string=(+e).toString(),!0}if(m.KTHandler.getInstance().free_vqmm>0){if(this.forceChangeRoom--,this.uiFree.active=!1,this.countFree=m.KTHandler.getInstance().free_vqmm-1,0==this.forceChangeRoom){this.isSound&&cc.audioEngine.playEffect(this.freeSpinAclip,!1),this.delayFirstFree=this.DELAY_FIRST_FREE;n=this.checkWinAccumulate(m.KTHandler.getInstance());this.node.runAction(cc.sequence(cc.delayTime(n),cc.callFunc(function(){var e=cc.instantiate(t.bonusFreeAnim);e.getChildByName("free").active=!0,t.freebonusHolder.addChild(e);var n=setTimeout(function(){e.destroy(),e.removeFromParent(!0),clearTimeout(n)},2e3)}))),this.showFreeVQMM()}return this.lbVQMM.string=m.KTHandler.getInstance().free_vqmm+"",!0}return this.forceChangeRoom=1,this.nodeVQMM.active=!1,this.timeShowFree=this.TIME_SHOW_FREE,this.uiFree.active=!1,m.KTHandler.getInstance().roomFree=0,!1},e.prototype.showFreeVQMM=function(){this.updateLayoutRoom(1),this.curRoomId=1,m.KTHandler.getInstance().accountInfo.lineString="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25",m.KTHandler.getInstance().accountInfo.totalLine=25,this.updateRoom(),this.nodeVQMM.active=!0},e.prototype.onUpdateGloabalBalance=function(t){m.KTHandler.getInstance().isTryMode||(l.default.getInstance().UserData.balance=t,this.balanceLabel.string=c.Utility.getInstance().add_commas(l.default.getInstance().UserData.balance))},e.prototype.onPushJackpot=function(t){t&&t[this.curRoomId-1]&&(this.jackpotLabel.money=parseInt(t[this.curRoomId-1]))},e.prototype.onPlayDone=function(){var t=m.KTHandler.getInstance();this.gameState=f.KTModule.GAME_STATE.HANDLE_RESULT,""==t.spinInfo.bonusString&&this.executePlayDone()},e.prototype.executePlayDone=function(){var t=this,e=m.KTHandler.getInstance();this.updateWinFX(e.spinInfo.totalPrize),this.showLineWin();var n=this.calculatorSpecialResult(),o=cc.delayTime(.5),i=cc.delayTime(n-.5);this.node.runAction(cc.sequence(o,cc.callFunc(function(){t.updateBalanceAfterPlay()}),i,cc.callFunc(function(){t.handlerAfterSpinDone(),t.autoTime=0,t.spinDone=!0,0==e.spinInfo.totalPrize&&(t.autoTime=t.TIME_DELAY_AUTO),t.updateUIAfterPlay()})))},e.prototype.onPushPlayBonus=function(t){var e=this;t&&this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){e.gameState=f.KTModule.GAME_STATE.PLAYBONUS,e.isSound&&cc.audioEngine.playEffect(e.bonusAclip,!1);var t=e.checkWinAccumulate(m.KTHandler.getInstance());e.node.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(function(){var t=cc.instantiate(e.bonusFreeAnim);t.getChildByName("bonus").active=!0,e.freebonusHolder.addChild(t);var n=setTimeout(function(){t.destroy(),t.removeFromParent(!0),e.bonusUI.active=!0,clearTimeout(n)},2e3)})))})))},e.prototype.onPushPlay=function(t){if(t>=0){if(this.requestTime=0,this.gameState=f.KTModule.GAME_STATE.SPINING,this.sessionLabel.string="#"+m.KTHandler.getInstance().spinInfo.spinId.toString(),this.hideAllLine(),this.listScrolls)for(var e=0,n=this.listScrolls;e<n.length;e++){var o=n[e];this.spinMode==f.KTModule.SPIN_MODE.FAST?o.setSpinFast(!0):o.setSpinFast(!1),o.startScroll(this.spinMode==f.KTModule.SPIN_MODE.FAST?this.SPIN_FAST:this.SPIN_NORMAL)}}else{switch(t){case-4:this.showNoti(this.language.system_busy);break;case-102:this.showNoti("T\xe0i kho\u1ea3n b\u1ecb kh\xf3a");break;case-103:this.showNoti("\u0110\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c ch\u01a1i game");break;case-104:this.showNotMoney();break;case-150:this.showNoti(this.language.system_busy)}this.spinMode=f.KTModule.SPIN_MODE.NORMAL,this.gameState=f.KTModule.GAME_STATE.PREPARE,this.enableAllButtons()}},e.prototype.onCloseChooseLine=function(){this.updateRoom()},e.prototype.onPlayBonusDone=function(){var t=this,e=m.KTHandler.getInstance(),n=e.bonusInfo.bonusPrize,o=n+e.spinInfo.totalPrize;this.node.runAction(cc.sequence(cc.callFunc(function(){t.bonusUI.active=!1,t.isSound&&cc.audioEngine.playMusic(t.musicBackground,!0),t.showNoti(t.language.win_bonus+" "+c.Utility.getInstance().add_commas(n))}),cc.delayTime(2),cc.callFunc(function(){t.gameState=f.KTModule.GAME_STATE.PREPARE,t.resetSpinTurn(),t.updateUIAfterPlay()})));var i=l.default.getInstance().UserData.balance;this.balanceLabel.string=c.Utility.getInstance().add_commas(i),this.moneyWinLabel.string=c.Utility.getInstance().add_commas(o)},e.prototype.onBackClicked=function(t){this.isFreeNextTurn()||this.gameState!=f.KTModule.GAME_STATE.PREPARE||(this.isSound&&cc.audioEngine.playEffect(this.click,!1),cc.audioEngine.stopAll(),cc.systemEvent.targetOff(this),h.clientdev.SceneManager.Instance.LoadScene(r.GameConfigs.SceneName.KTRoom,function(){}))},e.prototype.onSpinClicked=function(t){if(this.isSound&&(this.spinMode==f.KTModule.SPIN_MODE.FAST?cc.audioEngine.playEffect(this.fastSpin,!1):cc.audioEngine.playEffect(this.spin,!1)),m.KTHandler.getInstance().isTryMode){m.KTHandler.getInstance().demoInfo.balance-=this.totalBet;var e=m.KTHandler.getInstance().demoInfo.balance;this.balanceLabel.string=c.Utility.getInstance().add_commas(e),this.updateUIRequestPlay(),m.KTHandler.getInstance().parseSpin(u.default.listData[c.Utility.getInstance().randomInt(0,u.default.listData.length-1)],0)}this.gameState==f.KTModule.GAME_STATE.PREPARE&&this.requesPlay()},e.prototype.onAutoSpinClicked=function(t){if(this.isSound&&cc.audioEngine.playEffect(this.autoSpin,!1),m.KTHandler.getInstance().isTryMode)return this.autoSpinButton.node.active=!1,this.stopAutoButton.node.active=!0,this.spinButton.interactable=!1,this.autoSpinButton.interactable=!1,void(this.spinMode=f.KTModule.SPIN_MODE.AUTO);this.gameState==f.KTModule.GAME_STATE.PREPARE&&(this.autoSpinButton.node.active=!1,this.stopAutoButton.node.active=!0,this.spinMode=f.KTModule.SPIN_MODE.AUTO,this.requesPlay())},e.prototype.onStopAutoSpinClicked=function(t){if(this.isSound&&cc.audioEngine.playEffect(this.autoSpin,!1),m.KTHandler.getInstance().isTryMode)return this.isSpin=!1,this.autoSpinButton.node.active=!0,this.stopAutoButton.node.active=!1,void(this.spinMode=f.KTModule.SPIN_MODE.NORMAL);this.isSpin=!1,this.autoSpinButton.node.active=!0,this.stopAutoButton.node.active=!1,this.spinMode=f.KTModule.SPIN_MODE.NORMAL,this.spinButton.node.active=!0,this.spinDone&&this.enableAllButtons()},e.prototype.onFastSpinClicked=function(t){this.isSound&&cc.audioEngine.playEffect(this.fastSpin,!1),this.gameState==f.KTModule.GAME_STATE.PREPARE&&(this.fastSpinButton.node.active=!1,this.stopFastButton.node.active=!0,this.spinMode=f.KTModule.SPIN_MODE.FAST,this.requesPlay())},e.prototype.onStopFastSpinClicked=function(t){this.isSound&&cc.audioEngine.playEffect(this.fastSpin,!1),this.isSpin=!1,this.fastSpinButton.node.active=!0,this.stopFastButton.node.active=!1,this.spinMode=f.KTModule.SPIN_MODE.NORMAL,this.spinDone&&this.enableAllButtons()},e.prototype.onTopClicked=function(t){this.isSound&&cc.audioEngine.playEffect(this.click,!1);var e=cc.instantiate(this.topjackpotPrefab);cc.director.getScene().addChild(e,r.GameConfigs.zOderGame.POP_UP)},e.prototype.onRankClicked=function(t){this.isSound&&cc.audioEngine.playEffect(this.click,!1);var e=cc.instantiate(this.rankPrefab);cc.director.getScene().addChild(e,r.GameConfigs.zOderGame.POP_UP)},e.prototype.onHistoryClicked=function(t){this.isSound&&cc.audioEngine.playEffect(this.click,!1);var e=cc.instantiate(this.historyPrefab);cc.director.getScene().addChild(e,r.GameConfigs.zOderGame.POP_UP)},e.prototype.onHelpClicked=function(t){this.isSound&&cc.audioEngine.playEffect(this.click,!1);var e=cc.instantiate(this.helpPrefab);cc.director.getScene().addChild(e,r.GameConfigs.zOderGame.POP_UP)},e.prototype.onSoundClicked=function(t,e){0==parseInt(e)?(this.isSound=!0,m.KTHandler.getInstance().isSound=!0,this.sound[0].active=!0,this.sound[1].active=!1,cc.audioEngine.playMusic(this.musicBackground,!0)):(this.isSound=!1,m.KTHandler.getInstance().isSound=!1,this.sound[0].active=!1,this.sound[1].active=!0,cc.audioEngine.stopAll())},e.prototype.onChoseLineClicked=function(t,e){var n=this;if(!m.KTHandler.getInstance().isTryMode){var o=m.KTHandler.getInstance().accountInfo.lineString,i=o.split(",").length;1==parseInt(e)?++i>25&&(i=1):--i<1&&(i=25),o="";for(var a=1;a<=i;a++)o+=a+",";this.totalLineLabel.string=i+"",o=o.substring(0,o.length-1),m.KTHandler.getInstance().accountInfo.lineString=o,m.KTHandler.getInstance().accountInfo.totalLine=i,this.updateRoom();var c=function(t){s.liners.runAction(cc.sequence(cc.callFunc(function(){n.listLine[t].opacity=255}),cc.delayTime(1),cc.callFunc(function(){n.listLine[t].opacity=0})))},s=this;for(a=0;a<i;a++)c(a);this.isSound&&cc.audioEngine.playEffect(this.click,!1)}},e.prototype.parseRoom=function(){switch(this.curRoomId){case 1:return"100";case 2:return"1.000";case 3:return"10.000"}},e.prototype.showNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent(d.default).showDialog(2),e.getComponent(d.default).setContent(t),cc.director.getScene().addChild(e,r.GameConfigs.zOderGame.POP_UP),this.enableAllButtons()},e.prototype.showNotMoney=function(){this.gameState=f.KTModule.GAME_STATE.PREPARE;var t=cc.instantiate(this.notiPrefab);t.getComponent(d.default).setContent(this.language.no_enough_balance),t.getComponent(d.default).showNotMoney(),cc.director.getScene().addChild(t,r.GameConfigs.zOderGame.POP_UP)},i([C(a.default)],e.prototype,"jackpotLabel",void 0),i([C(cc.Label)],e.prototype,"balanceLabel",void 0),i([C(cc.Label)],e.prototype,"totalLineLabel",void 0),i([C(cc.Label)],e.prototype,"sessionLabel",void 0),i([C(cc.Label)],e.prototype,"moneyWinLabel",void 0),i([C(cc.Label)],e.prototype,"totalBetLabel",void 0),i([C(cc.Node)],e.prototype,"winBG",void 0),i([C(a.default)],e.prototype,"winEffect",void 0),i([C(cc.Node)],e.prototype,"scrollerMasker",void 0),i([C(g.default)],e.prototype,"x2UI",void 0),i([C(cc.Button)],e.prototype,"backButton",void 0),i([C(cc.Button)],e.prototype,"spinButton",void 0),i([C(cc.Button)],e.prototype,"autoSpinButton",void 0),i([C(cc.Button)],e.prototype,"stopAutoButton",void 0),i([C(cc.Button)],e.prototype,"fastSpinButton",void 0),i([C(cc.Button)],e.prototype,"stopFastButton",void 0),i([C(cc.Button)],e.prototype,"btnX2",void 0),i([C([cc.Node])],e.prototype,"BGNOde",void 0),i([C(cc.Node)],e.prototype,"liners",void 0),i([C(cc.Prefab)],e.prototype,"helpPrefab",void 0),i([C(cc.Prefab)],e.prototype,"topjackpotPrefab",void 0),i([C(cc.Prefab)],e.prototype,"rankPrefab",void 0),i([C(cc.Prefab)],e.prototype,"historyPrefab",void 0),i([C(cc.Node)],e.prototype,"bonusUI",void 0),i([C(cc.Label)],e.prototype,"freeLabel",void 0),i([C(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([C(cc.Prefab)],e.prototype,"bonusFreeAnim",void 0),i([C(cc.Node)],e.prototype,"freebonusHolder",void 0),i([C(cc.Node)],e.prototype,"uiFree",void 0),i([C(cc.Node)],e.prototype,"sound",void 0),i([C(cc.ParticleSystem)],e.prototype,"winParticle",void 0),i([C(cc.Prefab)],e.prototype,"jackportFx",void 0),i([C(cc.Prefab)],e.prototype,"bigwinFx",void 0),i([C(cc.Prefab)],e.prototype,"megaFx",void 0),i([C(cc.Button)],e.prototype,"listBtnLine",void 0),i([C([cc.Button])],e.prototype,"btnSelectLine",void 0),i([C(cc.Label)],e.prototype,"lbMG",void 0),i([C(cc.Label)],e.prototype,"lbTimeMG",void 0),i([C(cc.Label)],e.prototype,"lbHeSoMG",void 0),i([C(cc.Label)],e.prototype,"lbMoneyMG",void 0),i([C(cc.AudioClip)],e.prototype,"musicBackground",void 0),i([C(cc.AudioClip)],e.prototype,"jackpotAC",void 0),i([C(cc.AudioClip)],e.prototype,"bigwinAC",void 0),i([C(cc.AudioClip)],e.prototype,"megaWinAC",void 0),i([C(cc.AudioClip)],e.prototype,"moneyAClip",void 0),i([C(cc.AudioClip)],e.prototype,"freeSpinAclip",void 0),i([C(cc.AudioClip)],e.prototype,"bonusAclip",void 0),i([C(cc.AudioClip)],e.prototype,"click",void 0),i([C(cc.AudioClip)],e.prototype,"spin",void 0),i([C(cc.AudioClip)],e.prototype,"autoSpin",void 0),i([C(cc.AudioClip)],e.prototype,"fastSpin",void 0),i([C(cc.AudioClip)],e.prototype,"mg1",void 0),i([C(cc.AudioClip)],e.prototype,"mg2",void 0),i([C(cc.Node)],e.prototype,"nodeMG",void 0),i([C(cc.Vec2)],e.prototype,"posMG",void 0),i([C(cc.Node)],e.prototype,"samuraiHolder",void 0),i([C(cc.Node)],e.prototype,"samurai",void 0),i([C(cc.Node)],e.prototype,"samuraiDefault",void 0),i([C(cc.Node)],e.prototype,"manhGhepBG",void 0),i([C(cc.Node)],e.prototype,"blockRobot",void 0),i([C(a.default)],e.prototype,"moneyRobotComplete",void 0),i([C(cc.SpriteAtlas)],e.prototype,"tbpAtlas",void 0),i([C(cc.Node)],e.prototype,"nodeTryMode",void 0),i([C(cc.Animation)],e.prototype,"animFinishMG",void 0),i([C(cc.Animation)],e.prototype,"animWinMG",void 0),i([C(cc.Node)],e.prototype,"shadowSamurai",void 0),i([C(cc.Node)],e.prototype,"nodeVQMM",void 0),i([C(cc.Label)],e.prototype,"lbVQMM",void 0),e=i([b],e)}(cc.Component);n.KTController=T,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/UI/Notification":"Notification","../../Common/UI/NumberRun":"NumberRun","../../Common/Utilities/Utility":"Utility","../../scenemanager/scripts/SceneManager":"SceneManager","./DataFree":"DataFree","./KTEffect":"KTEffect","./KTHandler":"KTHandler","./KTModule":"KTModule","./KTScroll":"KTScroll","./KTX2":"KTX2"}],KTEffect:[function(t,e,n){"use strict";cc._RF.push(e,"07263A6YuNOaJO8ID913yjq","KTEffect");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeXoay=null,e.moneyRun=null,e.money=0,e}return o(e,t),e.prototype.onLoad=function(){this.moneyRun.runNumber(this.money,!0)},i([r(cc.Node)],e.prototype,"nodeXoay",void 0),i([r(a.default)],e.prototype,"moneyRun",void 0),e=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../Common/UI/NumberRun":"NumberRun"}],KTHandler:[function(t,e,n){"use strict";cc._RF.push(e,"e8951j3qdNLI4gjzj8x+QO0","KTHandler");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Common/Utilities/Utility"),a=t("../../Common/Data/GameData"),c=t("../../Common/Network/WsHandler"),s=t("../../Common/Data/GameConfigs"),r=t("./KTModule"),l=cc._decorator,u=l.ccclass,p=(l.property,function(){function t(){this.onPushPlay=function(t){},this.onPushAccountInfo=function(t){},this.onPushAccountInfoDemo=function(t){},this.onPushJoinRoom=function(t){},this.onPushPlayX2=function(t){},this.onPushPlayBonus=function(t){},this.onPushFinishX2=function(t){},this.onPushFinishBonus=function(t){},this.onPushTopJackpot=function(t){},this.onPushRank=function(t){},this.onPushHistory=function(t){},this.onPushJackpot=function(t){},this.onPushRankEvent=function(t){},this.onPushSpin=function(t){},this.onPushGetAccumulate=function(t){},this.accountInfo=new r.KTModule.AccountInfo,this.spinInfo=new r.KTModule.SpinInfo,this.x2Info=new r.KTModule.X2Info,this.demoInfo=new r.KTModule.DemoInfo,this.bonusInfo=new r.KTModule.BonusInfo,this.isTryMode=!1,this.listJackpot=[],this.listHonor=[],this.listHistory=[],this.listJackpotHistory=[],this.listBonus=[],this.isRequestLeave=!1,this.isFinishBonusFirstGame=!1,this.isSound=!0,this.free_vqmm=0,this.money_mg=0,this.roomFree=0}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e,this.Instance.initStart()),this.Instance},t.prototype.initStart=function(){cc.systemEvent.on(s.GameConfigs.WSGameName.KT,this.init.bind(this),this),cc.systemEvent.on(s.GameConfigs.JPName.KT,this.parseJackpot.bind(this),this)},t.prototype.destroy=function(){cc.systemEvent.targetOff(this)},t.prototype.init=function(t){var e=null,n=null,o=null;if(null!=t&&t.hasOwnProperty("message")&&this.parseAccountInfo(t.message),null!=t&&t.hasOwnProperty("s_data")&&(e=t.cmd,n=t.code,o=t.s_data),null!=o&&null!=e)switch(e){case"s_push_jackpot":if(o){var i=o.split(",");this.onPushJackpot(i)}break;case"s_spin_game":this.parseSpin(o,n);break;case"s_x2_play":this.parsePlayX2(o);break;case"s_x2_finish":this.onPushFinishX2(!0);break;case"s_finish_bonus":this.parseFinishBonus(o);break;case"s_jackpot":this.parseJackpotHistory(o);break;case"s_honor":this.parseHonor(o);break;case"s_history":this.parseHistory(o);break;case"s_rank":this.parseRankEvent(o);break;case"s_get_accumulate":this.onPushGetAccumulate(o)}},t.prototype.parseJackpot=function(t){this.onPushJackpot(t)},t.prototype.clearCallback=function(){this.onPushPlay=function(t){},this.onPushAccountInfo=function(t){},this.onPushAccountInfoDemo=function(t){},this.onPushJoinRoom=function(t){},this.onPushPlayX2=function(t){},this.onPushPlayBonus=function(t){},this.onPushFinishX2=function(t){},this.onPushFinishBonus=function(t){},this.onPushTopJackpot=function(t){},this.onPushRank=function(t){},this.onPushHistory=function(t){},this.onPushJackpot=function(t){},this.onPushRankEvent=function(t){}},t.prototype.connect=function(){c.WsHandler.getInstance().joinGame(s.GameConfigs.WSGameName.KT)},t.prototype.close=function(){c.WsHandler.getInstance().leaveGame(s.GameConfigs.WSGameName.KT)},t.prototype.play=function(t){if(this.isTryMode)this.callWS("TrySpin",this.demoInfo.jackpot.toString()+",0");else{var e='{"room_id":'+t+',"line_string":"'+this.accountInfo.lineString+'"}';this.callWS("spin_game",e)}},t.prototype.playX2=function(){this.callWS("x2_play","0")},t.prototype.finishBonus=function(){this.callWS("finish_bonus","0")},t.prototype.finishX2=function(){this.callWS("x2_finish","0")},t.prototype.getTopJackpot=function(){this.callWS("jackpot","0")},t.prototype.getRank=function(){this.callWS("honor","0")},t.prototype.getHistory=function(){this.callWS("history","0")},t.prototype.getRankEvent=function(){this.callWS("get_rank","0")},t.prototype.getAccumulate=function(){this.callWS("get_accumulate","0")},t.prototype.callWS=function(t,e){var n='{"cmd":"'+t+'","c_data":'+e+"}";c.WsHandler.getInstance().playGame(s.GameConfigs.WSGameName.KT,n)},t.prototype.parseRankEvent=function(t){void 0!=t&&null!=t?(this.accountInfo.rankEvent=t.rank,this.onPushRankEvent(!0)):this.onPushRankEvent(!1)},t.prototype.parseAccountInfo=function(t){if(void 0==t||null==t)return this.onPushAccountInfo(!1),void(this.accountInfo.isAready=!1);if(this.accountInfo.gameStatus=t.game_status,this.isTryMode=0==this.accountInfo.roomId,this.accountInfo.totalLine=0==t.total_free?25:t.total_lines,this.accountInfo.freeNumber=t.total_free,this.free_vqmm=t.free_vqmm,this.accountInfo.isAready=!0,2==this.accountInfo.gameStatus&&this.finishX2(),3==this.accountInfo.gameStatus&&(this.isFinishBonusFirstGame=!0,this.finishBonus()),t.total_lines)if(t.total_free>0){var e=parseInt(t.total_lines);this.accountInfo.lineString="1";for(var n=2;n<=e;n++)this.accountInfo.lineString+=","+n.toString();this.accountInfo.totalLine=e,this.roomFree=t.room_id}else this.roomFree=0,this.accountInfo.totalLine=25;this.onPushAccountInfo(!0)},t.prototype.parseSpin=function(t,e){if(this.spinInfo.execResult=t.exec_result,this.spinInfo.execResult<0||t.game_status<0)this.onPushPlay(t.exec_result);else if(e<0)this.onPushPlay(e);else{if(this.money_mg=parseInt(t.revenue),this.spinInfo.slotData=[[]],this.spinInfo.listPrizeWin=[],this.spinInfo.listLineWin=[],this.spinInfo.listItemInLineWin=[[]],this.listBonus=[],this.spinInfo.spinId=t.spin_id,this.spinInfo.lineString=t.lineString,this.accountInfo.gameStatus=t.game_status,this.spinInfo.totolBet=t.total_bet,this.spinInfo.totalPrize=t.total_prize,this.spinInfo.jackpotWinner=t.jackpot_winner,this.x2Info.startBet=t.x2_start_value,this.spinInfo.balance=t.balance,this.spinInfo.bonusString=t.bonus_string,this.accountInfo.prevFreeNumber=this.accountInfo.freeNumber,this.accountInfo.pointEvent=t.count_event,this.accountInfo.x2Event=t.x2_event,this.spinInfo.is_accumulate=t.is_accumulate,this.spinInfo.accumulate_items=t.accumulate_items,""!=t.accumulate_data){var n=t.accumulate_data.split(",");this.spinInfo.accumulate_data=n[2]}if(this.accountInfo.isFree=t.total_free>0,this.accountInfo.freeNumber=t.total_free,this.free_vqmm=t.total_free_lucky,this.isTryMode,t.slot_string){for(var o=0;o<5;o++){this.spinInfo.slotData.push([])}var i=t.slot_string.split(",");for(var n in i)this.spinInfo.slotData[+n%5].push(i[+n])}if(t.position_string)for(var a=0,c=i=t.position_string.split(";");a<c.length;a++){var s=c[a].split(",");this.spinInfo.listItemInLineWin.push(s)}if(t.prize_string)for(var r=0,l=i=t.prize_string.split(";");r<l.length;r++){s=l[r].split(",");this.spinInfo.listPrizeWin.push(s[s.length-1]),this.spinInfo.listLineWin.push(s[0])}""!=this.spinInfo.bonusString&&this.parsePlayBonus(this.spinInfo.bonusString),this.onPushPlay(t.exec_result)}},t.prototype.parsePlayX2=function(t){t.exec_result<0?this.finishX2():(this.x2Info.id=t.x2_spin_id,this.x2Info.step=t.step,this.x2Info.startBet=t.bet_value,this.x2Info.winValue=t.x2_prize,this.x2Info.balance=t.balance,t.balance>0&&(a.default.getInstance().UserData.balance=t.balance),this.onPushPlayX2(!0))},t.prototype.parsePlayBonus=function(t){var e=t.split(";");this.bonusInfo.listStep=[],this.bonusInfo.listPrize=[],this.bonusInfo.totalStep=e.length-2;var n=0,o=e.length-2,i=e[e.length-1];(i=i.split(","))[2]&&(this.bonusInfo.xxx=parseInt(i[2]));for(var a=0;a<o;a++){var c=e[a].split(",");this.bonusInfo.listStep.push(c[0]),this.bonusInfo.listPrize.push(c[3]),n+=c[3]}this.bonusInfo.bonusPrize=n,this.onPushPlayBonus(!0)},t.prototype.parseFinishBonus=function(t){t.exec_result<0?this.onPushFinishBonus(!1):(this.bonusInfo.bonusPrize=t.bonus_prize,a.default.getInstance().UserData.balance=t.balance,this.onPushFinishBonus(!0)),this.isTryMode&&(this.demoInfo.balance+=t.bonusPrizeValue)},t.prototype.parseJackpotHistory=function(t){this.listJackpotHistory=[];for(var e=0;e<t.length;e++){var n="";1==t[e].room_id&&(n="C\xf4n L\xf4n"),2==t[e].room_id&&(n="V\xf5 \u0110ang"),3==t[e].room_id&&(n="Thi\u1ebfu L\xe2m");var o={time:t[e].date_time,room:n,userName:t[e].nick_name,winValue:i.Utility.getInstance().numberToCurrency(t[e].prize_value)};this.listJackpotHistory.push(o)}this.onPushTopJackpot(!0)},t.prototype.parseHonor=function(t){this.listHonor=[];for(var e=0;e<t.length;e++){var n="";1==t[e].room_id&&(n="C\xf4n L\xf4n"),2==t[e].room_id&&(n="V\xf5 \u0110ang"),3==t[e].room_id&&(n="Thi\u1ebfu L\xe2m");var o={rank:e+1,time:t[e].date_time,userName:t[e].nick_name,roomid:n,winValue:i.Utility.getInstance().numberToCurrency(t[e].prize_value),details:t[e].top_type};this.listHonor.push(o)}this.onPushRank(!0)},t.prototype.parseHistory=function(t){this.listHistory=[];for(var e=0;e<t.length;e++){var n="";1==t[e].room_id&&(n="C\xf4n L\xf4n"),2==t[e].room_id&&(n="V\xf5 \u0110ang"),3==t[e].room_id&&(n="Thi\u1ebfu L\xe2m");var o="";o=t[e].total_bet>t[e].total_prize?"Thua":t[e].total_bet==t[e].total_prize?"H\xf2a":"Th\u1eafng";var a={session:t[e].spin_id,time:t[e].date_time,room:n,totalBet:i.Utility.getInstance().numberToCurrency(t[e].total_bet),winValue:i.Utility.getInstance().numberToCurrency(t[e].total_prize),result:o};this.listHistory.push(a)}this.onPushHistory(!0)},t.Instance=null,t=e=o([u],t)}());n.KTHandler=p,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Network/WsHandler":"WsHandler","../../Common/Utilities/Utility":"Utility","./KTModule":"KTModule"}],KTHelp:[function(t,e,n){"use strict";cc._RF.push(e,"d2b4cnLPoVJmYgu29Dh3ILn","KTHelp");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./KTHandler"),c=t("../../Common/UI/PopupInterface"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e}return o(e,t),e.prototype.oncLickClose=function(t){a.KTHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.click,!1),this.node.getComponent(c.default).closePopup()},i([l(cc.AudioClip)],e.prototype,"click",void 0),e=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Common/UI/PopupInterface":"PopupInterface","./KTHandler":"KTHandler"}],KTHistory:[function(t,e,n){"use strict";cc._RF.push(e,"8cf283asJNCvJRWGRsKi7Vg","KTHistory");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./KTHandler"),c=t("../../Common/UI/PopupInterface"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.click=null,e}return o(e,t),e.prototype.start=function(){a.KTHandler.getInstance().onPushHistory=this.onPushHistory.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.KTHandler.getInstance().getHistory()})))},e.prototype.onPushHistory=function(t){var e=50;a.KTHandler.getInstance().listHistory.length<e&&(e=a.KTHandler.getInstance().listHistory.length),this.contentScroll.removeAllChildren(!0);for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);o.getChildByName("1").active=n%2!=0,this.contentScroll.addChild(o),this.updateCell(o,a.KTHandler.getInstance().listHistory[n])}},e.prototype.updateCell=function(t,e){t.getChildByName("Session").getComponent(cc.Label).string=e.session,t.getChildByName("Time").getComponent(cc.Label).string=e.time,t.getChildByName("Room").getComponent(cc.Label).string=e.room,t.getChildByName("BetValue").getComponent(cc.Label).string=e.totalBet,t.getChildByName("Detail").getComponent(cc.Label).string=e.winValue},e.prototype.oncLickClose=function(t){a.KTHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.click,!1),this.node.getComponent(c.default).closePopup()},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([l(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([l(cc.Node)],e.prototype,"contentScroll",void 0),i([l(cc.AudioClip)],e.prototype,"click",void 0),e=i([r],e)}(cc.Component);n.KTHistory=u,cc._RF.pop()},{"../../Common/UI/PopupInterface":"PopupInterface","./KTHandler":"KTHandler"}],KTItem:[function(t,e,n){"use strict";cc._RF.push(e,"f5365rTjD5Oz6WvsiT5bO/n","KTItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.updateSkin=function(t,e){t.sort(function(t,e){return parseInt(t.name)<parseInt(e.name)?-1:parseInt(t.name)>parseInt(e.name)?1:0});for(var n=0,o=0,i=this.node.children;o<i.length;o++){var a=i[o];if(n<4){var c=a.getComponent(sp.Skeleton),s="";switch(n){case 0:s="wild";break;case 1:s="Freespine";break;case 2:s="Bonus";break;case 3:s="Jackpot"}c.animation=s}else{a.getComponent(cc.Sprite).spriteFrame=t[n]}n++}},e.prototype.updateItemById=function(t){for(var e in this.node.children)this.node.children[e].active=e==t},e=i([c],e)}(cc.Component));n.KTItem=s,cc._RF.pop()},{}],KTLobby:[function(t,e,n){"use strict";cc._RF.push(e,"3ba2f1zfvtPS7+6if1Umyp2","KTLobby");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameConfigs"),c=t("../../Common/UI/NumberRun"),s=t("../../Common/Utilities/Utility"),r=t("../../scenemanager/scripts/SceneManager"),l=t("./KTHandler"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgRoom=null,e.bgClick=null,e.btnFree=null,e.btn100=null,e.btn1k=null,e.btn10k=null,e.listJP=[],e.notiPrefab=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this;l.KTHandler.getInstance().isRequestLeave=!1,l.KTHandler.getInstance().onPushJackpot=this.onPushJackpot.bind(this),l.KTHandler.getInstance().onPushFinishBonus=this.onPlayBonusDone.bind(this),l.KTHandler.getInstance().isSound&&cc.audioEngine.playMusic(this.bgRoom,!0),this.onPushJackpot([5e5,5e6,5e7]),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){t.onCheckFreeSpin()})))},e.prototype.onPlayBonusDone=function(t){if(t){var e="K\u1ebft th\xfac Bonus b\u1ea1n nh\u1eadn \u0111\u01b0\u1ee3c "+s.Utility.getInstance().add_commas(l.KTHandler.getInstance().bonusInfo.bonusPrize),n=cc.instantiate(this.notiPrefab);n.getComponent("Notification").showDialog(2),n.getComponent("Notification").setContent(e),cc.director.getScene().addChild(n,a.GameConfigs.zOderGame.POP_UP)}},e.prototype.onCheckFreeSpin=function(){var t=l.KTHandler.getInstance();0==t.roomFree&&0==t.free_vqmm||(t.isSound&&cc.audioEngine.playEffect(this.bgClick,!1),this.btn100.interactable=!1,this.btn1k.interactable=!1,this.btn10k.interactable=!1,t.accountInfo.roomId=0==t.roomFree?1:t.roomFree,r.clientdev.SceneManager.Instance.LoadScene(a.GameConfigs.SceneName.KT,function(){}))},e.prototype.onPushJackpot=function(t){t&&(this.listJP[0].money=parseInt(t[0]),this.listJP[1].money=parseInt(t[1]),this.listJP[2].money=parseInt(t[2]))},e.prototype.clickRoom=function(t,e){l.KTHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.bgClick,!1),this.btn100.interactable=!1,this.btn1k.interactable=!1,this.btn10k.interactable=!1,l.KTHandler.getInstance().accountInfo.roomId=e;var n=l.KTHandler.getInstance().accountInfo;n.roomId=parseInt(e),0==n.roomId?l.KTHandler.getInstance().isTryMode=!0:l.KTHandler.getInstance().isTryMode=!1,r.clientdev.SceneManager.Instance.LoadScene(a.GameConfigs.SceneName.KT,function(){})},e.prototype.clickBack=function(){l.KTHandler.getInstance().accountInfo.totalLine=25,l.KTHandler.getInstance().accountInfo.lineString="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25",l.KTHandler.getInstance().clearCallback(),l.KTHandler.getInstance().close(),r.clientdev.SceneManager.Instance.LoadScene(a.GameConfigs.SceneName.Lobby,function(){l.KTHandler.getInstance().isRequestLeave=!0})},i([d(cc.AudioClip)],e.prototype,"bgRoom",void 0),i([d(cc.AudioClip)],e.prototype,"bgClick",void 0),i([d(cc.Button)],e.prototype,"btnFree",void 0),i([d(cc.Button)],e.prototype,"btn100",void 0),i([d(cc.Button)],e.prototype,"btn1k",void 0),i([d(cc.Button)],e.prototype,"btn10k",void 0),i([d(c.default)],e.prototype,"listJP",void 0),i([d(cc.Prefab)],e.prototype,"notiPrefab",void 0),e=i([p],e)}(cc.Component);n.KTLobby=h,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/UI/NumberRun":"NumberRun","../../Common/Utilities/Utility":"Utility","../../scenemanager/scripts/SceneManager":"SceneManager","./KTHandler":"KTHandler"}],KTModule:[function(t,e,n){"use strict";cc._RF.push(e,"adcdcTdFwBNQq811Y4hxaDa","KTModule"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){(function(t){t[t.PREPARE=0]="PREPARE",t[t.PLAYING_EFFECT=1]="PLAYING_EFFECT",t[t.STOP=2]="STOP"})(t.SCROLL_STATE||(t.SCROLL_STATE={})),function(t){t[t.PREPARE=0]="PREPARE",t[t.REQUESTING=1]="REQUESTING",t[t.PLAYX2=2]="PLAYX2",t[t.PLAYBONUS=3]="PLAYBONUS",t[t.SPINING=4]="SPINING",t[t.HANDLE_RESULT=5]="HANDLE_RESULT"}(t.GAME_STATE||(t.GAME_STATE={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.AUTO=1]="AUTO",t[t.FAST=2]="FAST"}(t.SPIN_MODE||(t.SPIN_MODE={}));var e=function(){return function(){this.accumulate_data=null}}();t.SpinInfo=e;var n=function(){return function(){this.isAready=!1,this.gameStatus=0,this.roomId=1,this.betValue=100,this.totalLine=25,this.lineString="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25",this.isFree=!1,this.freeNumber=0,this.prevFreeNumber=0,this.hasFree=!1,this.rankEvent=0,this.pointEvent=0,this.x2Event=!1}}();t.AccountInfo=n;var o=function(){return function(){}}();t.X2Info=o;var i=function(){return function(){this.count=0,this.totalStep=0,this.listPrize=[],this.listStep=[],this.bonusPrize=0,this.status=0,this.exec=0,this.xxx=0}}();t.BonusInfo=i;var a=function(){return function(){this.balance=5e7,this.jackpot=5e7,this.totalLine=25,this.lineString="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25"}}();t.DemoInfo=a}(n.KTModule||(n.KTModule={})),cc._RF.pop()},{}],KTRank:[function(t,e,n){"use strict";cc._RF.push(e,"04fd7+RpblEo4jxG/+rmruK","KTRank");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./KTHandler"),c=t("../../Common/UI/PopupInterface"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.click=null,e}return o(e,t),e.prototype.onLoad=function(){a.KTHandler.getInstance().onPushRank=this.onPushRank.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.KTHandler.getInstance().getRank()})))},e.prototype.onPushRank=function(t){var e=50;a.KTHandler.getInstance().listHonor.length<e&&(e=a.KTHandler.getInstance().listHonor.length),this.contentScroll.removeAllChildren(!0);for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);this.contentScroll.addChild(o),o.getChildByName("1").active=n%2!=0,this.updateCell(o,a.KTHandler.getInstance().listHonor[n])}},e.prototype.updateCell=function(t,e){t.getChildByName("Time").getComponent(cc.Label).string=e.time,t.getChildByName("UserName").getComponent(cc.Label).string=e.userName,t.getChildByName("Room").getComponent(cc.Label).string=e.roomid,t.getChildByName("Win").getComponent(cc.Label).string=e.winValue,1==e.details?t.getChildByName("Detail").getComponent(cc.Label).string="\u0110\u1eadp H\u0169":t.getChildByName("Detail").getComponent(cc.Label).string="Th\u1eafng l\u1edbn"},e.prototype.oncLickClose=function(t){a.KTHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.click,!1),this.node.getComponent(c.default).closePopup()},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([l(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([l(cc.Node)],e.prototype,"contentScroll",void 0),i([l(cc.AudioClip)],e.prototype,"click",void 0),e=i([r],e)}(cc.Component);n.KTRank=u,cc._RF.pop()},{"../../Common/UI/PopupInterface":"PopupInterface","./KTHandler":"KTHandler"}],KTScroll:[function(t,e,n){"use strict";cc._RF.push(e,"d9a7aqwrS1LZ5NdxYD0PmDd","KTScroll");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./KTModule"),c=t("./KTHandler"),s=t("./KTItem"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effect=null,e.result=null,e.scrollId=0,e.scrollAC=null,e.state=a.KTModule.SCROLL_STATE.PREPARE,e.listItems=[],e.startDelay=0,e.delegate=null,e}return o(e,t),e.prototype.onLoad=function(){this.startDelay=.3*this.scrollId,this.effect.node.active=!1;var t=c.KTHandler.getInstance().accountInfo.roomId-1;for(var e in-1==t&&(t=2),this.result.children){var n=this.result.children[e].getComponent(s.KTItem);this.listItems.push(n)}},e.prototype.setSpinFast=function(t){this.startDelay=t?.3:.3*this.scrollId},e.prototype.updateFx=function(t){this.effect.node.getComponent(cc.Sprite).spriteFrame=t},e.prototype.updateSkin=function(t,e){for(var n in this.result.children){this.result.children[n].getComponent(s.KTItem).updateSkin(t,e)}},e.prototype.startScroll=function(t){var e=this,n=setTimeout(function(){e.state!=a.KTModule.SCROLL_STATE.PREPARE&&(e.resetScroll(),void 0!=e.delegate&&e.delegate.onPlayDone()),clearTimeout(n)},5e3),o=null;this.state==a.KTModule.SCROLL_STATE.PREPARE&&(this.state=a.KTModule.SCROLL_STATE.PLAYING_EFFECT,this.node.runAction(cc.sequence(cc.delayTime(this.startDelay),cc.callFunc(function(){e.result.getComponent(cc.Animation).play("updown"),c.KTHandler.getInstance().isSound&&(o=cc.audioEngine.playEffect(e.scrollAC,!1))}),cc.delayTime(.11),cc.callFunc(function(){e.result.active=!1,e.effect.node.active=!0,e.effect.play("scrolleffect"),e.updateResult()}),cc.delayTime(t),cc.callFunc(function(){e.effect.node.active=!1,e.result.active=!0,e.effect.stop("snscroll"),e.result.getComponent(cc.Animation).play("downup"),o&&cc.audioEngine.stopEffect(o)}),cc.delayTime(.11),cc.callFunc(function(){e.resetScroll(),clearTimeout(n),4==e.scrollId&&void 0!=e.delegate&&e.delegate.onPlayDone()}))))},e.prototype.updateResult=function(){var t=c.KTHandler.getInstance().spinInfo.slotData[this.scrollId];for(var e in this.listItems)this.listItems[+e].updateItemById(t[+e]-1)},e.prototype.resetScroll=function(){this.node.stopAllActions(),this.result.active=!0,this.effect.node.active=!1,this.state=a.KTModule.SCROLL_STATE.PREPARE},i([u(cc.Animation)],e.prototype,"effect",void 0),i([u(cc.Node)],e.prototype,"result",void 0),i([u],e.prototype,"scrollId",void 0),i([u(cc.AudioClip)],e.prototype,"scrollAC",void 0),e=i([l],e)}(cc.Component);n.KTScroll=p,cc._RF.pop()},{"./KTHandler":"KTHandler","./KTItem":"KTItem","./KTModule":"KTModule"}],KTTop:[function(t,e,n){"use strict";cc._RF.push(e,"f2442XybnRJ7bsIo+xRWBt2","KTTop");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./KTHandler"),c=t("../../Common/UI/PopupInterface"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.click=null,e}return o(e,t),e.prototype.start=function(){a.KTHandler.getInstance().onPushTopJackpot=this.onPushTopJackpot.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.KTHandler.getInstance().getTopJackpot()})))},e.prototype.onPushTopJackpot=function(t){var e=50;a.KTHandler.getInstance().listJackpotHistory.length<e&&(e=a.KTHandler.getInstance().listJackpotHistory.length),this.contentScroll.removeAllChildren(!0);for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);this.contentScroll.addChild(o),o.getChildByName("1").active=n%2!=0,this.updateCell(o,a.KTHandler.getInstance().listJackpotHistory[n],n)}},e.prototype.updateCell=function(t,e,n){t.getChildByName("Time").getComponent(cc.Label).string=e.time,t.getChildByName("UserName").getComponent(cc.Label).string=e.userName,t.getChildByName("Room").getComponent(cc.Label).string=e.room,t.getChildByName("WinValue").getComponent(cc.Label).string=e.winValue},e.prototype.oncLickClose=function(t){a.KTHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.click,!1),this.node.getComponent(c.default).closePopup()},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([l(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([l(cc.Node)],e.prototype,"contentScroll",void 0),i([l(cc.AudioClip)],e.prototype,"click",void 0),e=i([r],e)}(cc.Component);n.KTTop=u,cc._RF.pop()},{"../../Common/UI/PopupInterface":"PopupInterface","./KTHandler":"KTHandler"}],KTX2:[function(t,e,n){"use strict";cc._RF.push(e,"977e1IsCUZNt54PTD/e2wtf","KTX2");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/Constants"),c=t("../../Common/Utilities/Utility"),s=t("../../Common/Data/LabelHelperConfigs"),r=t("../../Common/Data/GameData"),l=t("./KTHandler"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStop=null,e.btnCont=null,e.lbWinValue=null,e.lbX2=null,e.listCard=null,e.notiPrefab=null,e.click=null,e.musicX2=null,e.winX2=null,e.loseX2=null,e.bgMusic=null,e.winLose=[],e._cardChose=0,e.language=null,e.Win=!1,e.winValue=0,e.isFirstTime=!0,e}return o(e,t),e.prototype.onLoad=function(){l.KTHandler.getInstance().onPushPlayX2=this.onPushPlayX2.bind(this),l.KTHandler.getInstance().onPushFinishX2=this.onPushFinishX2.bind(this)},e.prototype.onEnable=function(){this.resetTurn(),cc.audioEngine.stopMusic(),l.KTHandler.getInstance().isSound&&cc.audioEngine.playMusic(this.musicX2,!0),this.isFirstTime=!0,this.language=s.TextData[r.default.getInstance().UserData.textPackage];var t=l.KTHandler.getInstance().x2Info.startBet;this.lbWinValue.string=c.Utility.getInstance().add_commas(t);var e=Math.floor(1.99*t);this.lbX2.string=c.Utility.getInstance().add_commas(e)},e.prototype.onBtnCard=function(t,e){l.KTHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.click,!1),this._cardChose=parseInt(e),this.btnStop.interactable=!1,this.btnCont.interactable=!1,this.listCard.children[0].getComponent(cc.Button).interactable=!1,this.listCard.children[1].getComponent(cc.Button).interactable=!1,this.isFirstTime?l.KTHandler.getInstance().playX2():this.handleResult(this.Win,this.winValue)},e.prototype.onBtnContinue=function(){for(var t in l.KTHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.click,!1),this.btnCont.interactable=!1,l.KTHandler.getInstance().playX2(),this.btnStop.interactable=!1,this.listCard.children[0].removeAllChildren(!0),this.listCard.children[1].removeAllChildren(!0),this.listCard.children[0].getComponent(cc.Sprite).enabled=!0,this.listCard.children[1].getComponent(cc.Sprite).enabled=!0,this.listCard.children[0].getComponent(cc.Button).interactable=!0,this.listCard.children[1].getComponent(cc.Button).interactable=!0,this.listCard.children){this.listCard.children[t].getComponent(cc.Button).interactable=!0}},e.prototype.onBtnStop=function(t){l.KTHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.click,!1),this._isPlayX2?l.KTHandler.getInstance().finishX2():cc.systemEvent.emit(a.default.NT_STOP_X2)},e.prototype.resetTurn=function(){this._isPlayX2=!1,this.btnStop.interactable=!1,this.btnCont.interactable=!1,this.listCard.children[0].removeAllChildren(!0),this.listCard.children[1].removeAllChildren(!0);for(var t=0,e=this.listCard.children;t<e.length;t++){var n=e[t];n.stopAllActions(),n.getComponent(cc.Button).interactable=!0}},e.prototype.onDisable=function(){this.isFirstTime=!0,cc.audioEngine.stopMusic(),l.KTHandler.getInstance().isSound&&cc.audioEngine.playMusic(this.bgMusic,!0),this.listCard.children[0].removeAllChildren(!0),this.listCard.children[1].removeAllChildren(!0),this.listCard.children[0].getComponent(cc.Sprite).enabled=!0,this.listCard.children[1].getComponent(cc.Sprite).enabled=!0,this.listCard.children[0].getComponent(cc.Button).interactable=!0,this.listCard.children[1].getComponent(cc.Button).interactable=!0;for(var t=0,e=this.listCard.children;t<e.length;t++){e[t].stopAllActions()}},e.prototype.onPushPlayX2=function(t){if(t){this._isPlayX2=!0,this.winValue=l.KTHandler.getInstance().x2Info.winValue;var e=Math.floor(1.99*l.KTHandler.getInstance().x2Info.startBet);this.Win=this.winValue>0,this.isFirstTime?(this.isFirstTime=!1,this.handleResult(this.Win,this.winValue)):(this.lbWinValue.string=this.lbX2.string,this.lbX2.string=c.Utility.getInstance().add_commas(e))}},e.prototype.onPushFinishX2=function(t){cc.systemEvent.emit(a.default.NT_STOP_X2)},e.prototype.handleResult=function(t,e){var n=this;if(this.lbWinValue.string=c.Utility.getInstance().numberToCurrency(l.KTHandler.getInstance().x2Info.startBet),this.listCard.children[0].getComponent(cc.Sprite).enabled=!1,this.listCard.children[1].getComponent(cc.Sprite).enabled=!1,this.listCard.children[0].getComponent(cc.Button).interactable=!1,this.listCard.children[1].getComponent(cc.Button).interactable=!1,t){l.KTHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.winX2,!1);var o=cc.instantiate(this.winLose[1]),i=cc.instantiate(this.winLose[0]);o.children[0].active=!0,o.children[0].getComponent(cc.Animation).play(),o.children[1].getComponent(cc.Animation).play(),0==this._cardChose?(this.listCard.children[0].addChild(o),this.listCard.children[1].addChild(i)):(this.listCard.children[0].addChild(i),this.listCard.children[1].addChild(o))}else{l.KTHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.loseX2,!1);o=cc.instantiate(this.winLose[0]);(i=cc.instantiate(this.winLose[1])).children[0].active=!1,0==this._cardChose?(this.listCard.children[0].addChild(o),this.listCard.children[1].addChild(i)):(this.listCard.children[0].addChild(i),this.listCard.children[1].addChild(o)),this.lbWinValue.string="0",this.lbX2.string="0"}var s=setTimeout(function(){var o=cc.instantiate(n.notiPrefab);t?(n.lbX2.string=c.Utility.getInstance().numberToCurrency(e),o.getComponent("Notification").setContent("Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 th\u1eafng "+c.Utility.getInstance().numberToCurrency(e))):o.getComponent("Notification").setContent("R\u1ea5t ti\u1ebfc, ch\xfac b\u1ea1n may m\u1eafn l\u1ea7n sau"),o.getComponent("Notification").showDialog(2),cc.director.getScene().addChild(o),clearTimeout(s)},2e3),r=setTimeout(function(){3!=l.KTHandler.getInstance().x2Info.step?(t?(n.btnStop.interactable=!0,n.btnCont.interactable=!0):cc.systemEvent.emit(a.default.NT_STOP_X2),clearTimeout(r)):cc.systemEvent.emit(a.default.NT_STOP_X2)},4e3)},i([d(cc.Button)],e.prototype,"btnStop",void 0),i([d(cc.Button)],e.prototype,"btnCont",void 0),i([d(cc.Label)],e.prototype,"lbWinValue",void 0),i([d(cc.Label)],e.prototype,"lbX2",void 0),i([d(cc.Node)],e.prototype,"listCard",void 0),i([d(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([d(cc.AudioClip)],e.prototype,"click",void 0),i([d(cc.AudioClip)],e.prototype,"musicX2",void 0),i([d(cc.AudioClip)],e.prototype,"winX2",void 0),i([d(cc.AudioClip)],e.prototype,"loseX2",void 0),i([d(cc.AudioClip)],e.prototype,"bgMusic",void 0),i([d(cc.Prefab)],e.prototype,"winLose",void 0),e=i([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Utilities/Utility":"Utility","./KTHandler":"KTHandler"}],LHoBonusItem:[function(t,e,n){"use strict";cc._RF.push(e,"35806BYM7JMY6MXCMOadmO7","LHoBonusItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Data/Constants"),s=t("./LHoHandler"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeResult=[],e.lbMoneyWin=null,e.clickWin=null,e.Audio_bonus_click=null,e.clickLose=null,e.isSound=!0,e}var n;return o(e,t),n=e,e.prototype.start=function(){this.isSound=s.LHoHandler.getInstance().isSound},e.prototype.onBtnPresent=function(t){cc.systemEvent.emit(c.default.EVENT_LONGHO.STOP_COUNT_DOWN_20),this.node.getComponent(cc.Button).interactable=!1,this.isSound&&cc.audioEngine.playEffect(this.Audio_bonus_click,!1);for(var e=++s.LHoHandler.getInstance().bonusInfo.count,n=--s.LHoHandler.getInstance().bonusInfo.totalStep,o=s.LHoHandler.getInstance().bonusInfo.listStep,i=s.LHoHandler.getInstance().bonusInfo.listPrize,a=o.length,r=0;r<a;r++)e==o[r]&&this.showEffectWin(n,i[r])},e.prototype.showEffectWin=function(t,e){n.totalWin+=parseInt(e),t>=0&&cc.systemEvent.emit(c.default.EVENT_LONGHO.BONUS_20,{Step:t,TotalWin:n.totalWin}),this.nodeResult[0].active=!1,this.nodeResult[parseInt(e)>0?1:2].active=!0,parseInt(e)>0&&this.lbMoneyWin.runNumber(e,!0),this.isSound&&parseInt(e)>0&&cc.audioEngine.playEffect(this.clickWin,!1),this.isSound&&0==parseInt(e)&&cc.audioEngine.playEffect(this.clickLose,!1),0==t&&s.LHoHandler.getInstance().finishBonus()},e.totalWin=0,i([u(cc.Node)],e.prototype,"nodeResult",void 0),i([u(a.default)],e.prototype,"lbMoneyWin",void 0),i([u(cc.AudioClip)],e.prototype,"clickWin",void 0),i([u(cc.AudioClip)],e.prototype,"Audio_bonus_click",void 0),i([u(cc.AudioClip)],e.prototype,"clickLose",void 0),e=n=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/UI/NumberRun":"NumberRun","./LHoHandler":"LHoHandler"}],LHoBonus:[function(t,e,n){"use strict";cc._RF.push(e,"ac0f3W9435NOrppWsCPI2xD","LHoBonus");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Data/Constants"),s=t("./LHoBonusItem"),r=t("./LHoHandler"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelCountDown=null,e.labelTurn=null,e.labelTotalWin=null,e.book=null,e.bookHolder=null,e.bonusMusic=null,e.musicBackground=null,e.countDown=0,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(c.default.EVENT_LONGHO.BONUS_20,this.onCheckBonus.bind(this),this),cc.systemEvent.on(c.default.EVENT_LONGHO.STOP_COUNT_DOWN_20,this.onStopCountDown.bind(this),this)},e.prototype.onEnable=function(){s.default.totalWin=0,r.LHoHandler.getInstance().isSound&&cc.audioEngine.playMusic(this.bonusMusic,!0),this.countDown=c.default.EVENT_LONGHO.COUNT_DOWNX2;for(var t=0;t<18;t++){var e=cc.instantiate(this.book);this.bookHolder.addChild(e)}r.LHoHandler.getInstance().bonusInfo.count=0,this.labelTurn.string=r.LHoHandler.getInstance().bonusInfo.totalStep.toString(),this.labelCountDown.string=this.countDown.toString(),this.labelTotalWin.string="0",this.RunAction()},e.prototype.onDisable=function(){s.default.totalWin=0,cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.musicBackground,!0),this.labelTotalWin.string="0",this.bookHolder.removeAllChildren()},e.prototype.onStopCountDown=function(t){this.countDown=10,this.labelCountDown.string=this.countDown.toString(),this.node.stopAllActions(),this.RunAction()},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},e.prototype.RunAction=function(){var t=this;this.node.runAction(cc.repeat(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.countDown--,t.countDown<0?(t.node.stopAllActions(),r.LHoHandler.getInstance().finishBonus()):t.labelCountDown.string=t.countDown.toString()})),11))},e.prototype.onCheckBonus=function(t){this.labelTurn.string=t.Step.toString(),this.labelTotalWin.runNumber(t.TotalWin,!0)},i([p(cc.Label)],e.prototype,"labelCountDown",void 0),i([p(cc.Label)],e.prototype,"labelTurn",void 0),i([p(a.default)],e.prototype,"labelTotalWin",void 0),i([p(cc.Prefab)],e.prototype,"book",void 0),i([p(cc.Node)],e.prototype,"bookHolder",void 0),i([p(cc.AudioClip)],e.prototype,"bonusMusic",void 0),i([p(cc.AudioClip)],e.prototype,"musicBackground",void 0),e=i([u],e)}(cc.Component);n.LHoBonus=d,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/UI/NumberRun":"NumberRun","./LHoBonusItem":"LHoBonusItem","./LHoHandler":"LHoHandler"}],LHoChooseLineDialog:[function(t,e,n){"use strict";cc._RF.push(e,"541bb6nmVJKLKn+T7yOblv5","LHoChooseLineDialog");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/PopupInterface"),c=t("./LHoHandler"),s=t("./LHoChooseLineItem"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lineBtners=null,e.notiPrefab=null,e.click=null,e.listBtn=[],e.delegate=null,e.isSound=!0,e}return o(e,t),e.prototype.start=function(){this.isSound=c.LHoHandler.getInstance().isSound;for(var t=0,e=this.lineBtners.children;t<e.length;t++){var n=e[t].getComponent(s.LHoChooseLineItem);n.unSeclect(),this.listBtn.push(n)}for(var o=0,i=c.LHoHandler.getInstance().accountInfo.lineString.split(",");o<i.length;o++){var a=i[o];void 0!=this.listBtn[+a-1]&&this.listBtn[+a-1].seclect()}},e.prototype.onEventClicked=function(t){this.isSound&&cc.audioEngine.playEffect(this.click,!1);for(var e=0,n=this.listBtn;e<n.length;e++){n[e].updateByMode(!0)}},e.prototype.onOldClicked=function(t){this.isSound&&cc.audioEngine.playEffect(this.click,!1);for(var e=0,n=this.listBtn;e<n.length;e++){n[e].updateByMode(!1)}},e.prototype.onAllClicked=function(t){this.isSound&&cc.audioEngine.playEffect(this.click,!1);for(var e=0,n=this.listBtn;e<n.length;e++){n[e].seclect()}},e.prototype.onUnSelectClicked=function(t){this.isSound&&cc.audioEngine.playEffect(this.click,!1);for(var e=0,n=this.listBtn;e<n.length;e++){n[e].unSeclect()}this.listBtn[0].seclect()},e.prototype.onCloseClicked=function(){for(var t="",e=0,n=0,o=this.listBtn;n<o.length;n++){var i=o[n];i.isActive&&(t+=""==t?i.lineId:","+i.lineId,e++)}this.isSound&&cc.audioEngine.playEffect(this.click,!1),0==e?(this.listBtn[0].seclect(),this.onCloseClicked()):(c.LHoHandler.getInstance().accountInfo.lineString=t,c.LHoHandler.getInstance().accountInfo.totalLine=e,cc.log(this.delegate),this.delegate&&this.delegate.onCloseChooseLine(),this.node.getComponent(a.default).closePopup())},i([u(cc.Node)],e.prototype,"lineBtners",void 0),i([u(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([u(cc.AudioClip)],e.prototype,"click",void 0),e=i([l],e)}(cc.Component);n.LHoChooseLineDialog=p,cc._RF.pop()},{"../../Common/UI/PopupInterface":"PopupInterface","./LHoChooseLineItem":"LHoChooseLineItem","./LHoHandler":"LHoHandler"}],LHoChooseLineItem:[function(t,e,n){"use strict";cc._RF.push(e,"f706duFjBNJh57UWIJY6q/5","LHoChooseLineItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./LHoHandler"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isActive=!0,e.Audio_click=null,e.lineId=0,e.Is_sound=!0,e}return o(e,t),e.prototype.start=function(){this.Is_sound=a.LHoHandler.getInstance().isSound},e.prototype.updateClicked=function(){var t=this.isActive;this.isActive=!t,this.isActive?this.node.opacity=255:this.node.opacity=0},e.prototype.onClickButton=function(t,e){this.updateClicked(),this.Is_sound&&cc.audioEngine.playEffect(this.Audio_click,!1)},e.prototype.unSeclect=function(){this.isActive=!1,this.node.opacity=0},e.prototype.seclect=function(){this.isActive=!0,this.node.opacity=255},e.prototype.updateByMode=function(t){this.isActive=!1,this.node.opacity=0;var e=this.lineId%2;t&&0==e&&this.seclect(),t||1!=e||this.seclect()},i([r(cc.AudioClip)],e.prototype,"Audio_click",void 0),i([r],e.prototype,"lineId",void 0),e=i([s],e)}(cc.Component);n.LHoChooseLineItem=l,cc._RF.pop()},{"./LHoHandler":"LHoHandler"}],LHoController:[function(t,e,n){"use strict";cc._RF.push(e,"90e2fSmbC9EHayConIuXjOg","LHoController");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Data/GameData"),s=t("../../Common/Utilities/Utility"),r=t("../../Common/Data/Constants"),l=t("../../Common/Data/GameConfigs"),u=t("../../Common/Data/LabelHelperConfigs"),p=t("./LHoHandler"),d=t("../../Common/UI/Notification"),h=t("../../Common/Network/WsHandler"),f=t("./LHoScroll"),_=t("./LHoModule"),g=t("./LHoDataTryMode"),m=t("./LHoX2"),y=t("./LHoChooseLineDialog"),v=t("../../scenemanager/scripts/SceneManager"),b=cc._decorator,C=b.ccclass,T=b.property,I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TIME_GOT_SPIN_RESULT=.3,e.TIME_GOT_JACKPOT=5,e.TIME_GOT_BIGWIN=4,e.TIME_DELAY_AUTO=.5,e.SPIN_NORMAL=1.25,e.SPIN_FAST=.2,e.TIME_SHOW_FREE=1,e.spinId=0,e.jackpotLabel=null,e.jackpotUsdLabel=null,e.balanceLabel=null,e.totalLineLabel=null,e.totalBetLabel=null,e.roomValueLabel=null,e.moneyWinLabel=null,e.winBG=null,e.winEffect=null,e.scrollerMasker=null,e.fastSpinButton=null,e.Autobtn=null,e.stopFastButton=null,e.x2Button1=null,e.chooseLineButton=null,e.backButton=null,e.background=null,e.liners=null,e.chooseLinePrefab=null,e.helpPrefab=null,e.topjackpotPrefab=null,e.rankPrefab=null,e.historyPrefab=null,e.x2UI=null,e.bonusUI=null,e.content_all=null,e.freeLabel=null,e.lbSession=null,e.notiPrefab=null,e.notiPrefab2=null,e.BonusAnim=null,e.bonusFreeAnim=null,e.normal=null,e.btnSpin=null,e.freebonusHolder=null,e.uiFree=null,e.winParticle=null,e.statusTrySpin=null,e.nodeEffectItem=null,e.jackpotFxTry=null,e.jackportFx=null,e.jackportFx1K=null,e.jackportFx100=null,e.bigwinFx=null,e.megaFx=null,e.free_vqmm=null,e.musicBackground=null,e.jackpotAC_Try=null,e.jackpotAC_10k=null,e.jackpotAC_1k=null,e.jackpotAC_100=null,e.bigwinAC=null,e.megaWinAC=null,e.click=null,e.Audio_Spin=null,e.Audio_AutoSpin=null,e.Audio_Maxspeep=null,e.moneyAC=null,e.gotBonusFree=null,e.sound=[],e.heroAtlas=null,e.listScrolls=[],e.listLine=[],e.gameState=_.LHoModule.GAME_STATE.PREPARE,e.spinMode=_.LHoModule.SPIN_MODE.NORMAL,e.curRoomId=1,e.totalBet=0,e.requestTime=0,e.autoTime=0,e.listRoomValue=[1e4,100,1e3,1e4],e.listItemSf=[],e.changeRoom=!0,e.spinDone=!1,e.timeShowFree=e.TIME_SHOW_FREE,e.isWin_AftBonus=!1,e.moneyWinFX=0,e.openSetting=!1,e.isSound=!0,e.isNormal=!0,e.isSpin=!1,e.language=null,e.intervalAuto=null,e.parseAccDone=!1,e.balanceTrySpin=5e7,e.jackpotTrySpin=5e7,e.lineItem={1:[6,7,8,9,10],2:[1,2,3,4,5],3:[11,12,13,14,15],4:[6,7,3,9,10],5:[6,7,13,9,10],6:[1,2,8,4,5],7:[11,12,8,14,15],8:[1,12,3,14,5],9:[11,2,13,4,15],10:[6,2,13,4,10],11:[11,7,3,9,15],12:[1,7,13,9,5],13:[6,12,8,4,10],14:[6,2,8,14,10],15:[11,7,8,9,15],16:[1,7,8,9,5],17:[6,12,13,14,10],18:[6,2,3,4,10],19:[11,12,8,4,5],20:[1,2,8,14,15]},e}return o(e,t),e.prototype.onLoad=function(){this.isSound=p.LHoHandler.getInstance().isSound,this.parseAccDone=p.LHoHandler.getInstance().parseAccDone,this.curRoomId=p.LHoHandler.getInstance().accountInfo.roomId,this.language=u.TextData[c.default.getInstance().UserData.textPackage]},e.prototype.checkFree_vqmm=function(){!this.isFreeTurn()&&p.LHoHandler.getInstance().free_vqmm>0?(this.updateRoom(),this.free_vqmm.active=!0,this.chooseLineButton.interactable=!1,this.free_vqmm.getChildByName("text").getComponent(cc.Label).string=p.LHoHandler.getInstance().free_vqmm+""):this.free_vqmm.active=!1},e.prototype.start=function(){var t=this;cc.audioEngine.playMusic(this.musicBackground,!0);for(var e=0,n=this.scrollerMasker.children;e<n.length;e++){var o=n[e].getComponent(f.LHoScroll);this.listScrolls.push(o),4==o.scrollId&&(o.delegate=this)}for(var i=1;i<21;i++){var a=this.liners.getChildByName(i+"");this.listLine.push(a),a.active=!0,a.opacity=0}var u=c.default.getInstance().UserData.balance;this.balanceLabel.string=s.Utility.getInstance().add_commas(u),this.updateLineDefault(),this.updateRoom(),p.LHoHandler.getInstance().onPushPlay=this.onPushPlay.bind(this),p.LHoHandler.getInstance().onPushAccountInfo=this.onPushAccountInfo.bind(this),p.LHoHandler.getInstance().onPushFinishBonus=this.onPlayBonusDone.bind(this),p.LHoHandler.getInstance().onPushPlayBonus=this.onPushPlayBonus.bind(this),p.LHoHandler.getInstance().onPushSpin=this.onPushSpin.bind(this),cc.systemEvent.on(l.GameConfigs.JPName.LongHo,this.onPushJackpot.bind(this),this),cc.systemEvent.on(r.default.EVENT_LONGHO.STOP_X2,this.onPlayX2Done.bind(this),this),cc.systemEvent.on(r.default.EVENT_LOBBY.UPDATE_BALANCE,this.onUpdateGloabalBalance.bind(this),this);for(var d=0,g=h.WsHandler.getInstance().listJPAll;d<g.length;d++){var m=g[d];if(m.name==l.GameConfigs.JPName.LongHo){this.onPushJackpot(m.value.split(","));break}}if(p.LHoHandler.getInstance().isTryMode)setTimeout(function(){t.gameState=_.LHoModule.GAME_STATE.PREPARE,t.chooseLineButton.interactable=!1,t.balanceTrySpin=5e7,t.jackpotTrySpin=5e7,t.balanceLabel.string=s.Utility.getInstance().add_commas(t.balanceTrySpin),t.jackpotLabel.money=t.jackpotTrySpin,0!=c.default.getInstance().UserData.ratio_usd&&t.jackpotUsdLabel.runNumberPrefix(t.jackpotTrySpin/c.default.getInstance().UserData.ratio_usd,!0),t.fastSpinButton.interactable=!1},200);var y=this.curRoomId;0==y&&(this.curRoomId=3,y=3,this.statusTrySpin.active=!0);for(var v=0,b=this.heroAtlas.getSpriteFrames();v<b.length;v++){var C=b[v];if(C.name.indexOf("item1")>-1&&(this.listItemSf.push(C),"item17"==C.name))for(var T=0,I=this.listScrolls;T<I.length;T++){I[T].updateSkin(this.listItemSf)}}p.LHoHandler.getInstance().onPushJackpot=this.onPushJackpot.bind(this);for(var P=0,N=this.background.children;P<N.length;P++){N[P].active=!1}p.LHoHandler.getInstance().isTryMode?this.background.getChildByName("try").active=!0:this.background.getChildByName(y+"").active=!0,1==p.LHoHandler.getInstance().accountInfo.roomId&&this.checkFree_vqmm()},e.prototype.onPushAccountInfo=function(t){t&&(this.parseAccDone=!0,this.updateRoom())},e.prototype.onDetroy=function(){cc.audioEngine.stopMusic(),p.LHoHandler.getInstance().clearCallback(),cc.systemEvent.targetOff(this)},e.prototype.update=function(t){var e=this;this.gameState==_.LHoModule.GAME_STATE.PREPARE&&(this.spinMode==_.LHoModule.SPIN_MODE.AUTO||this.spinMode==_.LHoModule.SPIN_MODE.FAST||this.isFreeNextTurn()||p.LHoHandler.getInstance().free_vqmm>0&&1==this.curRoomId)&&(this.autoTime+=t,this.isWin_AftBonus?this.autoTime>=2.5&&(this.onSpinClicked(null),this.autoTime=0):this.autoTime>=this.TIME_DELAY_AUTO&&this.isFreeNextTurn()?(this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.onSpinClicked(null)}))),this.autoTime=0):this.autoTime>=this.TIME_DELAY_AUTO&&!this.isFreeNextTurn()&&(this.node.runAction(cc.sequence(cc.delayTime(0),cc.callFunc(function(){e.onSpinClicked(null)}))),this.autoTime=0)),this.gameState==_.LHoModule.GAME_STATE.REQUESTING&&(this.requestTime+=t,this.requestTime>30&&(this.requestTime=0,this.updateUIAfterPlay(),this.spinMode=_.LHoModule.SPIN_MODE.NORMAL,this.fastSpinButton.node.active=!0,this.stopFastButton.node.active=!1,this.gameState=_.LHoModule.GAME_STATE.PREPARE))},e.prototype.updateLineDefault=function(){var t=p.LHoHandler.getInstance();t.accountInfo.totalLine=20,t.accountInfo.lineString="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20"},e.prototype.updateUIRequestPlay=function(){this.winEffect.targetValue=0,this.winBG.active=!1,this.fastSpinButton.interactable=!1,this.Autobtn.interactable=!1,this.btnSpin.interactable=!1,this.x2Button1.interactable=!1,this.chooseLineButton.interactable=!1,this.backButton.interactable=!1,this.moneyWinLabel.string="",this.hideAllLine()},e.prototype.enableAllButtons=function(){this.fastSpinButton.interactable=!0,this.Autobtn.interactable=!0,this.btnSpin.interactable=!0,this.chooseLineButton.interactable=!0,this.chooseLineButton.node.children[0].active=!0,this.backButton.interactable=!0},e.prototype.updateUIAfterPlay=function(){this.winBG.scale=1,this.spinMode!=_.LHoModule.SPIN_MODE.NORMAL||this.isFreeEnd()||this.enableAllButtons();var t=p.LHoHandler.getInstance();if(t.spinInfo.startX2>0&&t.spinInfo.totalPrize>0&&!t.isTryMode&&3!=t.accountInfo.gameStatus&&p.LHoHandler.getInstance().pre_vqmm<=0?this.x2Button1.interactable=!0:this.x2Button1.interactable=!1,t.isTryMode){if(this.chooseLineButton.interactable=!1,this.fastSpinButton.interactable=!1,t.spinInfo.jackpotWinner>0){var e=t.spinInfo.totalPrize-5e7+this.jackpotTrySpin;this.balanceTrySpin+=e,this.balanceLabel.string=s.Utility.getInstance().add_commas(this.balanceTrySpin),this.moneyWinLabel.string=s.Utility.getInstance().add_commas(e),this.jackpotTrySpin=5e7,this.jackpotLabel.money=this.jackpotTrySpin}else this.balanceTrySpin+=t.spinInfo.totalPrize,this.balanceLabel.string=s.Utility.getInstance().add_commas(this.balanceTrySpin),this.jackpotTrySpin+=this.totalBet/100,this.jackpotLabel.money=this.jackpotTrySpin;0!=c.default.getInstance().UserData.ratio_usd&&this.jackpotUsdLabel.runNumberPrefix(this.jackpotTrySpin/c.default.getInstance().UserData.ratio_usd,!0)}1==p.LHoHandler.getInstance().accountInfo.roomId&&this.checkFree_vqmm()},e.prototype.updateBalanceRequestPlay=function(){var t=p.LHoHandler.getInstance();if(t.isTryMode){t.demoInfo.balance-=this.totalBet;var e=t.demoInfo.balance;this.balanceLabel.string=s.Utility.getInstance().add_commas(e),t.demoInfo.jackpot+=this.totalBet/100,this.jackpotLabel.string=s.Utility.getInstance().add_commas(t.demoInfo.jackpot)}},e.prototype.updateBalanceAfterPlay=function(){if(0==p.LHoHandler.getInstance().isTryMode){var t=p.LHoHandler.getInstance().spinInfo.balance;c.default.getInstance().UserData.balance=t,this.balanceLabel.string=s.Utility.getInstance().add_commas(t)}},e.prototype.isEnoughMoney=function(){return!(c.default.getInstance().UserData.balance<this.totalBet&&!p.LHoHandler.getInstance().isTryMode&&p.LHoHandler.getInstance().free_vqmm<=0)},e.prototype.requesPlay=function(){if(this.spinId++,this.spinDone=!1,this.winParticle.node.active=!1,this.isWin_AftBonus=!1,this.isSpin=!0,this.isFreeNextTurn())return this.updateUIRequestPlay(),p.LHoHandler.getInstance().play(this.curRoomId),void(this.gameState=_.LHoModule.GAME_STATE.REQUESTING);this.isEnoughMoney()?(this.updateUIRequestPlay(),this.updateBalanceRequestPlay(),p.LHoHandler.getInstance().play(this.curRoomId),this.gameState=_.LHoModule.GAME_STATE.REQUESTING):(this.spinMode=_.LHoModule.SPIN_MODE.NORMAL,this.fastSpinButton.node.active=!0,this.showNotMoney(),this.stopFastButton.node.active=!1,this.enableAllButtons(),this.resetSpinTurn())},e.prototype.resetSpinTurn=function(){for(var t=0,e=this.listScrolls;t<e.length;t++){e[t].resetScroll()}this.gameState==_.LHoModule.GAME_STATE.HANDLE_RESULT&&(this.gameState=_.LHoModule.GAME_STATE.PREPARE)},e.prototype.showLineWin=function(){var t=this,e=p.LHoHandler.getInstance().spinInfo.listLineWin,n=function(n){var i=1.5*+n;o.spinMode!=_.LHoModule.SPIN_MODE.AUTO&&o.spinMode!=_.LHoModule.SPIN_MODE.FAST||(i=0);for(var a=e[+n]-1,c=o.listLine[a],s=cc.delayTime(i),r=o.lineItem[e[n]],l=0,u=o.nodeEffectItem.children;l<u.length;l++){u[l].active=!1}c.runAction(cc.sequence(s,cc.callFunc(function(){for(var e in c.opacity=255,r)t.nodeEffectItem.getChildByName(""+r[e]).active=!0}),cc.delayTime(1.5),cc.callFunc(function(){c.opacity=0;for(var e=0,n=t.nodeEffectItem.children;e<n.length;e++){n[e].active=!1}})))},o=this;for(var i in e)n(i)},e.prototype.hideAllLine=function(){for(var t=0,e=this.listLine;t<e.length;t++){var n=e[t];n.stopAllActions(),n.opacity=0}for(var o=0,i=this.nodeEffectItem.children;o<i.length;o++){i[o].active=!1}},e.prototype.caKCulatorSpecialResult=function(){var t=.7,e=p.LHoHandler.getInstance();if(p.LHoHandler.getInstance().accountInfo.eventBonus>0&&(t=2),e.spinInfo.jackpotWinner>0){this.onStopAutoSpinClicked(null),this.onStopFastSpinClicked(null),t=this.TIME_GOT_JACKPOT,this.winBG.active=!1;var n=void 0;3==this.curRoomId&&(n=p.LHoHandler.getInstance().isTryMode?cc.instantiate(this.jackpotFxTry):cc.instantiate(this.jackportFx)),2==this.curRoomId&&(n=cc.instantiate(this.jackportFx1K)),1==this.curRoomId&&(n=cc.instantiate(this.jackportFx100)),n.getComponent("LHoEffect").money=this.moneyWinFX,this.node.addChild(n)}else if(e.spinInfo.totalPrize>=(0==e.spinInfo.bet_value?100*e.accountInfo.totalLine*10:e.accountInfo.totalLine*e.spinInfo.bet_value*10)){t=this.TIME_GOT_BIGWIN,this.winBG.active=!1,(n=cc.instantiate(this.megaFx)).getComponent("LHoEffect").money=this.moneyWinFX,this.node.addChild(n),this.isSound&&cc.audioEngine.playEffect(this.megaWinAC,!1)}else if(e.spinInfo.totalPrize>=(0==e.spinInfo.bet_value?100*e.accountInfo.totalLine*5:e.accountInfo.totalLine*e.spinInfo.bet_value*5)){t=this.TIME_GOT_BIGWIN,this.winBG.active=!1,(n=cc.instantiate(this.bigwinFx)).getComponent("LHoEffect").money=this.moneyWinFX,this.node.addChild(n),this.isSound&&cc.audioEngine.playEffect(this.bigwinAC,!1)}return 0==e.spinInfo.totalPrize&&(t=this.TIME_GOT_SPIN_RESULT),this.moneyWinFX=0,t},e.prototype.handlerAfterSpinDone=function(){this.resetSpinTurn()},e.prototype.updateRoom=function(){this.x2Button1.interactable=!1;var t=p.LHoHandler.getInstance(),e=t.accountInfo.totalLine;t.isTryMode&&(e=t.demoInfo.totalLine),t.accountInfo.freeNumber>0&&(e=t.accountInfo.line),t.accountInfo.betValue=this.listRoomValue[this.curRoomId],this.totalBet=e*t.accountInfo.betValue,this.totalBetLabel.string=s.Utility.getInstance().add_commas(e*t.accountInfo.betValue),this.roomValueLabel.string=s.Utility.getInstance().add_commas(t.accountInfo.betValue),this.totalLineLabel.string=e.toString(),this.moneyWinLabel.string=""},e.prototype.updateWinFX=function(t){var e=this;if(0!=t){this.winBG.active=!0,this.moneyWinFX=t,this.winEffect.runNumber(t,!0,.8);var n=setTimeout(function(){e.moneyWinLabel.string=s.Utility.getInstance().add_commas(p.LHoHandler.getInstance().spinInfo.totalPrize),clearTimeout(n)},1e3);this.winParticle.resetSystem(),this.winParticle.node.active=!0,this.isSound&&cc.audioEngine.playEffect(this.moneyAC,!1)}},e.prototype.isFreeTurn=function(){return p.LHoHandler.getInstance().accountInfo.isFree},e.prototype.isFreeEnd=function(){return p.LHoHandler.getInstance().accountInfo.isFreeEnd},e.prototype.isFreeNextTurn=function(){var t=p.LHoHandler.getInstance().accountInfo.freeNumber;if(t>0){if(this.timeShowFree--,0==this.timeShowFree){this.isSound&&cc.audioEngine.playEffect(this.gotBonusFree,!1);var e=cc.instantiate(this.bonusFreeAnim);this.freebonusHolder.addChild(e);var n=setTimeout(function(){e.destroy(),e.removeFromParent(),clearTimeout(n)},1100)}return this.freeLabel.string=t+"",this.uiFree.active=!0,this.x2Button1.interactable=!1,!0}return this.timeShowFree=this.TIME_SHOW_FREE,this.uiFree.active=!1,!1},e.prototype.onUpdateGloabalBalance=function(t){0==p.LHoHandler.getInstance().isTryMode&&(this.balanceLabel.string=s.Utility.getInstance().add_commas(c.default.getInstance().UserData.balance))},e.prototype.onPushJackpot=function(t){t&&t[this.curRoomId-1]&&!p.LHoHandler.getInstance().isTryMode&&(this.jackpotLabel.money=t[this.curRoomId-1],0!=c.default.getInstance().UserData.ratio_usd&&this.jackpotUsdLabel.runNumberPrefix(t[this.curRoomId-1]/c.default.getInstance().UserData.ratio_usd,!0))},e.prototype.onPlayDone=function(){var t=p.LHoHandler.getInstance();this.gameState=_.LHoModule.GAME_STATE.HANDLE_RESULT,3==t.accountInfo.gameStatus?p.LHoHandler.getInstance().playBonus():this.executePlayDone()},e.prototype.executePlayDone=function(){var t=this,e=p.LHoHandler.getInstance();p.LHoHandler.getInstance().isTryMode&&p.LHoHandler.getInstance().spinInfo.jackpotWinner>0?this.updateWinFX(e.spinInfo.totalPrize-5e7+this.jackpotTrySpin):this.updateWinFX(e.spinInfo.totalPrize),this.showLineWin();var n=this.caKCulatorSpecialResult(),o=cc.delayTime(.5),i=cc.delayTime(n-.5);this.node.runAction(cc.sequence(o,cc.callFunc(function(){t.updateBalanceAfterPlay()}),i,cc.callFunc(function(){t.handlerAfterSpinDone(),t.autoTime=0,t.spinDone=!0,0==e.spinInfo.totalPrize&&(t.autoTime=t.TIME_DELAY_AUTO),t.updateUIAfterPlay()})))},e.prototype.onPushPlay=function(t){if(t){if(this.requestTime=0,this.gameState=_.LHoModule.GAME_STATE.SPINING,p.LHoHandler.getInstance().isTryMode||(this.lbSession.string="#"+p.LHoHandler.getInstance().spinInfo.spinId),p.LHoHandler.getInstance().spinInfo.totalPrize>0?this.TIME_DELAY_AUTO=1:this.TIME_DELAY_AUTO=.1,this.hideAllLine(),this.listScrolls)for(var e=0,n=this.listScrolls;e<n.length;e++){var o=n[e];this.spinMode==_.LHoModule.SPIN_MODE.FAST?o.setSpinFast(!0):o.setSpinFast(!1),o.startScroll(this.spinMode==_.LHoModule.SPIN_MODE.FAST?this.SPIN_FAST:this.SPIN_NORMAL)}if(p.LHoHandler.getInstance().isTryMode);else if(!(this.isFreeTurn()||p.LHoHandler.getInstance().free_vqmm>0&&1==this.curRoomId||p.LHoHandler.getInstance().pre_vqmm>0&&1==this.curRoomId)){c.default.getInstance().UserData.balance-=this.totalBet;var i=c.default.getInstance().UserData.balance;this.balanceLabel.string=s.Utility.getInstance().add_commas(i)}}else-104==p.LHoHandler.getInstance().spinInfo.execResult&&(this.showNotMoney(),this.enableAllButtons(),this.spinMode=_.LHoModule.SPIN_MODE.NORMAL),-102==p.LHoHandler.getInstance().spinInfo.execResult&&(this.showNoti("T\xe0i kho\u1ea3n b\u1ecb kh\xf3a"),this.spinMode=_.LHoModule.SPIN_MODE.NORMAL),-103==p.LHoHandler.getInstance().spinInfo.execResult?(this.showNoti("\u0110\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c ch\u01a1i game!"),this.spinMode=_.LHoModule.SPIN_MODE.NORMAL):(this.showNoti(this.language.system_busy),this.spinMode=_.LHoModule.SPIN_MODE.NORMAL)},e.prototype.showNoti=function(t){var e=this;this.gameState=_.LHoModule.GAME_STATE.PREPARE;var n=cc.instantiate(this.notiPrefab);n.getChildByName("content").getChildByName("status").getComponent(cc.Label).string=t,n.name="th_noti_popup",n.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){e.enableAllButtons();var t=cc.director.getScene().getChildByName("th_noti_popup");t&&t.destroy()})));var o=cc.winSize;n.setPosition(o.width/2,o.height/2),cc.director.getScene().addChild(n,l.GameConfigs.zOderGame.NOTI)},e.prototype.onPushPlayBonus=function(t){var e=this;if(t){this.gameState=_.LHoModule.GAME_STATE.PLAYBONUS,this.isSound&&cc.audioEngine.playEffect(this.gotBonusFree,!1);var n=cc.instantiate(this.BonusAnim);this.freebonusHolder.addChild(n);var o=setTimeout(function(){n.destroy(),n.removeFromParent(),e.bonusUI.active=!0,clearTimeout(o)},2e3)}},e.prototype.onCloseChooseLine=function(){this.updateRoom()},e.prototype.onPlayX2Done=function(){this.x2Button1.interactable=!1,this.normal.active=!0,this.x2UI.node.active=!1,this.gameState=_.LHoModule.GAME_STATE.PREPARE;var t=p.LHoHandler.getInstance().x2Info.balance;this.balanceLabel.string=s.Utility.getInstance().add_commas(t)},e.prototype.onPushSpin=function(t){this.isSpin&&(this.spinMode==_.LHoModule.SPIN_MODE.AUTO&&this.onAutoSpinClicked(null),this.spinMode==_.LHoModule.SPIN_MODE.FAST&&this.onFastSpinClicked(null))},e.prototype.onPlayBonusDone=function(){var t=this,e=p.LHoHandler.getInstance(),n=e.bonusInfo.bonusPrize,o=n+e.spinInfo.totalPrize;this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){t.bonusUI.runAction(cc.callFunc(function(){t.bonusUI.active=!1,t.content_all.active=!0,t.content_all.scaleX=1,t.content_all.runAction(cc.sequence(cc.scaleTo(.05,1,1),cc.callFunc(function(){t.showNoti("Ch\xfac m\u1eebng!B\u1ea1n th\u1eafng Bonus \n"+s.Utility.getInstance().numberToCurrency(n))})))}))}),cc.delayTime(0),cc.callFunc(function(){t.gameState=_.LHoModule.GAME_STATE.PREPARE,t.resetSpinTurn(),t.updateUIAfterPlay(),t.isWin_AftBonus=!0}))),this.moneyWinLabel.string=s.Utility.getInstance().numberToCurrency(o),c.default.getInstance().UserData.balance=p.LHoHandler.getInstance().bonusInfo.balance,this.balanceLabel.string=s.Utility.getInstance().numberToCurrency(c.default.getInstance().UserData.balance.toString())},e.prototype.onBackClicked=function(t){this.isFreeNextTurn()||this.gameState!=_.LHoModule.GAME_STATE.PREPARE||(this.isSound&&cc.audioEngine.playEffect(this.click,!1),cc.audioEngine.stopMusic(),cc.systemEvent.targetOff(this),p.LHoHandler.getInstance().clearCallback(),v.clientdev.SceneManager.Instance.LoadScene(l.GameConfigs.SceneName.LongHo,function(){}),cc.audioEngine.stopMusic())},e.prototype.onSpinClicked=function(t){p.LHoHandler.getInstance().isTryMode&&(p.LHoHandler.getInstance().parseSpin(g.default.listData[s.Utility.getInstance().randomInt(0,13)]),this.spinDone=!1,this.balanceTrySpin-=this.totalBet,this.balanceLabel.string=s.Utility.getInstance().add_commas(this.balanceTrySpin),this.updateUIRequestPlay(),this.isSound&&cc.audioEngine.playEffect(this.Audio_Spin,!1)),this.gameState==_.LHoModule.GAME_STATE.PREPARE&&(this.requesPlay(),this.isSound&&!this.isFreeNextTurn()&&this.isNormal&&cc.audioEngine.playEffect(this.Audio_Spin,!1))},e.prototype.onAutoSpinClicked=function(t){this.parseAccDone||0!=p.LHoHandler.getInstance().isTryMode?(p.LHoHandler.getInstance().isTryMode&&(this.spinMode=_.LHoModule.SPIN_MODE.AUTO,this.Autobtn.node.active=!1,p.LHoHandler.getInstance().parseSpin(g.default.listData[s.Utility.getInstance().randomInt(0,13)]),this.spinDone=!1,this.balanceTrySpin-=this.totalBet,this.balanceLabel.string=s.Utility.getInstance().add_commas(this.balanceTrySpin),this.updateUIRequestPlay(),this.isSound&&cc.audioEngine.playEffect(this.Audio_AutoSpin,!1)),this.gameState==_.LHoModule.GAME_STATE.PREPARE&&(this.spinMode=_.LHoModule.SPIN_MODE.AUTO,this.isEnoughMoney()&&(this.Autobtn.node.active=!1),this.isNormal=!1,this.requesPlay(),this.isSound&&cc.audioEngine.playEffect(this.Audio_AutoSpin,!1))):this.showNoti(this.language.system_busy)},e.prototype.onStopAutoSpinClicked=function(t){this.isSpin=!1,this.Autobtn.node.active=!0,this.spinMode=_.LHoModule.SPIN_MODE.NORMAL,this.isNormal=!0,this.spinDone&&this.enableAllButtons(),this.isSound&&cc.audioEngine.playEffect(this.click,!1)},e.prototype.onFastSpinClicked=function(t){this.parseAccDone?this.gameState==_.LHoModule.GAME_STATE.PREPARE&&(this.fastSpinButton.node.active=!1,this.stopFastButton.node.active=!0,this.isNormal=!1,this.spinMode=_.LHoModule.SPIN_MODE.FAST,this.requesPlay(),this.isSound&&cc.audioEngine.playEffect(this.Audio_Maxspeep,!1)):this.showNoti(this.language.system_busy)},e.prototype.onStopFastSpinClicked=function(t){this.isSpin=!1,this.fastSpinButton.node.active=!0,this.stopFastButton.node.active=!1,this.spinMode=_.LHoModule.SPIN_MODE.NORMAL,this.isNormal=!0,this.spinDone&&this.enableAllButtons(),this.isSound&&cc.audioEngine.playEffect(this.click,!1)},e.prototype.onX2Clicked=function(t){this.gameState==_.LHoModule.GAME_STATE.PREPARE&&(this.normal.active=!1,this.x2UI.node.active=!0,this.winParticle.node.active=!1,this.x2UI.resetTurn(),this.gameState=_.LHoModule.GAME_STATE.PLAYX2,this.isSound&&cc.audioEngine.playEffect(this.click,!1))},e.prototype.onChooseLineClicked=function(t){var e=cc.instantiate(this.chooseLinePrefab);e.getComponent(y.LHoChooseLineDialog).delegate=this,cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP),this.isSound&&cc.audioEngine.playEffect(this.click,!1)},e.prototype.onTopClicked=function(t){var e=cc.instantiate(this.topjackpotPrefab);cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP),this.isSound&&cc.audioEngine.playEffect(this.click,!1)},e.prototype.onRankClicked=function(t){var e=cc.instantiate(this.rankPrefab);cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP),this.isSound&&cc.audioEngine.playEffect(this.click,!1)},e.prototype.onHistoryClicked=function(t){var e=cc.instantiate(this.historyPrefab);cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP),this.isSound&&cc.audioEngine.playEffect(this.click,!1)},e.prototype.onHelpClicked=function(t){var e=cc.instantiate(this.helpPrefab);cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP),this.isSound&&cc.audioEngine.playEffect(this.click,!1)},e.prototype.onSoundClicked=function(t,e){p.LHoHandler.getInstance().isSound?(this.isSound=!1,p.LHoHandler.getInstance().isSound=!1,this.sound[0].active=!1,this.sound[1].active=!0,cc.audioEngine.stopAll()):(this.isSound=!0,p.LHoHandler.getInstance().isSound=!0,this.sound[0].active=!0,this.sound[1].active=!1,cc.audioEngine.playMusic(this.musicBackground,!0))},e.prototype.showNotMoney=function(){var t=cc.instantiate(this.notiPrefab2);t.getComponent(d.default).setContent(this.language.no_enough_balance),t.getComponent(d.default).showNotMoney(),cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},i([T(a.default)],e.prototype,"jackpotLabel",void 0),i([T(a.default)],e.prototype,"jackpotUsdLabel",void 0),i([T(cc.Label)],e.prototype,"balanceLabel",void 0),i([T(cc.Label)],e.prototype,"totalLineLabel",void 0),i([T(cc.Label)],e.prototype,"totalBetLabel",void 0),i([T(cc.Label)],e.prototype,"roomValueLabel",void 0),i([T(cc.Label)],e.prototype,"moneyWinLabel",void 0),i([T(cc.Node)],e.prototype,"winBG",void 0),i([T(a.default)],e.prototype,"winEffect",void 0),i([T(cc.Node)],e.prototype,"scrollerMasker",void 0),i([T(cc.Button)],e.prototype,"fastSpinButton",void 0),i([T(cc.Button)],e.prototype,"Autobtn",void 0),i([T(cc.Button)],e.prototype,"stopFastButton",void 0),i([T(cc.Button)],e.prototype,"x2Button1",void 0),i([T(cc.Button)],e.prototype,"chooseLineButton",void 0),i([T(cc.Button)],e.prototype,"backButton",void 0),i([T(cc.Node)],e.prototype,"background",void 0),i([T(cc.Node)],e.prototype,"liners",void 0),i([T(cc.Prefab)],e.prototype,"chooseLinePrefab",void 0),i([T(cc.Prefab)],e.prototype,"helpPrefab",void 0),i([T(cc.Prefab)],e.prototype,"topjackpotPrefab",void 0),i([T(cc.Prefab)],e.prototype,"rankPrefab",void 0),i([T(cc.Prefab)],e.prototype,"historyPrefab",void 0),i([T(m.LHoX2)],e.prototype,"x2UI",void 0),i([T(cc.Node)],e.prototype,"bonusUI",void 0),i([T(cc.Node)],e.prototype,"content_all",void 0),i([T(cc.Label)],e.prototype,"freeLabel",void 0),i([T(cc.Label)],e.prototype,"lbSession",void 0),i([T(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([T(cc.Prefab)],e.prototype,"notiPrefab2",void 0),i([T(cc.Prefab)],e.prototype,"BonusAnim",void 0),i([T(cc.Prefab)],e.prototype,"bonusFreeAnim",void 0),i([T(cc.Node)],e.prototype,"normal",void 0),i([T(cc.Button)],e.prototype,"btnSpin",void 0),i([T(cc.Node)],e.prototype,"freebonusHolder",void 0),i([T(cc.Node)],e.prototype,"uiFree",void 0),i([T(cc.ParticleSystem)],e.prototype,"winParticle",void 0),i([T(cc.Node)],e.prototype,"statusTrySpin",void 0),i([T(cc.Node)],e.prototype,"nodeEffectItem",void 0),i([T(cc.Prefab)],e.prototype,"jackpotFxTry",void 0),i([T(cc.Prefab)],e.prototype,"jackportFx",void 0),i([T(cc.Prefab)],e.prototype,"jackportFx1K",void 0),i([T(cc.Prefab)],e.prototype,"jackportFx100",void 0),i([T(cc.Prefab)],e.prototype,"bigwinFx",void 0),i([T(cc.Prefab)],e.prototype,"megaFx",void 0),i([T(cc.Node)],e.prototype,"free_vqmm",void 0),i([T(cc.AudioClip)],e.prototype,"musicBackground",void 0),i([T(cc.AudioClip)],e.prototype,"jackpotAC_Try",void 0),i([T(cc.AudioClip)],e.prototype,"jackpotAC_10k",void 0),i([T(cc.AudioClip)],e.prototype,"jackpotAC_1k",void 0),i([T(cc.AudioClip)],e.prototype,"jackpotAC_100",void 0),i([T(cc.AudioClip)],e.prototype,"bigwinAC",void 0),i([T(cc.AudioClip)],e.prototype,"megaWinAC",void 0),i([T(cc.AudioClip)],e.prototype,"click",void 0),i([T(cc.AudioClip)],e.prototype,"Audio_Spin",void 0),i([T(cc.AudioClip)],e.prototype,"Audio_AutoSpin",void 0),i([T(cc.AudioClip)],e.prototype,"Audio_Maxspeep",void 0),i([T(cc.AudioClip)],e.prototype,"moneyAC",void 0),i([T(cc.AudioClip)],e.prototype,"gotBonusFree",void 0),i([T(cc.Node)],e.prototype,"sound",void 0),i([T(cc.SpriteAtlas)],e.prototype,"heroAtlas",void 0),e=i([C],e)}(cc.Component);n.LHoController=I,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/WsHandler":"WsHandler","../../Common/UI/Notification":"Notification","../../Common/UI/NumberRun":"NumberRun","../../Common/Utilities/Utility":"Utility","../../scenemanager/scripts/SceneManager":"SceneManager","./LHoChooseLineDialog":"LHoChooseLineDialog","./LHoDataTryMode":"LHoDataTryMode","./LHoHandler":"LHoHandler","./LHoModule":"LHoModule","./LHoScroll":"LHoScroll","./LHoX2":"LHoX2"}],LHoDataTryMode:[function(t,e,n){"use strict";cc._RF.push(e,"c9160jVKUJEkJ7j6S7ANHQz","LHoDataTryMode");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.listData=[{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"5,7,6,7,7,3,6,7,6,6,6,6,4,6,6",prize_string:"1,6,200;3,6,1000;4,6,1000;5,6,200;6,7,600;7,6,1000;8,6,200;11,6,7500;15,6,1000;17,6,200",position_string:"7,9,10;11,12,14,15;7,3,9,10;7,9,10;2,8,4,5;11,12,14,15;12,3,14;11,7,3,9,15;11,7,9,15;12,14,10",bet_value:100,total_bet:2e5,total_prize:129e4,total_free:0,bonus_prize:0,balance:112329222,start_x2:12900,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"5,5,3,2,5,4,4,5,5,6,5,6,6,5,5",prize_string:"2,5,300;3,5,300;6,5,1500;7,5,1500;8,5,300;9,5,300;11,5,300;12,5,300;14,5,300;15,5,1500;16,5,1500;17,6,200;19,5,300;20,5,20000",position_string:"1,2,5;11,14,15;1,2,8,5;11,8,14,15;1,14,5;11,2,15;11,9,15;1,9,5;2,8,14;11,8,9,15;1,8,9,5;12,13,10;11,8,5;1,2,8,14,15",bet_value:100,total_bet:2e5,total_prize:286e4,total_free:0,bonus_prize:0,balance:112832922,start_x2:28600,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"5,5,5,5,6,5,6,1,2,5,4,4,1,5,6",prize_string:"2,5,1500;4,5,300;6,5,300;8,5,300;10,5,1500;13,5,300;14,5,1500;17,5,300;18,5,20000;20,5,300",position_string:"1,2,3,4;6,3,10;1,2,4;1,3,14;6,2,4,10;6,4,10;6,2,14,10;6,14,10;6,2,3,4,10;1,2,14",bet_value:100,total_bet:2e5,total_prize:263e4,total_free:0,bonus_prize:0,balance:112623422,start_x2:26300,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"5,6,5,6,5,7,7,6,1,5,4,5,3,5,5",prize_string:"2,5,300;3,5,300;6,6,200;7,5,300;8,5,20000;17,5,300;20,5,300",position_string:"1,3,5;12,14,15;2,8,4;12,14,15;1,12,3,14,5;12,14,10;1,14,15",bet_value:100,total_bet:2e5,total_prize:217e4,total_free:0,bonus_prize:0,balance:112944022,start_x2:21700,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:3,spin_id:28306,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"2,5,3,1,1,5,6,1,6,2,1,1,3,5,6",prize_string:"6,1,50000;7,1,50000;11,6,20000;13,1,50000;14,5,30000;15,6,20000;19,1,0",position_string:"8,4,5;11,12,8;7,9,15;12,8,4;6,2,14;7,9,15;11,12,8,4,5",bet_value:1e4,total_bet:2e5,total_prize:50222e3,total_free:0,bonus_prize:0,balance:250595347,start_x2:0,jackpot_count:1,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:3,spin_id:28408,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"1,4,2,3,1,5,1,6,1,5,2,3,1,5,6",prize_string:"5,1,50000;12,1,0;14,5,30000;16,1,300000;17,5,30000",position_string:"7,13,9;1,7,13,9,5;6,14,10;1,7,9,5;6,14,10",bet_value:1e4,total_bet:2e5,total_prize:50412e3,total_free:0,bonus_prize:0,balance:300807347,start_x2:0,jackpot_count:1,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"2,3,2,5,6,5,5,5,5,5,7,7,6,7,5",prize_string:"1,5,20000;4,5,1500;5,5,1500;10,5,300;11,5,300;13,5,1500;14,5,300;15,5,1500;16,5,300;18,5,300",position_string:"6,7,8,9,10;6,7,9,10;6,7,9,10;6,4,10;7,9,15;6,8,4,10;6,8,10;7,8,9,15;7,8,9;6,4,10",bet_value:100,total_bet:2e5,total_prize:275e4,total_free:0,bonus_prize:0,balance:112588622,start_x2:27500,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"2,3,2,5,5,6,6,6,6,6,7,7,6,7,5",prize_string:"1,6,7500;4,6,1000;5,6,7500;10,6,200;12,6,200;13,6,200;14,6,200;15,6,200;16,6,200;17,6,200",position_string:"6,7,8,9,10;6,7,9,10;6,7,13,9,10;6,13,10;7,13,9;6,8,10;6,8,10;7,8,9;7,8,9;6,13,10",bet_value:100,total_bet:2e5,total_prize:174e4,total_free:0,bonus_prize:0,balance:112448022,start_x2:17400,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"6,6,6,6,6,2,1,3,3,5,6,1,6,2,6",prize_string:"2,6,7500;3,6,200;6,6,1000;8,6,200;9,6,7500;10,6,200;11,6,200;12,6,200;18,6,200;19,6,200;20,6,200",position_string:"1,2,3,4,5;11,13,15;1,2,4,5;1,3,5;11,2,13,4,15;2,13,4;11,3,15;1,13,5;2,3,4;11,4,5;1,2,15",bet_value:100,total_bet:2e5,total_prize:176e4,total_free:0,bonus_prize:0,balance:113139522,start_x2:17600,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"6,6,6,6,6,4,4,4,4,1,6,6,6,6,5",prize_string:"1,4,2000;2,6,7500;3,6,1000;4,4,400;5,4,400;6,6,1000;7,6,200;8,6,7500;9,6,1000;10,6,200;12,6,200;15,4,400;16,4,400;17,6,200;18,6,200;19,6,1000;20,6,200",position_string:"6,7,8,9;1,2,3,4,5;11,12,13,14;6,7,9;6,7,9;1,2,4,5;11,12,14;1,12,3,14,5;11,2,13,4;2,13,4;1,13,5;7,8,9;7,8,9;12,13,14;2,3,4;11,12,4,5;1,2,14",bet_value:100,total_bet:2e5,total_prize:238e4,total_free:0,bonus_prize:0,balance:112972822,start_x2:23800,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"2,1,3,5,6,2,3,4,5,6,4,4,1,4,4",prize_string:"3,4,2000;7,4,50000;15,4,400;19,4,400;20,4,400",position_string:"11,12,14,15;11,12,8,14,15;11,8,15;11,12,8;8,14,15",bet_value:100,total_bet:2e5,total_prize:532e4,total_free:0,bonus_prize:0,balance:112542022,start_x2:53200,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"4,4,1,4,4,2,3,4,5,6,2,1,3,4,4",prize_string:"2,4,2000;6,4,50000;7,4,400;8,4,400;9,4,400;14,4,400;16,4,400;19,4,400;20,4,50000",position_string:"1,2,4,5;1,2,8,4,5;8,14,15;1,14,5;2,4,15;2,8,14;1,8,5;8,4,5;1,2,8,14,15",bet_value:100,total_bet:2e5,total_prize:1044e4,total_free:0,bonus_prize:0,balance:112347422,start_x2:104400,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"2,3,3,5,6,1,1,1,1,1,2,4,1,5,6",prize_string:"1,1,0;4,1,3000;5,1,0;10,1,500;12,1,500;13,1,500;14,1,500;15,1,500;16,1,500;17,1,500",position_string:"6,7,8,9,10;6,7,9,10;6,7,13,9,10;6,13,10;7,13,9;6,8,10;6,8,10;7,8,9;7,8,9;6,13,10",bet_value:100,total_bet:2e5,total_prize:100652e3,total_free:0,bonus_prize:0,balance:114045082,start_x2:0,jackpot_count:2,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"4,1,1,5,4,4,4,4,4,4,7,6,6,7,5",prize_string:"1,4,50000;4,4,2000;5,4,2000;6,4,400;12,4,2000;13,4,400;14,4,400;15,4,400;16,4,50000",position_string:"6,7,8,9,10;6,7,9,10;6,7,9,10;1,8,5;1,7,9,5;6,8,10;6,8,10;7,8,9;1,7,8,9,5",bet_value:100,total_bet:2e5,total_prize:1076e4,total_free:0,bonus_prize:0,balance:114102082,start_x2:107600,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0}],e=i([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],LHoEffect:[function(t,e,n){"use strict";cc._RF.push(e,"93022fgWGxNvIcuCDtMIHtp","LHoEffect");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moneyRun=null,e.money=0,e}return o(e,t),e.prototype.onLoad=function(){this.moneyRun.runNumber(this.money,!0)},i([r(a.default)],e.prototype,"moneyRun",void 0),e=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../Common/UI/NumberRun":"NumberRun"}],LHoHandler:[function(t,e,n){"use strict";cc._RF.push(e,"d231btagGxJq7NdTPCXjtsM","LHoHandler");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Common/Utilities/Utility"),a=t("../../Common/Network/WsHandler"),c=t("../../Common/Data/GameConfigs"),s=t("../../Common/Data/GameData"),r=t("./LHoModule"),l=cc._decorator,u=l.ccclass,p=(l.property,function(){function t(){this.onPushPlay=function(t){},this.onPushAccountInfo=function(t){},this.onPushAccountInfoDemo=function(t){},this.onPushJoinRoom=function(t){},this.onPushPlayX2=function(t){},this.onPushPlayBonus=function(t){},this.onPushFinishX2=function(t){},this.onPushFinishBonus=function(t){},this.onPushTopJackpot=function(t){},this.onPushRank=function(t){},this.onPushHistory=function(t){},this.onPushJackpot=function(t){},this.onPushSpin=function(t){},this.accountInfo=new r.LHoModule.AccountInfo,this.spinInfo=new r.LHoModule.SpinInfo,this.x2Info=new r.LHoModule.X2Info,this.demoInfo=new r.LHoModule.DemoInfo,this.bonusInfo=new r.LHoModule.BonusInfo,this.isTryMode=!1,this.listJackpot=[],this.listHonor=[],this.listHistory=[],this.listJackpotHistory=[],this.listBonus=[],this.parseAccDone=!1,this.isSound=!0,this.preFree_vqmm=0,this.free_vqmm=0,this.pre_vqmm=0}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e,this.Instance.init()),this.Instance},t.prototype.init=function(){cc.systemEvent.on(c.GameConfigs.WSGameName.LongHo,this.parseDataGame.bind(this),this)},t.prototype.parseDataGame=function(t){try{var e=null,n=null;if(cc.log("[Server -> Client]  "+t),null!=t&&t.hasOwnProperty("data")&&(e=t.cmd,n=t.data),null!=n&&null!=e){if("INFO"==e&&this.parseAccountInfo(n),"JACKPOT"==e&&n){var o=n.split(",");this.onPushJackpot(o)}"PLAY_SPIN"==e&&this.parseSpin(n),"PLAY_X2"==e&&this.parsePlayX2(n),"FINISH_X2"==e&&this.onPushFinishX2(!0),"PLAY_BONUS"==e&&this.parsePlayBonus(n),"FINISH_BONUS"==e&&this.parseFinishBonus(n),"GET_TOP_WIN"==e&&this.parseHonor(n),"GET_HISTORY"==e&&this.parseHistory(n),"GET_TOP_JACKPOT"==e&&this.parseTopJackpot(n)}}catch(t){}},t.prototype.clearCallback=function(){this.onPushPlay=function(t){},this.onPushAccountInfo=function(t){},this.onPushAccountInfoDemo=function(t){},this.onPushJoinRoom=function(t){},this.onPushPlayX2=function(t){},this.onPushFinishX2=function(t){},this.onPushFinishBonus=function(t){},this.onPushTopJackpot=function(t){},this.onPushRank=function(t){},this.onPushHistory=function(t){},this.onPushJackpot=function(t){}},t.prototype.connect=function(){a.WsHandler.getInstance().joinGame(c.GameConfigs.WSGameName.LongHo)},t.prototype.close=function(){a.WsHandler.getInstance().leaveGame(c.GameConfigs.WSGameName.LongHo)},t.prototype.play=function(t){var e='{"room_id":'+t+',"line_string":"'+this.accountInfo.lineString+'"}';this.callWS("PLAY_SPIN",e)},t.prototype.playX2=function(){this.callWS("PLAY_X2","0")},t.prototype.playBonus=function(){this.callWS("PLAY_BONUS","0")},t.prototype.finishBonus=function(){this.callWS("FINISH_BONUS","0")},t.prototype.finishX2=function(){this.callWS("FINISH_X2","0")},t.prototype.getTopJackpot=function(){this.callWS("GET_TOP_JACKPOT","0")},t.prototype.getRank=function(){this.callWS("GET_TOP_WIN","0")},t.prototype.getHistory=function(){this.callWS("GET_HISTORY","0")},t.prototype.callWS=function(t,e){var n='{"cmd":"'+t+'","data":'+e+"}";a.WsHandler.getInstance().playGame(c.GameConfigs.WSGameName.LongHo,n)},t.prototype.parseAccountInfo=function(t){void 0!=t&&null!=t?(this.parseAccDone=!0,this.accountInfo.gameStatus=t.game_status,this.accountInfo.roomId=t.room_id,this.accountInfo.isFree=t.total_free>0,this.free_vqmm=t.free_vqmm,this.isTryMode=0==this.accountInfo.roomId,this.accountInfo.line=t.line_string.split(",").length,this.accountInfo.freeNumber=t.total_free,2==this.accountInfo.gameStatus&&(cc.log("KIM CUONG: Finish X2"),this.finishX2()),3==this.accountInfo.gameStatus&&(cc.log("KIM CUONG: Start Play Bonus"),this.finishBonus()),this.onPushAccountInfo(!0)):this.onPushAccountInfo(!1)},t.prototype.parseSpin=function(t){if(this.spinInfo.execResult=t.exec,this.spinInfo.execResult<0)return cc.log("KIM CUONG PushPlay Failed"),void this.onPushPlay(!1);if(this.spinInfo.slotData=[[]],this.spinInfo.listPrizeWin=[],this.spinInfo.listLineWin=[],this.spinInfo.listItemInLineWin=[[]],this.listBonus=[],this.pre_vqmm=this.preFree_vqmm,this.spinInfo.spinId=t.spin_id,this.spinInfo.lineString=t.line_string,this.spinInfo.totolBet=t.total_bet,this.spinInfo.totalPrize=t.total_prize,this.spinInfo.jackpotWinner=t.jackpot_count,this.x2Info.startBet=t.start_x2,this.spinInfo.balance=t.balance,this.spinInfo.bonusPrize=t.bonus_prize,this.spinInfo.startX2=t.start_x2,this.spinInfo.bet_value=t.bet_value,this.accountInfo.isFree=this.accountInfo.prevFreeNumber>0,this.accountInfo.isFreeEnd=t.total_free>0,this.accountInfo.prevFreeNumber=t.total_free,this.accountInfo.freeNumber=t.total_free,this.accountInfo.eventRank=t.current_rank,this.accountInfo.eventPoint=t.max_count,this.accountInfo.eventBonus=t.is_x2_count,this.accountInfo.gameStatus=t.game_status,this.isTryMode&&(this.demoInfo.balance+=t.totalPrizeValue+t.jackpot-t.totalBetValue,this.demoInfo.jackpot=t.jackpotFund),t.slot_string){for(var e=0;e<5;e++){this.spinInfo.slotData.push([])}var n=t.slot_string.split(",");for(var o in n)this.spinInfo.slotData[+o%5].push(n[+o])}if(t.position_string)for(var i=0,a=n=t.position_string.split(";");i<a.length;i++){var c=a[i].split(",");this.spinInfo.listItemInLineWin.push(c)}if(t.prize_string)for(var s=0,r=n=t.prize_string.split(";");s<r.length;s++){c=r[s].split(",");this.spinInfo.listPrizeWin.push(c[c.length-1]),this.spinInfo.listLineWin.push(c[0])}this.preFree_vqmm=t.free_vqmm,this.free_vqmm=this.preFree_vqmm,this.onPushPlay(!0)},t.prototype.parsePlayX2=function(t){if(t.exec_result<0)return cc.log("KIM CUONG Push Play X2 Failed"),void this.finishX2();this.x2Info.step=t.step,this.x2Info.startBet=t.bet_value,this.x2Info.winValue=t.win_prize,this.x2Info.balance=t.balance,t.balance>0&&(s.default.getInstance().UserData.balance=t.balance),this.onPushPlayX2(!0)},t.prototype.parsePlayBonus=function(t){if(t.exec<0)return cc.log("KIM CUONG Push Play Bonus Failed"),void this.finishBonus();this.bonusInfo.listStep=[],this.bonusInfo.listPrize=[],this.bonusInfo.totalStep=t.total_step,this.bonusInfo.bonusPrize=t.bonus_prize;for(var e=t.bonus_string.split(";"),n=e.length,o=0;o<n;o++){var i=e[o].split(",");this.bonusInfo.listStep.push(i[0]),this.bonusInfo.listPrize.push(i[3])}this.bonusInfo.status=t.status,this.bonusInfo.exec=t.exec,cc.log("KIM CUONG PushPlayBonus Successfull"),this.onPushPlayBonus(!0)},t.prototype.parseFinishBonus=function(t){this.isTryMode?this.demoInfo.balance+=t.bonusPrizeValue:this.bonusInfo.balance=t.balance,this.onPushFinishBonus(!0)},t.prototype.parseTopJackpot=function(t){this.listJackpotHistory=[];for(var e=0;e<t.length;e++){var n="";1==t[e].room_id&&(n="L\xe2n"),2==t[e].room_id&&(n="Quy"),3==t[e].room_id&&(n="Ph\u1ee5ng");var o={time:t[e].create_time,room:n,userName:t[e].nick_name,winValue:i.Utility.getInstance().numberToCurrency(t[e].jackpot_prize)};this.listJackpotHistory.push(o)}this.onPushTopJackpot(!0)},t.prototype.parseHonor=function(t){this.listHonor=[];for(var e=0;e<t.length;e++){var n="";1==t[e].room_id&&(n="L\xe2n"),2==t[e].room_id&&(n="Quy"),3==t[e].room_id&&(n="Ph\u1ee5ng");var o={rank:e+1,time:t[e].create_time,userName:t[e].nick_name,roomid:n,isjackpot:t[e].is_jackpot,winValue:i.Utility.getInstance().numberToCurrency(t[e].win_prize)};this.listHonor.push(o)}this.onPushRank(!0)},t.prototype.parseHistory=function(t){this.listHistory=[];for(var e=0;e<t.length;e++){var n={session:t[e].spin_id,time:t[e].create_time,room:this.parseRoomID(t[e].bet_value),totalBet:i.Utility.getInstance().numberToCurrency(t[e].total_bet),winValue:i.Utility.getInstance().numberToCurrency(t[e].total_prize)};this.listHistory.push(n)}this.onPushHistory(!0)},t.prototype.parseRoomID=function(t){switch(parseInt(t)){case 100:return"L\xe2n";case 1e3:return"Quy";case 1e4:return"Ph\u1ee5ng"}},t.Instance=null,t=e=o([u],t)}());n.LHoHandler=p,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Network/WsHandler":"WsHandler","../../Common/Utilities/Utility":"Utility","./LHoModule":"LHoModule"}],LHoHelp:[function(t,e,n){"use strict";cc._RF.push(e,"4382d9VI0ZF8pSpdqfwAYzo","LHoHelp");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Data/GameConfigs"),s=t("./LHoHandler"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSpr=[],e.jackpotLabel=null,e.popupEffect=null,e.click=null,e.isSound=!0,e.callback=null,e.curRoomId=1,e}return o(e,t),e.prototype.start=function(){this.isSound=s.LHoHandler.getInstance().isSound,this.curRoomId=s.LHoHandler.getInstance().accountInfo.roomId,cc.systemEvent.on(c.GameConfigs.JPName.LongHo,this.onPushJackpot.bind(this),this);var t=s.LHoHandler.getInstance().accountInfo.roomId;0==t&&(t=4),this.listSpr[t-1].active=!0},e.prototype.onPushJackpot=function(t){t&&t[this.curRoomId-1]&&(this.jackpotLabel.money=t[this.curRoomId-1])},e.prototype.closePopup=function(){var t=this;this.isSound&&cc.audioEngine.playEffect(this.click,!1),this.popupEffect?this.popupEffect.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy(),cc.removeSelf(!1)}))):this.node.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy()}))),this.callback&&this.callback()},i([u([cc.Node])],e.prototype,"listSpr",void 0),i([u(a.default)],e.prototype,"jackpotLabel",void 0),i([u(cc.Node)],e.prototype,"popupEffect",void 0),i([u(cc.AudioClip)],e.prototype,"click",void 0),e=i([l],e)}(cc.Component);n.LHoHelp=p,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/UI/NumberRun":"NumberRun","./LHoHandler":"LHoHandler"}],LHoHistory:[function(t,e,n){"use strict";cc._RF.push(e,"4f5b7eBJf5KK7zK95qA32Qz","LHoHistory");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./LHoHandler"),c=t("../../Lobby/Scripts/LoadingManager"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.contentSC=null,e.click=null,e.popupEffect=null,e.isSound=!0,e.callback=null,e}return o(e,t),e.prototype.start=function(){c.default.getInstance().show(),this.isSound=a.LHoHandler.getInstance().isSound,a.LHoHandler.getInstance().onPushHistory=this.onPushHistory.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.LHoHandler.getInstance().getHistory()})))},e.prototype.onDestroy=function(){cc.log("ThanTaiRank Destroyed")},e.prototype.onPushHistory=function(t){var e=43;a.LHoHandler.getInstance().listHistory.length<e&&(e=a.LHoHandler.getInstance().listHistory.length),this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);this.contentScroll.addChild(o),o.getChildByName("layout").active=n%2!=0,this.updateCell(o,a.LHoHandler.getInstance().listHistory[n],n)}this.contentSC.scrollToTop(),c.default.getInstance().hide()},e.prototype.updateCell=function(t,e,n){t.getChildByName("Session").getComponent(cc.Label).string=e.session,t.getChildByName("Time").getComponent(cc.Label).string=e.time,t.getChildByName("Room").getComponent(cc.Label).string=e.room,t.getChildByName("BetValue").getComponent(cc.Label).string=e.totalBet,t.getChildByName("Detail").getComponent(cc.Label).string=e.winValue},e.prototype.oncLickClose=function(t){this.node.destroy()},e.prototype.closePopup=function(){var t=this;this.isSound&&cc.audioEngine.playEffect(this.click,!1),this.popupEffect?this.popupEffect.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy(),cc.removeSelf(!1)}))):this.node.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy()}))),this.callback&&this.callback()},i([l(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([l(cc.Node)],e.prototype,"contentScroll",void 0),i([l(cc.ScrollView)],e.prototype,"contentSC",void 0),i([l(cc.AudioClip)],e.prototype,"click",void 0),i([l(cc.Node)],e.prototype,"popupEffect",void 0),e=i([r],e)}(cc.Component);n.LHoHistory=u,cc._RF.pop()},{"../../Lobby/Scripts/LoadingManager":"LoadingManager","./LHoHandler":"LHoHandler"}],LHoItem:[function(t,e,n){"use strict";cc._RF.push(e,"c23e1lKL3dG+a+TXJ5vkV6S","LHoItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./LHoHandler"),c=cc._decorator,s=c.ccclass,r=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.start=function(){},e.prototype.updateSkin=function(t){for(var e=0,n=0,o=this.node.children;n<o.length;n++){var i=o[n];if(0==e||1==e||2==e){for(var c=0;c<4;c++)i.getChildByName(c+"").active=!1;var s=a.LHoHandler.getInstance().accountInfo.roomId;0==s&&(s=0),i.getChildByName(s+"").active=!0}else{i.getComponent(cc.Sprite).spriteFrame=t[e]}e++}},e.prototype.updateItemById=function(t){for(var e in this.node.children)this.node.children[e].active=e==t},e=i([s],e)}(cc.Component));n.LHoItem=r,cc._RF.pop()},{"./LHoHandler":"LHoHandler"}],LHoModule:[function(t,e,n){"use strict";cc._RF.push(e,"31f00dBbXlE/7CkQGCAJ6D8","LHoModule"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){(function(t){t[t.PREPARE=0]="PREPARE",t[t.PLAYING_EFFECT=1]="PLAYING_EFFECT",t[t.STOP=2]="STOP"})(t.SCROLL_STATE||(t.SCROLL_STATE={})),function(t){t[t.PREPARE=0]="PREPARE",t[t.REQUESTING=1]="REQUESTING",t[t.PLAYX2=2]="PLAYX2",t[t.PLAYBONUS=3]="PLAYBONUS",t[t.SPINING=4]="SPINING",t[t.HANDLE_RESULT=5]="HANDLE_RESULT"}(t.GAME_STATE||(t.GAME_STATE={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.AUTO=1]="AUTO",t[t.FAST=2]="FAST"}(t.SPIN_MODE||(t.SPIN_MODE={}));var e=function(){return function(){}}();t.SpinInfo=e;var n=function(){return function(){this.line=20,this.gameStatus=0,this.roomId=1,this.betValue=100,this.totalLine=20,this.lineString="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",this.isFree=!1,this.isFreeEnd=!1,this.freeNumber=0,this.prevFreeNumber=0,this.hasFree=!1,this.eventRank=0,this.eventPoint=0,this.eventBonus=0}}();t.AccountInfo=n;var o=function(){return function(){}}();t.X2Info=o;var i=function(){return function(){this.count=0,this.totalStep=0,this.listPrize=[100,300,400],this.listStep=[1,2,3],this.bonusPrize=0,this.status=0,this.exec=0,this.balance=0}}();t.BonusInfo=i;var a=function(){return function(){this.balance=5e7,this.jackpot=5e7,this.totalLine=20,this.lineString="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20"}}();t.DemoInfo=a}(n.LHoModule||(n.LHoModule={})),cc._RF.pop()},{}],LHoRank:[function(t,e,n){"use strict";cc._RF.push(e,"ef43fYV0gxDbaJt01YkrMFT","LHoRank");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/LabelHelperConfigs"),c=t("../../Common/Data/GameData"),s=t("./LHoHandler"),r=t("../../Lobby/Scripts/LoadingManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.contentSC=null,e.popupEffect=null,e.click=null,e.isSound=!0,e.callback=null,e}return o(e,t),e.prototype.start=function(){r.default.getInstance().show(),this.isSound=s.LHoHandler.getInstance().isSound,s.LHoHandler.getInstance().onPushRank=this.onPushRank.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){s.LHoHandler.getInstance().getRank()})))},e.prototype.onDestroy=function(){cc.log("ThanTaiRank Destroyed")},e.prototype.onPushRank=function(t){var e=43;s.LHoHandler.getInstance().listHonor.length<e&&(e=s.LHoHandler.getInstance().listHonor.length),this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);this.contentScroll.addChild(o),o.getChildByName("layout").active=n%2!=0,this.updateCell(o,s.LHoHandler.getInstance().listHonor[n],n)}this.contentSC.scrollToTop(),r.default.getInstance().hide()},e.prototype.updateCell=function(t,e,n){var o=a.TextData[c.default.getInstance().UserData.textPackage];t.getChildByName("Time").getComponent(cc.Label).string=e.time,t.getChildByName("UserName").getComponent(cc.Label).string=e.userName,t.getChildByName("Room").getComponent(cc.Label).string=e.roomid,t.getChildByName("Win").getComponent(cc.Label).string=e.winValue,t.getChildByName("Detail").getComponent(cc.Label).string=0==e.isjackpot?o.bigwin:o.jackpot},e.prototype.oncLickClose=function(t){this.node.destroy()},e.prototype.closePopup=function(){var t=this;this.isSound&&cc.audioEngine.playEffect(this.click,!1),this.popupEffect?this.popupEffect.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy(),cc.removeSelf(!1)}))):this.node.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy()}))),this.callback&&this.callback()},i([p(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([p(cc.Node)],e.prototype,"contentScroll",void 0),i([p(cc.ScrollView)],e.prototype,"contentSC",void 0),i([p(cc.Node)],e.prototype,"popupEffect",void 0),i([p(cc.AudioClip)],e.prototype,"click",void 0),e=i([u],e)}(cc.Component);n.THRank=d,cc._RF.pop()},{"../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Lobby/Scripts/LoadingManager":"LoadingManager","./LHoHandler":"LHoHandler"}],LHoRoomItem:[function(t,e,n){"use strict";cc._RF.push(e,"01796/PwW5NDJ6syk6SHnGm","LHoRoomItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roomID=0,e.jackpotLabel=null,e.roomClickCallback=function(t){},e}return o(e,t),e.prototype.updateJackpot=function(t){this.jackpotLabel.money=t},e.prototype.onClicked=function(t){cc.log(this.roomID),this.roomClickCallback(this.roomID)},i([r()],e.prototype,"roomID",void 0),i([r(a.default)],e.prototype,"jackpotLabel",void 0),e=i([s],e)}(cc.Component);n.LHoRoomItem=l,cc._RF.pop()},{"../../Common/UI/NumberRun":"NumberRun"}],LHoRoom:[function(t,e,n){"use strict";cc._RF.push(e,"f6a9bxBcAlL1bZZDghaH8LQ","LHoRoom");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameConfigs"),c=t("../../Common/UI/NumberRun"),s=t("../../Common/Data/GameData"),r=t("../../Common/Network/WsHandler"),l=t("./LHoHandler"),u=t("../../scenemanager/scripts/SceneManager"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listJP=[],e.listJP_USDT=[],e.click=null,e.musicBackground=null,e}return o(e,t),e.prototype.start=function(){cc.audioEngine.playMusic(this.musicBackground,!0),l.LHoHandler.getInstance().parseAccDone||l.LHoHandler.getInstance().connect(),cc.systemEvent.on(a.GameConfigs.JPName.LongHo,this.onPushJackpot.bind(this),this);for(var t=0,e=r.WsHandler.getInstance().listJPAll;t<e.length;t++){var n=e[t];if(n.name==a.GameConfigs.JPName.LongHo)return void this.onPushJackpot(n.value.split(","))}},e.prototype.onPushJackpot=function(t){if(t)for(var e=0;e<3;e++)this.listJP[e].runNumber(t[e],!0),0!=s.default.getInstance().UserData.ratio_usd&&this.listJP_USDT[e].runNumberPrefix(t[e]/s.default.getInstance().UserData.ratio_usd,!0)},e.prototype.onBtnRoom=function(t,e){cc.audioEngine.stopMusic(),s.default.getInstance().UserData.isSoundEnabled&&cc.audioEngine.playMusic(this.click,!1);var n=l.LHoHandler.getInstance().accountInfo;0==n.freeNumber&&0==l.LHoHandler.getInstance().free_vqmm&&(n.roomId=parseInt(e)),0==n.freeNumber&&l.LHoHandler.getInstance().free_vqmm>0&&(n.roomId=1),l.LHoHandler.getInstance().isTryMode=0==n.roomId,u.clientdev.SceneManager.Instance.LoadScene(a.GameConfigs.SceneName.LongHo_Room,function(){})},e.prototype.onBackClicked=function(t){l.LHoHandler.getInstance().close(),l.LHoHandler.getInstance().parseAccDone=!1,u.clientdev.SceneManager.Instance.LoadScene(a.GameConfigs.SceneName.Lobby,function(){})},i([h(c.default)],e.prototype,"listJP",void 0),i([h(c.default)],e.prototype,"listJP_USDT",void 0),i([h(cc.AudioClip)],e.prototype,"click",void 0),i([h(cc.AudioClip)],e.prototype,"musicBackground",void 0),e=i([d],e)}(cc.Component);n.LHoRoom=f,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Network/WsHandler":"WsHandler","../../Common/UI/NumberRun":"NumberRun","../../scenemanager/scripts/SceneManager":"SceneManager","./LHoHandler":"LHoHandler"}],LHoScroll:[function(t,e,n){"use strict";cc._RF.push(e,"eebdaaHDpVIJY4CfwBdMgWe","LHoScroll");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./LHoHandler"),c=t("./LHoItem"),s=t("./LHoModule"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effect=null,e.result=null,e.scrollAC=null,e.scroll_fast=null,e.scrollId=0,e.frame=[],e.state=s.LHoModule.SCROLL_STATE.PREPARE,e.listItems=[],e.startDelay=0,e.delegate=null,e.is_fast=!1,e}return o(e,t),e.prototype.start=function(){this.startDelay=.3*this.scrollId;var t=a.LHoHandler.getInstance().accountInfo.roomId-1;for(var e in-1==t&&(t=2),this.effect.node.getComponent(cc.Sprite).spriteFrame=this.frame[t],this.effect.node.active=!1,this.result.children){var n=this.result.children[e].getComponent(c.LHoItem);this.listItems.push(n)}},e.prototype.setSpinFast=function(t){this.startDelay=t?.15:.3*this.scrollId,this.is_fast=t},e.prototype.updateFx=function(t){this.effect.node.getComponent(cc.Sprite).spriteFrame=t},e.prototype.updateSkin=function(t){for(var e in this.result.children){this.result.children[e].getComponent(c.LHoItem).updateSkin(t)}},e.prototype.startScroll=function(t){var e=this,n=setTimeout(function(){e.state!=s.LHoModule.SCROLL_STATE.PREPARE&&(e.resetScroll(),void 0!=e.delegate&&e.delegate.onPlayDone()),clearTimeout(n)},5e3);if(this.state==s.LHoModule.SCROLL_STATE.PREPARE){this.state=s.LHoModule.SCROLL_STATE.PLAYING_EFFECT;var o=null;this.node.runAction(cc.sequence(cc.delayTime(this.startDelay),cc.callFunc(function(){e.result.getComponent(cc.Animation).play("updown"),a.LHoHandler.getInstance().isSound&&(o=e.is_fast?cc.audioEngine.playEffect(e.scroll_fast,!1):cc.audioEngine.playEffect(e.scrollAC,!1))}),cc.delayTime(.11),cc.callFunc(function(){e.result.active=!1,e.effect.node.active=!0,e.effect.play("scrolleffect"),e.updateResult()}),cc.delayTime(t),cc.callFunc(function(){e.effect.node.active=!1,e.result.active=!0,e.effect.stop("snscroll"),e.result.getComponent(cc.Animation).play("downup"),o&&(e.is_fast?e.node.runAction(cc.sequence(cc.delayTime(.3),cc.callFunc(function(){return cc.audioEngine.stopEffect(o)}))):cc.audioEngine.stopEffect(o))}),cc.delayTime(.11),cc.callFunc(function(){e.resetScroll(),clearTimeout(n),4==e.scrollId&&void 0!=e.delegate&&(cc.log("PLAYY DONEE 2"),e.delegate.onPlayDone())})))}},e.prototype.updateResult=function(){var t=a.LHoHandler.getInstance().spinInfo.slotData[this.scrollId];for(var e in this.listItems)this.listItems[+e].updateItemById(t[+e]-1)},e.prototype.resetScroll=function(){this.node.stopAllActions(),this.result.active=!0,this.effect.node.active=!1,this.state=s.LHoModule.SCROLL_STATE.PREPARE},i([u(cc.Animation)],e.prototype,"effect",void 0),i([u(cc.Node)],e.prototype,"result",void 0),i([u(cc.AudioClip)],e.prototype,"scrollAC",void 0),i([u(cc.AudioClip)],e.prototype,"scroll_fast",void 0),i([u],e.prototype,"scrollId",void 0),i([u(cc.SpriteFrame)],e.prototype,"frame",void 0),e=i([l],e)}(cc.Component);n.LHoScroll=p,cc._RF.pop()},{"./LHoHandler":"LHoHandler","./LHoItem":"LHoItem","./LHoModule":"LHoModule"}],LHoTop:[function(t,e,n){"use strict";cc._RF.push(e,"a5de3CL4yhOe5KiU1sNP68m","LHoTop");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./LHoHandler"),c=t("../../Lobby/Scripts/LoadingManager"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.contentSC=null,e.popupEffect=null,e.click=null,e.isSound=!0,e.callback=null,e}return o(e,t),e.prototype.start=function(){c.default.getInstance().show(),this.isSound=a.LHoHandler.getInstance().isSound,a.LHoHandler.getInstance().onPushTopJackpot=this.onPushTopJackpot.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.LHoHandler.getInstance().getTopJackpot()})))},e.prototype.onDestroy=function(){cc.log("LC Top Destroyed")},e.prototype.onPushTopJackpot=function(t){var e=43;a.LHoHandler.getInstance().listJackpotHistory.length<e&&(e=a.LHoHandler.getInstance().listJackpotHistory.length),this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);this.contentScroll.addChild(o),o.getChildByName("layout").active=n%2!=0,this.updateCell(o,a.LHoHandler.getInstance().listJackpotHistory[n])}this.contentSC.scrollToTop(),c.default.getInstance().hide()},e.prototype.updateCell=function(t,e){t.getChildByName("Time").getComponent(cc.Label).string=e.time,t.getChildByName("UserName").getComponent(cc.Label).string=e.userName,t.getChildByName("Room").getComponent(cc.Label).string=e.room,t.getChildByName("WinValue").getComponent(cc.Label).string=e.winValue},e.prototype.oncLickClose=function(t){this.node.destroy()},e.prototype.closePopup=function(){var t=this;this.isSound&&cc.audioEngine.playEffect(this.click,!1),this.popupEffect?this.popupEffect.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy(),cc.removeSelf(!1)}))):this.node.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy()}))),this.callback&&this.callback()},i([l(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([l(cc.Node)],e.prototype,"contentScroll",void 0),i([l(cc.ScrollView)],e.prototype,"contentSC",void 0),i([l(cc.Node)],e.prototype,"popupEffect",void 0),i([l(cc.AudioClip)],e.prototype,"click",void 0),e=i([r],e)}(cc.Component);n.LHoTop=u,cc._RF.pop()},{"../../Lobby/Scripts/LoadingManager":"LoadingManager","./LHoHandler":"LHoHandler"}],LHoX2:[function(t,e,n){"use strict";cc._RF.push(e,"d5dedNXvVtOMrQ6HByGZ9u0","LHoX2");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utilities/Utility"),c=t("../../Common/Data/LabelHelperConfigs"),s=t("../../Common/Data/GameData"),r=t("../../Common/Data/Constants"),l=t("../../Common/Data/GameConfigs"),u=t("./LHoHandler"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStop=null,e.btnCont=null,e.lbWinValue=null,e.lbX2=null,e.nodeLeft=null,e.nodeRight=null,e.notiPrefab=null,e.click=null,e.clickCard=null,e.NotiLb=null,e.soundWin=null,e.soundLose=null,e.Audio_bgGame=null,e.Audio_bgX2=null,e.winBg=null,e.moneyWinLabel=null,e.ListBG=[],e.BGBonus=null,e.card_no2=null,e.Card_next_not=null,e.Card_next_not2=null,e._cardChose=0,e.language=null,e.Win=!1,e.winValue=0,e.isFirstTime=!0,e.listCard=[],e}return o(e,t),e.prototype.onLoad=function(){this.BGBonus.spriteFrame=this.ListBG[u.LHoHandler.getInstance().accountInfo.roomId-1],u.LHoHandler.getInstance().onPushPlayX2=this.onPushPlayX2.bind(this),u.LHoHandler.getInstance().onPushFinishX2=this.onPushFinishX2.bind(this),this.language=c.TextData[s.default.getInstance().UserData.textPackage],this.onNotification()},e.prototype.start=function(){this.listCard=[this.nodeLeft,this.nodeRight]},e.prototype.onEnable=function(){cc.audioEngine.stopMusic(),this.resetTurn(),this._isCanleClick=!0,this.isFirstTime=!0;var t=u.LHoHandler.getInstance().spinInfo.startX2;this.lbWinValue.string=a.Utility.getInstance().add_commas(t),this.lbX2.string=a.Utility.getInstance().add_commas(Math.round(1.99*t)),this.btnStop.interactable=!1,u.LHoHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.Audio_bgX2,!0)},e.prototype.onBtnCard=function(t,e){this._isCanleClick&&(u.LHoHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickCard,!1),this._isCanleClick=!1,this._cardChose=parseInt(e),this.btnStop.interactable=!1,this.btnCont.interactable=!1,this.isFirstTime?u.LHoHandler.getInstance().playX2():(this.nodeLeft.getChildByName("default").active=!1,this.nodeRight.getChildByName("default").active=!1,this.handleResult(this.Win,this.winValue)))},e.prototype.onBtnContinue=function(){u.LHoHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.click,!1),u.LHoHandler.getInstance().playX2(),this.btnStop.interactable=!1,this.lbWinValue.string=a.Utility.getInstance().add_commas(u.LHoHandler.getInstance().x2Info.startBet),this.lbX2.string=a.Utility.getInstance().add_commas(Math.floor(1.99*u.LHoHandler.getInstance().x2Info.startBet)),this.btnCont.interactable=!1,this.nodeLeft.getChildByName("default").active=!0,this.nodeLeft.getChildByName("win").active=!1,this.nodeLeft.getChildByName("lose").active=!1,this.nodeRight.getChildByName("default").active=!0,this.nodeRight.getChildByName("win").active=!1,this.nodeRight.getChildByName("lose").active=!1,this.AnimWinRight.node.active=!0,this.AnimWinleft.node.active=!0,this.AnimWinRight1.node.active=!0,this.AnimWinleft1.node.active=!0},e.prototype.onBtnStop=function(t){u.LHoHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.click,!1),this._isPlayX2?u.LHoHandler.getInstance().finishX2():cc.systemEvent.emit(r.default.EVENT_LONGHO.STOP_X2),this.AnimWinRight.node.active=!0,this.AnimWinleft.node.active=!0,this.AnimWinRight1.node.active=!0,this.AnimWinleft1.node.active=!0},e.prototype.resetTurn=function(){this._isPlayX2=!1,this.btnStop.interactable=!1,this.btnCont.interactable=!1,this.AnimWinRight.node.active=!0,this.AnimWinRight1.node.active=!0,this.AnimWinleft.node.active=!0,this.AnimWinleft1.node.active=!0,this.nodeLeft.getChildByName("default").active=!0,this.nodeLeft.getChildByName("win").active=!1,this.nodeLeft.getChildByName("lose").active=!1,this.nodeRight.getChildByName("default").active=!0,this.nodeRight.getChildByName("win").active=!1,this.nodeRight.getChildByName("lose").active=!1},e.prototype.onDisable=function(){this.isFirstTime=!0,cc.audioEngine.stopAllEffects(),u.LHoHandler.getInstance().isSound&&cc.audioEngine.playMusic(this.Audio_bgGame,!0)},e.prototype.onPushPlayX2=function(t){if(t)if(this._isPlayX2=!0,this._isCanleClick=!0,this.winValue=u.LHoHandler.getInstance().x2Info.winValue,this.winBg.active=!1,this.moneyWinLabel.string=a.Utility.getInstance().add_commas(u.LHoHandler.getInstance().x2Info.winValue),this.Win=this.winValue>0,this.isFirstTime)this.isFirstTime=!1,this.handleResult(this.Win,this.winValue);else{this.lbX2,this.lbWinValue.string=this.lbX2.string;var e=1.99*u.LHoHandler.getInstance().x2Info.startBet,n=parseInt(e.toString());this.lbX2.string=a.Utility.getInstance().add_commas(n)}},e.prototype.onNotification=function(){var t=this;this.NotiLb.string="Ch\u1ecdn 1 trong 2 nh\xe2n v\u1eadt d\u01b0\u1edbi, b\u1ea1n c\xf3 t\u1ed1i \u0111a 3 l\u01b0\u1ee3t ch\u1ecdn.",this.NotiLb.node.setPosition(650,0),this.NotiLb.node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(15,-650-this.NotiLb.node.getContentSize().width,0),cc.callFunc(function(){t.NotiLb.node.setPosition(650,0)}))))},e.prototype.onPushFinishX2=function(t){cc.systemEvent.emit(r.default.EVENT_LONGHO.STOP_X2)},e.prototype.RandomCard=function(t){var e=Math.floor(3*Math.random()+1)+t,n=0;n=e<4?e:e-4;var o=this.listCard[t];this.card_no2=this.listCard[n];var i=this.listCard.indexOf(o,0);i>-1&&this.listCard.splice(i,1);var a=this.listCard.indexOf(this.card_no2,0);a>-1&&this.listCard.splice(a,1),this.Card_next_not=this.listCard[0],this.Card_next_not2=this.listCard[1]},e.prototype.handleResult=function(t,e){var n=this;this.nodeLeft.getChildByName("default").active=!1,this.nodeRight.getChildByName("default").active=!1,this.node.runAction(cc.sequence(cc.callFunc(function(){0==n._cardChose&&(n.AnimWinRight.node.active=!1,n.AnimWinRight1.node.active=!1,t?(n.nodeLeft.getChildByName("win").active=!0,n.AnimWinleft1.play(),n.AnimWinleft.play(),n.nodeRight.getChildByName("lose").active=!0):(n.nodeLeft.getChildByName("lose").active=!0,n.nodeRight.getChildByName("win").active=!0)),1==n._cardChose&&(n.AnimWinleft.node.active=!1,n.AnimWinleft1.node.active=!1,t?(n.AnimWinRight.play(),n.AnimWinRight1.play(),n.nodeRight.getChildByName("win").active=!0,n.nodeLeft.getChildByName("lose").active=!0):(n.nodeRight.getChildByName("lose").active=!0,n.nodeLeft.getChildByName("win").active=!0)),u.LHoHandler.getInstance().isSound&&(t?cc.audioEngine.playEffect(n.soundWin,!1):cc.audioEngine.playEffect(n.soundLose,!1))}),cc.delayTime(1.5),cc.callFunc(function(){t?(n.lbX2.string=a.Utility.getInstance().numberToCurrency(e),n.showNoti("Ch\xfac m\u1eebng!\nB\u1ea1n th\u1eafng "+a.Utility.getInstance().numberToCurrency(e))):(n.lbWinValue.string="0",n.lbX2.string=a.Utility.getInstance().add_commas(u.LHoHandler.getInstance().x2Info.winValue),n.showNoti("R\u1ea5t ti\u1ebfc!\nCh\xfac b\u1ea1n may m\u1eafn l\u1ea7n sau"))}),cc.delayTime(2),cc.callFunc(function(){3!=u.LHoHandler.getInstance().x2Info.step?(n.btnStop.interactable=!0,t?n.btnCont.interactable=!0:cc.systemEvent.emit(r.default.EVENT_LONGHO.STOP_X2)):cc.systemEvent.emit(r.default.EVENT_LONGHO.STOP_X2)})))},e.prototype.showNoti=function(t){this.listCard=[this.nodeLeft,this.nodeRight];var e=cc.instantiate(this.notiPrefab);e.getChildByName("content").getChildByName("status").getComponent(cc.Label).string=t,e.name="th_noti_popup",e.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){var t=cc.director.getScene().getChildByName("th_noti_popup");t&&t.destroy()})));var n=cc.winSize;e.setPosition(n.width/2,n.height/2),cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.NOTI)},i([h(cc.Button)],e.prototype,"btnStop",void 0),i([h(cc.Button)],e.prototype,"btnCont",void 0),i([h(cc.Label)],e.prototype,"lbWinValue",void 0),i([h(cc.Label)],e.prototype,"lbX2",void 0),i([h(cc.Node)],e.prototype,"nodeLeft",void 0),i([h(cc.Node)],e.prototype,"nodeRight",void 0),i([h(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([h(cc.AudioClip)],e.prototype,"click",void 0),i([h(cc.AudioClip)],e.prototype,"clickCard",void 0),i([h(cc.Label)],e.prototype,"NotiLb",void 0),i([h(cc.Animation)],e.prototype,"AnimWinleft",void 0),i([h(cc.Animation)],e.prototype,"AnimWinleft1",void 0),i([h(cc.Animation)],e.prototype,"AnimWinRight",void 0),i([h(cc.Animation)],e.prototype,"AnimWinRight1",void 0),i([h(cc.AudioClip)],e.prototype,"soundWin",void 0),i([h(cc.AudioClip)],e.prototype,"soundLose",void 0),i([h(cc.AudioClip)],e.prototype,"Audio_bgGame",void 0),i([h(cc.AudioClip)],e.prototype,"Audio_bgX2",void 0),i([h(cc.Node)],e.prototype,"winBg",void 0),i([h(cc.Label)],e.prototype,"moneyWinLabel",void 0),i([h(cc.SpriteFrame)],e.prototype,"ListBG",void 0),i([h(cc.Sprite)],e.prototype,"BGBonus",void 0),e=i([d],e)}(cc.Component);n.LHoX2=f,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Utilities/Utility":"Utility","./LHoHandler":"LHoHandler"}],LabelEx:[function(t,e,n){"use strict";cc._RF.push(e,"a9a6dpoewFA2qX79WWJCTR5","LabelEx");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textkey="",e}return o(e,t),i([s()],e.prototype,"textkey",void 0),e=i([c],e)}(cc.Label);n.LabelEx=r,cc._RF.pop()},{}],LabelHelperConfigs:[function(t,e,n){"use strict";cc._RF.push(e,"b4d76qBV6lKFL166lJ2G8VJ","LabelHelperConfigs"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t.Vietnamese="Vietnamese"}(n.TextPackage||(n.TextPackage={})),n.TextData={Vietnamese:{fill_username:"T\xean \u0110\u0103ng Nh\u1eadp:",fill_oldpass:"M\u1eadt kh\u1ea9u c\u0169:",fill_newpass:"M\u1eadt kh\u1ea9u m\u1edbi:",fill_confirmpass:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u:",fill_otp:"OTP:",fill_mail:"Th\u01b0:",fill_captcha:"Captcha:",fill_giftcode:"Giftcode",fill_password:"M\u1eadt kh\u1ea9u:",fill_nick:"Nick:",fill_phone:"\u0110i\u1ec7n tho\u1ea1i:",fill_email:"Email:",fill_id:"ID:",fill_balance:"S\u1ed1 d\u01b0:",fill_freeze:"S\u1ed1 d\u01b0 \u0111\xf3ng b\u0103ng:",fill_option:"Ch\u1ecdn:",fill_status:"Tr\u1ea1ng th\xe1i:",fill_min_balance:"S\u1ed1 d\u01b0 t\u1ed1i thi\u1ec3u:",fill_transaction:"Giao d\u1ecbch:",fill_time:"Th\u1eddi gian:",fill_service:"D\u1ecbch v\u1ee5:",fill_session:"Phi\xean:",fill_bet:"\u0110\u1eb7t:",fill_win:"Th\u1eafng:",fill_arise:"Ph\xe1t sinh:",fill_vip_level:"C\u1ea5p VIP:",fill_current_vip:"VIP hi\u1ec7n t\u1ea1i:",fill_vippoint:"\u0110i\u1ec3m VIP:",fill_receive_money:"Nh\u1eadn:",fill_real_receive:"Th\u1ef1c nh\u1eadn:",fill_desc:"M\xf4 t\u1ea3:",fill_sercurity_login:"B\u1ea3o m\u1eadt\n\u0111\u0103ng nh\u1eadp:",fill_money_transfer:"LONG chuy\u1ec3n:",id:"ID",time:"Th\u1eddi Gian",service:"D\u1ecbch V\u1ee5",arise:"Ph\xe1t Sinh",balance:"S\u1ed1 D\u01b0",detail:"Chi Ti\u1ebft",nickname:"Ng\u01b0\u1eddi Ch\u01a1i",room:"Ph\xf2ng",bet:"\u0110\u1eb7t",tx_bet:"\u0110\u1eb7t",win:"Th\u1eafng",session:"Phi\xean",player:"Ng\u01b0\u1eddi Ch\u01a1i",award:"Th\u1eafng",refund:"Ho\xe0n Tr\u1ea3",choose:"L\u1ef1a Ch\u1ecdn",result:"K\u1ebft Qu\u1ea3",receive:"Nh\u1eadn",step:"B\u01b0\u1edbc",card:"B\u1ed9 B\xe0i",action:"Thao T\xe1c",rank:"H\u1ea1ng",vippoint:"\u0110i\u1ec3m Vip",total:"T\u1ed5ng",current_level:"H\u1ea1ng hi\u1ec7n t\u1ea1i",next_vp_level:"H\u1ea1ng ti\u1ebfp theo",total_vp:"T\u1ed5ng \u0111i\u1ec3m Vip",your_vp:"\u0110i\u1ec3m vip c\u1ee7a b\u1ea1n",vip:"VIP",shop:"C\u1eeda H\xe0ng",blank:"Ch\u01b0a c\u1eadp nh\u1eadt",message:"Th\u01b0",setting:"C\xe0i \u0111\u1eb7t",option_freeze:"\u0110\xf3ng b\u0103ng",option_unfreeze:"M\u1edf \u0111\xf3ng b\u0103ng",username:"T\xean \u0111\u0103ng nh\u1eadp",password:"M\u1eadt Kh\u1ea9u",active:"K\xedch ho\u1ea1t",in_active:"Ch\u01b0a k\xedch ho\u1ea1t",bigwin:"Th\u1eafng l\u1edbn",megawin:"Th\u1eafng si\xeau l\u1edbn",jackpot:"\u0110\u1eadp H\u0169",free:"Quay th\u1eed",change_vippoint:"\u0110\u1ed5i Vippoint",get_otp:"L\u1ea5y OTP",receive_giftcode:"Nh\u1eadn Giftcode",transfer:"Chuy\u1ec3n kho\u1ea3n",receive_money:"Nh\u1eadn ",topup:"N\u1ea1p",cash_out:"Cash Out",updatenick_desc:"Nickname ch\u1ec9 g\u1ed3m 6-15 k\xfd t\u1ef1 v\xe0 s\u1ed1",null_username:"Vui l\xf2ng nh\u1eadp t\xean \u0111\u0103ng nh\u1eadp",null_password:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u",limit_username:"T\xean \u0111\u0103ng nh\u1eadp ch\u1ec9 6-15 k\xfd t\u1ef1 v\xe0 s\u1ed1",limit_password:"M\u1eadt kh\u1ea9u trong kho\u1ea3ng 6-15 k\xfd t\u1ef1",limit_nick:"T\xean nh\xe2n v\u1eadt ch\u1ec9 6-15 k\xfd t\u1ef1 v\xe0 s\u1ed1",null_confirm_password:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u",null_captcha:"Vui l\xf2ng nh\u1eadp captcha",confirm_pass_fail:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u kh\xf4ng th\xe0nh c\xf4ng",null_nickname:"Vui l\xf2ng nh\u1eadp t\xean nh\xe2n v\u1eadt",null_otp:"Vui l\xf2ng nh\u1eadp OTP",null_phone:"Vui l\xf2ng nh\u1eadp phone",not_enough_money:"S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7 ",null_freeze_money:"Vui l\xf2ng nh\u1eadp s\u1ed1 ti\u1ec1n \u0111\xf3ng b\u0103ng",null_unfreeze_money:"Vui l\xf2ng nh\u1eadp s\u1ed1 ti\u1ec1n m\u1edf b\u0103ng",null_old_pass:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u c\u0169",like_password:"M\u1eadt kh\u1ea9u m\u1edbi gi\u1ed1ng m\u1eadt kh\u1ea9u c\u0169",null_confirm_pass:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u m\u1edbi",fail_confirm_pass:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi kh\xf4ng \u0111\xfang",noti_get_otp:"B\u1ea1n c\xf3 mu\u1ed1n l\u1ea5y OTP? \nM\u1ed7i l\u1ea7n l\u1ea5y OTP ph\xed 1.000 LONG",null_giftcode:"Vui l\xf2ng nh\u1eadp Giftcode",null_money:"Vui l\xf2ng nh\u1eadp s\u1ed1 ti\u1ec1n",null_id:"Vui l\xf2ng nh\u1eadp id",null_desc:"L\xfd do",null_new_pass:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u m\u1edbi",null_min_balance:"Vui l\xf2ng nh\u1eadp s\u1ed1 d\u01b0 t\u1ed1i thi\u1ec3u",null_vippoint:"Vui l\xf2ng nh\u1eadp Vippoint",require_login:"B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp",success:"Th\xe0nh c\xf4ng",fail:"Th\u1ea5t b\u1ea1i",no_phone:"Vui l\xf2ng c\u1eadp nh\u1eadt s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",error_captcha:"L\u1ed7i captcha",no_account:"T\xe0i kho\u1ea3n kh\xf4ng h\u1ee3p l\u1ec7",already_update_nick:"T\xean nh\xe2n v\u1eadt \u0111\xe3 \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt",exist_account:"T\xe0i kho\u1ea3n \u0111\xe3 t\u1ed3n t\u1ea1i",min_transfer:"Giao d\u1ecbch t\u1ed1i thi\u1ec3u 10.000",min_balance_after_transfer:"S\u1ed1 d\u01b0 ph\u1ea3i c\xf2n l\u1ea1i t\u1ed1i thi\u1ec3u 10.000",no_enough_freeze:"B\u1ea1n kh\xf4ng \u0111\u1ee7 s\u1ed1 d\u01b0 \u0111\u1ec3 \u0111\xf3ng b\u0103ng",no_enough_unfreeze:"Kh\xf4ng \u0111\u1ee7 s\u1ed1 d\u01b0 m\u1edf b\u0103ng",error_old_pass:"L\u1ed7i m\u1eadt kh\u1ea9u c\u0169",same_username_nick:"T\xean nh\xe2n v\u1eadt ph\u1ea3i kh\xe1c t\xean \u0111\u0103ng nh\u1eadp",special_nickname:"T\xean nh\xe2n v\u1eadt c\xf3 k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t",special_username:"T\xean \u0111\u0103ng nh\u1eadp c\xf3 k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t",no_enough_balance:"B\u1ea1n kh\xf4ng \u0111\u1ee7 s\u1ed1 d\u01b0",already_spin_vqmm:"B\u1ea1n \u0111\xe3 h\u1ebft l\u01b0\u1ee3t quay",out_date_vqmm:"L\u01b0\u1ee3t quay h\u1ebft h\u1ea1n",invalid_length_nick:"\u0110\u1ed9 d\xe0i t\xean nh\xe2n v\u1eadt kh\xf4ng \u0111\u1ee7",invalid_length_username:"\u0110\u1ed9 d\xe0i t\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u1ee7",invalid_length_pass:"\u0110\u1ed9 d\xe0i m\u1eadt kh\u1ea9u kh\xf4ng \u0111\u1ee7",invalid_game:"Game kh\xf4ng t\u1ed3n t\u1ea1i",error_rank:"L\u1ed7i H\u1ea1ng",no_business_id:"id kh\xf4ng h\u1ee3p l\u1ec7",error_avatar:"Avatar kh\xf4ng h\u1ee3p l\u1ec7",error_register:"L\u1ed7i \u0111\u0103ng k\xfd",error_password:"M\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang",existed_nick:"T\xean nh\xe2n v\u1eadt \u0111\xe3 t\u1ed3n t\u1ea1i",invalid_day:"Ng\xe0y kh\xf4ng h\u1ee3p l\u1ec7",another_acc_phone:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\xe3 \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt cho t\xe0i kho\u1ea3n kh\xe1c",updated_phone:"T\xe0i kho\u1ea3n n\xe0y \u0111\xe3 c\u1eadp nh\u1eadt s\u1ed1 \u0111i\u1ec7n tho\u1ea1i r\u1ed3i",updated_mail:"Th\u01b0 \u0111\xe3 \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt",another_acc_mail:"Mail \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt b\u1edfi t\xe0i kho\u1ea3n kh\xe1c",account_locked:"T\xe0i kho\u1ea3n b\u1ecb kho\xe1",error_transaction_money:"L\u1ed7i chuy\u1ec3n kho\u1ea3n",error_invalid_otp:"OTP kh\xf4ng h\u1ee3p l\u1ec7",system_busy:"H\u1ec7 th\u1ed1ng b\u1eadn",sending_otp:"OTP \u0111ang g\u1eedi v\u1ec1 s\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\u1ee7a b\u1ea1n",giftcode_not_exist:"Giftcode kh\xf4ng t\u1ed3n t\u1ea1i",giftcode_used:"Giftcode \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng",giftcode_type_used:"B\u1ea1n \u0111\xe3 s\u1eed d\u1ee5ng lo\u1ea1i code n\xe0y",giftcode_expire:"Giftcode h\u1ebft h\u1ea1n",mailbox_empty:"Mailbox tr\u1ed1ng",mail_not_exist:"Mail kh\xf4ng t\u1ed3n t\u1ea1i",mail_expired:"Mail qu\xe1 h\u1ea1n",mail_deleted:"Mail b\u1ecb xo\xe1",noti_forget_pass_mail:"Ki\u1ec3m tra mail c\u1ee7a b\u1ea1n \u0111\u1ec3 nh\u1eadn m\u1eadt kh\u1ea9u m\u1edbi",not_enough_vippoint:"Kh\xf4ng \u0111\u1ee7 Vippoint",close_api:"Ch\u1ee9c n\u0103ng \u0111ang t\u1ea1m \u0111\xf3ng",error_input:"Nh\u1eadp sai",error_data:"Nh\u1eadp sai d\u1eef li\u1ec7u",win_bonus:"B\u1ea1n th\u1eafng Bonus",tx_ebox_chat:" Chat \u1edf \u0111\xe2y...",tx_noti_time:"Ch\u01b0a \u0111\u1ebfn th\u1eddi gian \u0111\u1eb7t c\u1eeda",tx_invalid_bet:"B\u1ea1n ch\u1ec9 c\xf3 th\u1ec3 \u0111\u1eb7t T\xe0i ho\u1eb7c X\u1ec9u",tx_noti_congratulation:"Ch\xfac m\u1eebng",tx_noti_win:"th\u1eafng",tx_noti_game:"Ch\xe0o m\u1eebng b\u1ea1n \u0111\u1ebfn v\u1edbi game T\xe0i X\u1ec9u",tx_total:"T\u1ed5ng",tx_all:"T\u1ea5t c\u1ea3",tx_dice1:"X\xfac s\u1eafc 1",tx_dice2:"X\xfac s\u1eafc 2",tx_dice3:"X\xfac s\u1eafc 3",tx_rank:"H\u1ea1ng",tx_account:"T\xe0i kho\u1ea3n",tx_win:"Th\u1eafng",tx_min_bet:"\u0110\u1eb7t t\u1ed1i thi\u1ec3u 100",big:"T\xe0i",small:"X\u1ec9u",hilow_new_game:"B\u1ea5m Play \u0111\u1ec3 ch\u01a1i",hilow_stop_game:"B\u1ea1n \u0111\xe3 d\u1eebng!",hilow_lost:"B\u1ea1n thua r\u1ed3i!",hilow_high:"Cao",hilow_low:"Th\u1ea5p",hilow_play:"Ch\u01a1i",fish_non_action:"Kh\xf4ng thao t\xe1c t\u1ef1 k\xedch kh\u1ecfi ph\xf2ng ",fish_is_comming:"\u0110ang t\u1edbi",fish_boss:"C\xe1 boss",fish_jackpot:"C\xe1 Jackpot ",fish_battle:"C\xe1 Tr\u1eadn",fish_baotri:"H\u1ec7 th\u1ed1ng b\u1eadn",fish_ht_ban:"H\u1ec7 th\u1ed1ng b\u1eadn, th\u1eed l\u1ea1i sau !!!",fish_kick:"B\u1ea1n s\u1ebd b\u1ecb k\xedch sau:",fish_gg:"Ch\xfac m\u1eebng",fish_kill:"b\u1eafn ch\u1ebft"}},cc._RF.pop()},{}],LabelLocalize:[function(t,e,n){"use strict";cc._RF.push(e,"dff16SrB+lNj7a1xAMbg0/J","LabelLocalize");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textkey="",e.customfontName="UTM-Cafeta",e}return o(e,t),e.prototype.start=function(){cc.sys.isMobile&&null!=this.font&&(this.useSystemFont=!0,this.fontFamily=this.customfontName)},i([s()],e.prototype,"textkey",void 0),i([s()],e.prototype,"customfontName",void 0),e=i([c],e)}(cc.Label);n.LabelLocalize=r,cc._RF.pop()},{}],LabelManager:[function(t,e,n){"use strict";cc._RF.push(e,"8375bhdXLdDcIovTFsepkeW","LabelManager");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Data/GameData"),c=t("./LabelLocalize"),s=t("./PlaceHoderLocalize"),r=t("../../Data/LabelHelperConfigs"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on("LANGUAGE",this.updateAllLabel.bind(this),this)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},e.prototype.updateAllLabel=function(){for(var t=cc.director.getScene(),e=0,n=t.getComponentsInChildren(c.LabelLocalize);e<n.length;e++){var o=n[e];o&&""!=o.textkey&&void 0!=r.TextData[a.default.getInstance().UserData.textPackage][o.textkey]&&(o.string=r.TextData[a.default.getInstance().UserData.textPackage][o.textkey])}for(var i=0,l=t.getComponentsInChildren(s.PlaceHoderLocalize);i<l.length;i++){var u=l[i];""!=u.textkey&&void 0!=r.TextData[a.default.getInstance().UserData.textPackage][u.textkey]&&(u.node.getComponent(cc.EditBox).placeholder=r.TextData[a.default.getInstance().UserData.textPackage][u.textkey])}},e=i([u],e)}(cc.Component));n.LabelManager=p,cc._RF.pop()},{"../../Data/GameData":"GameData","../../Data/LabelHelperConfigs":"LabelHelperConfigs","./LabelLocalize":"LabelLocalize","./PlaceHoderLocalize":"PlaceHoderLocalize"}],LanguageID:[function(t,e,n){"use strict";cc._RF.push(e,"42d33mgqulN6oV/p6AvjjLY","LanguageID"),Object.defineProperty(n,"__esModule",{value:!0}),n.LanguageId=cc.Enum({Khmer:0,English:1,ChineseGT:2,ChinesePT:3,Bahasa:4}),cc._RF.pop()},{}],Language:[function(t,e,n){"use strict";cc._RF.push(e,"50b15w28r9C4qNqB1yaLpRn","Language");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameData"),c=t("../../Common/Data/Constants"),s=t("../../Common/Data/LabelHelperConfigs"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listToggle=[],e.language=0,e}return o(e,t),e.prototype.onLoad=function(){for(var t in this.listToggle)+t==this.parseLanguageIndex(a.default.getInstance().UserData.textPackage)?(this.language=+t,this.listToggle[t].isChecked=!0):this.listToggle[t].isChecked=!1},e.prototype.onBtnLanguage=function(t,e){for(var n in this.listToggle)this.listToggle[n].isChecked=n==e;this.language=+e},e.prototype.onBtnConfirm=function(){a.default.getInstance().setPackageLanguage(this.parseLanguage()),a.default.getInstance().saveData(c.default.LANGUAGE,this.parseLanguage()),cc.systemEvent.emit("LANGUAGE"),this.node.destroy(),this.node.removeFromParent()},e.prototype.parseLanguage=function(){switch(this.language){case 5:return s.TextPackage.Vietnamese}},e.prototype.parseLanguageIndex=function(t){switch(t){case s.TextPackage.Vietnamese:return 5}},i([u(cc.Toggle)],e.prototype,"listToggle",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs"}],ListJackpotItem:[function(t,e,n){"use strict";cc._RF.push(e,"ad1edaSgNFO4KGw5WxtXY8Y","ListJackpotItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Network/WsHandler"),s=t("../../Common/Data/GameData"),r=t("../../Common/Data/Constants"),l=t("../../Common/Data/GameConfigs"),u=t("../../scenemanager/scripts/SceneManager"),p=t("../../TienHiep/src/THHandler"),d=t("../../ThanTai/src/TPHandler"),h=t("../../LongHo/srcLH/LHoHandler"),f=t("../../Lobby/Scripts/LoadingManager"),_=t("../../Common/Utilities/Utility"),g=t("../../DaiNaoThienCung/Scripts/DNTCHandler"),m=t("../../NuWa/Scripts/NWHandler"),y=t("../../KT/Scripts/KTHandler"),v=cc._decorator,b=v.ccclass,C=v.property,T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbJP=null,e.lbMultiply=null,e.gameId=0,e.roomId=0,e.jp=0,e.listJPRoom=[],e.listValue=0,e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){t.callGame()}),cc.systemEvent.on("ARRANGE",function(){var e=t.parseGameJPName();t.listJPRoom=c.WsHandler.getInstance().listJPAll;for(var n=0,o=t.listJPRoom;n<o.length;n++){var i=o[n];i.name==e&&(t.listValue=i.value.split(","),t.parseJackpot(t.roomId),t.onMultiply(i.str_next_jp))}},this)},e.prototype.onMultiply=function(t){if(""!=t)for(var e=t.split(","),n=0,o=r.default.EVENT_OPEN;n<o.length;n++){var i=o[n];if(i.id==this.gameId&&i.multiply>0){this.lbMultiply.node.active=0!=i.is_open&&this.checkIsMatchDay(i.day_event);var a="",c=e[this.roomId],s=this.parseMulti(i);+c>0?(a="(X"+s+" sau "+c+" H\u0169)",this.lbMultiply.node.color=cc.color(255,255,0)):(a="(X"+s+" H\u0169)",this.lbMultiply.node.color=cc.color(71,255,0)),this.lbMultiply.string=a}}},e.prototype.parseMulti=function(t){switch(this.roomId){case 0:return t.room100;case 1:return t.room1k;case 2:case 3:return t.room10k}},e.prototype.checkIsMatchDay=function(t){for(var e=0,n=t.split(",");e<n.length;e++){if(+n[e]==_.Utility.getInstance().getCurrentDay())return!0}return!1},e.prototype.parseGameJPName=function(){switch(this.gameId){case l.GameConfigs.GameId.LongHo:return l.GameConfigs.JPName.LongHo;case l.GameConfigs.GameId.ThanTai:return l.GameConfigs.JPName.ThanTai;case l.GameConfigs.GameId.KT:return l.GameConfigs.JPName.KT;case l.GameConfigs.GameId.TienHiep:return l.GameConfigs.JPName.TienHiep;case l.GameConfigs.GameId.Minipoker:return l.GameConfigs.JPName.MiniPoker;case l.GameConfigs.GameId.ThinhKinh:return l.GameConfigs.JPName.ThinhKinh;case l.GameConfigs.GameId.ThienThu:return l.GameConfigs.JPName.ThienThu;case l.GameConfigs.GameId.NuWa:return l.GameConfigs.JPName.NuWa;case l.GameConfigs.GameId.DaiNaoThienCung:return l.GameConfigs.JPName.DaiNaoThienCung}},e.prototype.parseJackpot=function(t){this.roomId=t,this.gameId==l.GameConfigs.GameId.ThinhKinh&&2==t&&(this.roomId=3),this.jp=+this.listValue[this.roomId],this.lbJP.runNumber(this.jp,!0)},e.prototype.showIconMiniGame=function(t){cc.systemEvent.emit(r.default.EVENT_LOBBY.SHOW_ICON_MINI_GAME,t)},e.prototype.callGame=function(){var t=this;if(s.default.getInstance().isLogin&&cc.director.getScene().name==l.GameConfigs.SceneName.Lobby)switch(f.default.getInstance().show(),cc.systemEvent.emit(r.default.EVENT_LOBBY.HIDE_JP,!0),this.gameId){case l.GameConfigs.GameId.TienHiep:cc.systemEvent.once(l.GameConfigs.WSGameName.TienHiep+"join_game",function(e){e.code<0||(u.clientdev.SceneManager.Instance.LoadScene(l.GameConfigs.SceneName.TienHiep,function(){t.showIconMiniGame(!0)}),f.default.getInstance().hide())}),p.THHandler.getInstance().connect();break;case l.GameConfigs.GameId.KT:cc.systemEvent.once(l.GameConfigs.WSGameName.KT+"join_game",function(e){e.code<0||(u.clientdev.SceneManager.Instance.LoadScene(l.GameConfigs.SceneName.TBPRoom,function(){t.showIconMiniGame(!0)}),f.default.getInstance().hide())}),y.KTHandler.getInstance().connect();break;case l.GameConfigs.GameId.ThanTai:cc.systemEvent.once(l.GameConfigs.WSGameName.ThanTai+"join_game",function(e){e.code<0||(u.clientdev.SceneManager.Instance.LoadScene(l.GameConfigs.SceneName.ThanTai,function(){t.showIconMiniGame(!0)}),f.default.getInstance().hide())}),d.TPHandler.getInstance().connect();break;case l.GameConfigs.GameId.LongHo:cc.systemEvent.once(l.GameConfigs.WSGameName.LongHo+"join_game",function(e){e.code<0||(u.clientdev.SceneManager.Instance.LoadScene(l.GameConfigs.SceneName.LongHo,function(){t.showIconMiniGame(!0)}),f.default.getInstance().hide())}),h.LHoHandler.getInstance().connect();break;case l.GameConfigs.GameId.DaiNaoThienCung:cc.audioEngine.stopMusic(),cc.systemEvent.once(l.GameConfigs.WSGameName.DaiNaoThienCung+"join_game",function(e){e.code<0||(u.clientdev.SceneManager.Instance.LoadSceneWukong(l.GameConfigs.SceneName.DaiNaoThienCung,function(){t.showIconMiniGame(!0)}),f.default.getInstance().hide())}),g.DNTCHandler.getInstance().connect();break;case l.GameConfigs.GameId.NuWa:cc.audioEngine.stopMusic(),cc.systemEvent.once(l.GameConfigs.WSGameName.NuWa+"join_game",function(e){e.code<0||(u.clientdev.SceneManager.Instance.LoadSceneNW(l.GameConfigs.SceneName.NuWa,function(){t.showIconMiniGame(!0)}),f.default.getInstance().hide())}),m.NWHandler.getInstance().connect();break;case l.GameConfigs.GameId.ThienThu:f.default.getInstance().hide(),cc.systemEvent.emit(r.default.EVENT_LOBBY.OPEN_DV,"THIENTHU");break;case l.GameConfigs.GameId.ThinhKinh:f.default.getInstance().hide(),cc.systemEvent.emit(r.default.EVENT_LOBBY.OPEN_BABA,"THINHKINH");break;case l.GameConfigs.GameId.Minipoker:f.default.getInstance().hide(),cc.systemEvent.emit(r.default.EVENT_LOBBY.OPEN_MP,"MINIPOKER");break;case l.GameConfigs.GameId.Hilow:f.default.getInstance().hide(),cc.systemEvent.emit(r.default.EVENT_LOBBY.OPEN_HL,"HILOW")}},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([C(a.default)],e.prototype,"lbJP",void 0),i([C(cc.Label)],e.prototype,"lbMultiply",void 0),i([C],e.prototype,"gameId",void 0),e=i([b],e)}(cc.Component);n.default=T,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Network/WsHandler":"WsHandler","../../Common/UI/NumberRun":"NumberRun","../../Common/Utilities/Utility":"Utility","../../DaiNaoThienCung/Scripts/DNTCHandler":"DNTCHandler","../../KT/Scripts/KTHandler":"KTHandler","../../Lobby/Scripts/LoadingManager":"LoadingManager","../../LongHo/srcLH/LHoHandler":"LHoHandler","../../NuWa/Scripts/NWHandler":"NWHandler","../../ThanTai/src/TPHandler":"TPHandler","../../TienHiep/src/THHandler":"THHandler","../../scenemanager/scripts/SceneManager":"SceneManager"}],ListJackpot:[function(t,e,n){"use strict";cc._RF.push(e,"f1f563tTutAs5YtjL4a4aVx","ListJackpot");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./ListJackpotItem"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listTopBtn=[],e.listItem=[],e.listPosY=[-30,-93,-155,-217,-278.5,-341,-404,-467,-528],e.listTemp=[],e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on("ARRANGE",this.arrangeJackpot.bind(this),this)},e.prototype.onBtnTop=function(t,e){for(var n in this.listTopBtn)if(n==e)for(var o in this.listTopBtn[n].opacity=255,this.listItem)this.listItem[o].parseJackpot(+e);else this.listTopBtn[n].opacity=0},e.prototype.sortJP=function(){for(var t=0;t<this.listItem.length-1;t++)for(var e=t+1;e<this.listItem.length;e++)if(this.listItem[t].jp<this.listItem[e].jp){var n=this.listItem[t];this.listItem[t]=this.listItem[e],this.listItem[e]=n}},e.prototype.arrangeJackpot=function(){this.sortJP();for(var t=0;t<this.listItem.length;t++)this.listItem[t].node.runAction(cc.moveTo(.5,0,this.listPosY[t]))},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([r(cc.Node)],e.prototype,"listTopBtn",void 0),i([r(a.default)],e.prototype,"listItem",void 0),e=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./ListJackpotItem":"ListJackpotItem"}],LoadingManager:[function(t,e,n){"use strict";cc._RF.push(e,"796dcaIWw9Dpa34PtD4ab0I","LoadingManager");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameConfigs"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeBlock=null,e.nodeBlockCharge=null,e.nodeDesc=null,e.anim=null,e.timeOutShow=null,e.timeOutShowCharge=null,e}var n;return o(e,t),n=e,e.getInstance=function(){return this.Instance},e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),this.node.zIndex=a.GameConfigs.zOderGame.LOADING},e.prototype.start=function(){n.Instance=this},e.prototype.show=function(){var t=this;this.nodeBlock.active=!0,this.anim.play("Loading"),this.timeOutShow=setTimeout(function(){t.nodeBlock.active=!1,clearTimeout(t.timeOutShow)},1e4)},e.prototype.showWaitCharge=function(){var t=this;this.nodeBlockCharge.active=!0,this.nodeDesc.active=!0,this.timeOutShowCharge=setTimeout(function(){t.nodeBlockCharge.active=!1,t.nodeDesc.active=!1,clearTimeout(t.timeOutShowCharge)},6e4)},e.prototype.hide=function(){this.anim.stop(),clearTimeout(this.timeOutShow),clearTimeout(this.timeOutShowCharge),this.nodeBlock.active=!1,this.nodeBlockCharge.active=!1,this.nodeDesc.active=!1},e.Instance=null,i([r(cc.Node)],e.prototype,"nodeBlock",void 0),i([r(cc.Node)],e.prototype,"nodeBlockCharge",void 0),i([r(cc.Node)],e.prototype,"nodeDesc",void 0),i([r(cc.Animation)],e.prototype,"anim",void 0),e=n=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs"}],LobbyControler:[function(t,e,n){"use strict";cc._RF.push(e,"8553cT5+KVKKJm5w6Up2qIL","LobbyControler");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/Constants"),c=t("../../Common/Network/WsHandler"),s=t("../../Common/Data/GameData"),r=t("../../Common/Utilities/Utility"),l=t("../../Common/Data/GameConfigs"),u=t("./Payment"),p=t("./LoadingManager"),d=t("../../Common/Data/LabelHelperConfigs"),h=t("./UserInfo"),f=t("../../Common/UI/Notification"),_=t("../../Common/Network/ConnectHandler"),g=t("../../TaiXiu/Scripts/TaiXiuHandler"),m=t("../../scenemanager/scripts/SceneManager"),y=t("../../KT/Scripts/KTHandler"),v=t("../../TienHiep/src/THHandler"),b=t("../../ThanTai/src/TPHandler"),C=t("../../LongHo/srcLH/LHoHandler"),T=t("../../BanCa/src/BanCaHandler"),I=t("../../DaiNaoThienCung/Scripts/DNTCHandler"),P=t("./Event"),N=t("../../NuWa/Scripts/NWHandler"),E=cc._decorator,S=E.ccclass,O=E.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.registerPrefab=null,e.updateNickname=null,e.authen=null,e.noauthen=null,e.lbNickname=null,e.lbBalance=null,e.lbUid=null,e.userInfo=null,e.giftcodePrefab=null,e.paymentPrefab=null,e.forgetPassPrefab=null,e.historyPrefab=null,e.mailPrefab=null,e.nodeSetting=null,e.notiPrefab=null,e.nodeNotiMail=null,e.lbNotiMail=null,e.lbNoti=null,e.contentBanner=null,e.pvBanner=null,e.background=null,e.avatarAtlas=null,e.avatar=null,e.nodeInfo=null,e.nodeBanners=null,e.luckySpin=null,e.notiLuckySpin=null,e.footer=null,e.sprSound=null,e.listFrameSound=[],e.holderPage=null,e.event=null,e.nodeBGTX=null,e.lbTimeTX=null,e.nodeAds=null,e.listAds=[],e.groupMenu=null,e.chatMenu=null,e.lbHotline=null,e.lbListJP=null,e.sprVip=null,e.listFrameVip=[],e.countAds=0,e.language=null,e.linkNoti=null,e.listFrame=[],e.loginFirst=!1,e.listNoti=[],e.intervalBanner=null,e}return o(e,t),e.prototype.onLoad=function(){this.language=d.TextData[s.default.getInstance().UserData.textPackage],cc.systemEvent.on(a.default.EVENT_LOBBY.FB_LOGIN_WEB_DONE,this.onLoginFB.bind(this),this),cc.systemEvent.on(a.default.EVENT_LOBBY.LOGIN_FB,this.onLoginDone.bind(this),this),cc.systemEvent.on(a.default.EVENT_LOBBY.LOGIN_DONE,this.onLoginDone.bind(this),this),cc.systemEvent.on(a.default.EVENT_LOBBY.UPDATE_NICK_DONE,this.onUpdateNickDone.bind(this),this),cc.systemEvent.on(a.default.EVENT_LOBBY.UPDATE_BALANCE,this.onUpdateBalance.bind(this),this),cc.systemEvent.on(a.default.EVENT_LOBBY.NOTI_MAIL,this.onUpdateNotiMail.bind(this),this),cc.systemEvent.on(a.default.EVENT_LOBBY.NOTIFICATION,this.onNotification.bind(this),this),cc.systemEvent.on(a.default.EVENT_LOBBY.LOG_OUT_SUCCESS,this.onLogOutSuccess.bind(this),this),cc.systemEvent.on(a.default.EVENT_LOBBY.AVATAR,this.onChangeAvatar.bind(this),this),cc.systemEvent.on(a.default.EVENT_LOBBY.DONE_VQMM,this.onDoneVQMM.bind(this),this),cc.systemEvent.on(a.default.EVENT_TAIXIU.TAIXIU_HANDLER+"pergame",this.updatePerGameTX.bind(this),this),cc.systemEvent.on(a.default.EVENT_LOBBY.CONFIRM_LOG_OUT,this.onBtnLogOut.bind(this),this),cc.systemEvent.on(a.default.EVENT_API.CLOSE,this.onCloseAPI.bind(this),this),cc.systemEvent.on(a.default.EVENT_LOBBY.LIST_HONOR,this.onPushListWinJP.bind(this),this),this.lbHotline.string=l.GameConfigs.server_config.hotline+"",a.default.IS_SOUND&&cc.audioEngine.playMusic(this.background,!0),this.showIconMiniGame(!1),s.default.getInstance().isLogin&&(this.nodeBGTX.active=!0,this.nodeInfo.active=!0,this.authen.active=!0,this.noauthen.active=!1,this.footer.active=!0,this.lbUid.string=s.default.getInstance().UserData.pub_id,this.lbNickname.string=s.default.getInstance().UserData.nick,this.lbBalance.string=r.Utility.getInstance().numberToCurrency(s.default.getInstance().UserData.balance),this.sprVip.spriteFrame=this.listFrameVip[s.default.getInstance().UserData.curr_level-1],this.avatar.spriteFrame=this.avatarAtlas.getSpriteFrame(s.default.getInstance().UserData.avatar+""),this.sprSound.spriteFrame=a.default.IS_SOUND?this.listFrameSound[0]:this.listFrameSound[1],cc.systemEvent.emit(a.default.EVENT_LOBBY.HIDE_JP,!1),_.default.getInstance().processGetEventOpen(),_.default.getInstance().processGetAllEvent(),cc.systemEvent.emit(a.default.EVENT_LOBBY.SHOW_JP),cc.systemEvent.emit(a.default.PT_EVENT.ACCOUNT_INFO)),c.WsHandler.getInstance().forceLoguot&&this.onLogOutSuccess()},e.prototype.onLoginFB=function(t){_.default.getInstance().processLoginFB(t.token),gtag&&gtag("event","Reg_FB")},e.prototype.onPushListWinJP=function(t){var e=this;if(0!=t.length){this.lbListJP.string="",this.lbListJP.node.stopAllActions(),this.lbListJP.node.setPosition(260,0);var n="<color=#f6e29c>"+this.language.tx_noti_congratulation+" </color>";for(var o in t)t[o].prize_value<=0||(n+="<color=#47FF00>"+t[o].nick+"</color> <color=#f6e29c>\u0110\u1eadp h\u0169</color> ",n+="<color=#FFFF00>"+t[o].game_name+"</color> <color=#f6e29c>tr\u1ecb gi\xe1</color> ",n+="<color=#FAEA2D>"+r.Utility.getInstance().numberToCurrency(t[o].prize_value)+"</color>",parseInt(o)!=t.length-1&&(n+="<color=#f6e29c>, </color>"));this.lbListJP.string=n;var i=this.lbListJP.node.getContentSize().width,a=0;a=t.length<=3?15:t.length>3&&t.length<6?25:40,this.lbListJP.node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(a,-260-i,0),cc.callFunc(function(){e.lbListJP.node.setPosition(260,0)}))))}},e.prototype.onEnable=function(){s.default.getInstance().setPackageLanguage(d.TextPackage.Vietnamese),s.default.getInstance().saveData(a.default.LANGUAGE,d.TextPackage.Vietnamese),cc.systemEvent.emit("LANGUAGE")},e.prototype.updatePerGameTX=function(){var t=g.default.getInstance().perGame;2==t.game_status?(t.remain_waiting>=10?this.lbTimeTX.string="00:"+t.remain_waiting:this.lbTimeTX.string="00:0"+t.remain_waiting,this.lbTimeTX.node.color=cc.Color.RED):(t.remain_betting>=10?this.lbTimeTX.string="00:"+t.remain_betting:this.lbTimeTX.string="00:0"+t.remain_betting,this.lbTimeTX.node.color=cc.color(244,252,156))},e.prototype.scrollEvent=function(t){},e.prototype.onChangeAvatar=function(t){this.avatar.spriteFrame=this.avatarAtlas.getSpriteFrame(t)},e.prototype.onUpdateNotiMail=function(t){t<=0?this.nodeNotiMail.active=!1:(this.nodeNotiMail.active=!0,this.lbNotiMail.string=t)},e.prototype.showIconMiniGame=function(t){cc.systemEvent.emit(a.default.EVENT_LOBBY.SHOW_ICON_MINI_GAME,t)},e.prototype.onUpdateBalance=function(t){s.default.getInstance().UserData.balance=t,this.lbBalance.string=r.Utility.getInstance().numberToCurrency(t)},e.prototype.onShowVQMM=function(){var t=cc.sys.localStorage.getItem(r.Utility.getInstance().getCurrDateInt()+"VQMM");t?"false"==t&&this.onBtnVQMM():this.onBtnVQMM()},e.prototype.onLoginDone=function(){if(""==s.default.getInstance().UserData.nick){if(null!=cc.director.getScene().getChildByName("UPDATE_NICK"))return;var t=cc.instantiate(this.updateNickname),e=cc.winSize;t.name="UPDATE_NICK",t.x=e.width/2,t.y=e.height/2,cc.director.getScene().addChild(t)}else this.lbNickname.string=s.default.getInstance().UserData.nick,c.WsHandler.getInstance().login(),this.onShowAds(),this.onShowVQMM(),0==s.default.getInstance().UserData.turn_vqmm&&(this.notiLuckySpin.active=!0);0==s.default.getInstance().UserData.number_mail?this.nodeNotiMail.active=!1:(this.nodeNotiMail.active=!0,this.lbNotiMail.string=s.default.getInstance().UserData.number_mail+""),this.nodeBGTX.active=!0,this.footer.active=!0,this.nodeInfo.active=!0,this.authen.active=!0,this.noauthen.active=!1,this.lbUid.string=s.default.getInstance().UserData.pub_id,this.sprVip.spriteFrame=this.listFrameVip[s.default.getInstance().UserData.curr_level-1],this.lbBalance.string=r.Utility.getInstance().numberToCurrency(s.default.getInstance().UserData.balance),this.avatar.spriteFrame=this.avatarAtlas.getSpriteFrame(s.default.getInstance().UserData.avatar+""),cc.systemEvent.emit(a.default.EVENT_LOBBY.HIDE_JP,!1),_.default.getInstance().processGetEventOpen(),_.default.getInstance().processGetAllEvent(),cc.systemEvent.emit(a.default.EVENT_LOBBY.SHOW_JP),gtag&&gtag("event","Login")},e.prototype.showPopupEvent=function(){if(""!=s.default.getInstance().UserData.nick){var t=cc.sys.localStorage.getItem(r.Utility.getInstance().getCurrDateInt()+"EVENT");t?"false"==t&&this.onBtnEvent():this.onBtnEvent()}},e.prototype.onDoneVQMM=function(){},e.prototype.onUpdateNickDone=function(){c.WsHandler.getInstance().login(),this.lbNickname.string=s.default.getInstance().UserData.nick,this.onShowAds(),this.onBtnEvent(),this.onShowVQMM(),0==s.default.getInstance().UserData.turn_vqmm&&(this.notiLuckySpin.active=!0)},e.prototype.onDestroy=function(){cc.log("LobbyControler Destroy"),cc.systemEvent.targetOff(this),clearInterval(this.intervalBanner)},e.prototype.onBtnRegister=function(t){var e=cc.instantiate(this.registerPrefab),n=cc.winSize;e.x=n.width/2,e.y=n.height/2,cc.director.getScene().addChild(e)},e.prototype.onBtnGiftcode=function(t){var e=cc.instantiate(this.giftcodePrefab),n=cc.winSize;e.x=n.width/2,e.y=n.height/2,cc.director.getScene().addChild(e)},e.prototype.onBtnSound=function(){a.default.IS_SOUND=!a.default.IS_SOUND,this.sprSound.spriteFrame=a.default.IS_SOUND?this.listFrameSound[0]:this.listFrameSound[1],a.default.IS_SOUND?cc.audioEngine.playMusic(this.background,!0):cc.audioEngine.stopMusic()},e.prototype.onBtnAvatar=function(t){var e=cc.instantiate(this.userInfo),n=cc.winSize;e.x=n.width/2,e.y=n.height/2,cc.director.getScene().addChild(e)},e.prototype.onBtnPayment=function(t){var e=cc.instantiate(this.paymentPrefab),n=cc.winSize;e.x=n.width/2,e.y=n.height/2,cc.director.getScene().addChild(e)},e.prototype.onBtnMerchant=function(t){var e=cc.instantiate(this.paymentPrefab),n=cc.winSize;e.getComponent(u.default).setToSelection(3),e.x=n.width/2,e.y=n.height/2,cc.director.getScene().addChild(e)},e.prototype.onBtnTransfer=function(t){var e=cc.instantiate(this.paymentPrefab),n=cc.winSize;e.getComponent(u.default).setToSelection(2),e.x=n.width/2,e.y=n.height/2,cc.director.getScene().addChild(e)},e.prototype.onBtnForgetPass=function(t){var e=cc.instantiate(this.forgetPassPrefab),n=cc.winSize;e.x=n.width/2,e.y=n.height/2,cc.director.getScene().addChild(e)},e.prototype.onBtnSetting=function(t){this.nodeSetting.active=!this.nodeSetting.active,this.groupMenu.active=!1,this.chatMenu.active=!1},e.prototype.onBtnCloseMenuBot=function(t){this.groupMenu.active=!1,this.chatMenu.active=!1},e.prototype.onBtnSecurityLogin=function(t){var e=cc.instantiate(this.userInfo),n=cc.winSize;e.getComponent(h.default).setToSecurity("BMDN"),e.x=n.width/2,e.y=n.height/2,cc.director.getScene().addChild(e)},e.prototype.onBtnFanpage=function(t){cc.sys.openURL(l.GameConfigs.server_config.fanpage)},e.prototype.onBtnChatTelegram=function(t){cc.sys.openURL(l.GameConfigs.server_config.chat_telegram)},e.prototype.onBtnGroup=function(t){cc.sys.openURL(l.GameConfigs.server_config.group)},e.prototype.onBtnPC=function(t){cc.sys.openURL(l.GameConfigs.server_config.link_pc)},e.prototype.onBtnChatAdmin=function(t){cc.sys.openURL(l.GameConfigs.server_config.chat_admin)},e.prototype.onBtnTelegram=function(t){cc.sys.openURL(l.GameConfigs.server_config.telegram)},e.prototype.onBtnShowGroupMenu=function(t){this.groupMenu.active=!this.groupMenu.active},e.prototype.onBtnShowChatMenu=function(t){this.chatMenu.active=!this.chatMenu.active},e.prototype.onBtnBackCard=function(t){a.default.isChoseRoomCard&&(a.default.isChoseRoomCard=!1)},e.prototype.onBtnPreLogOut=function(t){if(a.default.isChoseRoomCard)a.default.isChoseRoomCard=!1;else{var e=cc.instantiate(this.notiPrefab);e.getComponent(f.default).setContent("B\u1ea1n c\xf3 mu\u1ed1n tho\xe1t game ?"),e.getComponent(f.default).showLogOut(),cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP)}},e.prototype.onBtnLogOut=function(t){a.default.isChoseRoomCard?a.default.isChoseRoomCard=!1:(p.default.getInstance().show(),cc.systemEvent.emit(a.default.EVENT_LOBBY.LOG_OUT))},e.prototype.onCloseAPI=function(t){null!=t&&0==t.status&&this.onLogOutSuccess()},e.prototype.onLogOutSuccess=function(){p.default.getInstance().hide(),s.default.getInstance().isLogin=!1,a.default.ADMIN=!1,this.nodeBGTX.active=!1,this.footer.active=!1,this.nodeBanners.active=!0,this.nodeSetting.active=!1,this.groupMenu.active=!1,this.chatMenu.active=!1,this.nodeInfo.active=!1,this.authen.active=!1,this.noauthen.active=!0,this.lbNickname.string="",cc.sys.isMobile&&imicgame.PluginNative.facebookLogout()},e.prototype.onBtnHistory=function(t){var e=cc.instantiate(this.historyPrefab),n=cc.winSize;e.x=n.width/2,e.y=n.height/2,cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnMail=function(t){var e=cc.instantiate(this.mailPrefab),n=cc.winSize;e.x=n.width/2,e.y=n.height/2,cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP)},e.prototype.closeSetting=function(){this.groupMenu.active=!1,this.chatMenu.active=!1,this.nodeSetting.active=!1},e.prototype.onBtnLanguage=function(){},e.prototype.onBtnEvent=function(){if(null==cc.director.getScene().getChildByName("POPUP_EVENT")){cc.sys.localStorage.setItem(r.Utility.getInstance().getCurrDateInt()+"EVENT",!0);var t=cc.instantiate(this.event);t.name="POPUP_EVENT";var e=cc.winSize;t.x=e.width/2,t.y=e.height/2,cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)}},e.prototype.onBtnEventMission=function(){if(null==cc.director.getScene().getChildByName("POPUP_EVENT")){var t=cc.instantiate(this.event);t.getComponent(P.default).onShowMission(),t.name="POPUP_EVENT";var e=cc.winSize;t.x=e.width/2,t.y=e.height/2,cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)}},e.prototype.onNotification=function(t){this.lbNoti.node.stopAllActions(),this.lbNoti.string="",this.lbNoti.node.setPosition(350,0),this.listNoti=t,this.onGetNotifications()},e.prototype.onGetNotifications=function(){var t=this;if(0!=this.listNoti.length){var e=[],n=0;this.lbNoti.node.stopAllActions();for(var o=0;o<this.listNoti.length;o++)0!=this.listNoti[o].is_enable&&e.push(this.listNoti[o]);this.lbNoti.string=e[n].title,this.linkNoti=e[n].link,this.lbNoti.node.children[0].getContentSize().width=this.lbNoti.node.getContentSize().width,this.lbNoti.node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(15,-350-this.lbNoti.node.getContentSize().width,0),cc.callFunc(function(){n==e.length-1?n=0:n++,t.lbNoti.string=e[n].title,t.linkNoti=e[n].link,t.lbNoti.node.children[0].getContentSize().width=t.lbNoti.node.getContentSize().width,t.lbNoti.node.setPosition(350,0)}))))}},e.prototype.onBtnOpenLink=function(t){cc.sys.openURL(this.linkNoti)},e.prototype.onBtnCloseAds=function(t){2==this.countAds?(this.listAds[0].active=!1,this.listAds[1].active=!0):(this.listAds[0].active=!1,this.listAds[1].active=!1),this.countAds--},e.prototype.onBtnVoteApp=function(t){switch(cc.sys.os){case cc.sys.OS_IOS:cc.sys.openURL(l.GameConfigs.server_config.link_ios);break;case cc.sys.OS_ANDROID:cc.sys.openURL(l.GameConfigs.server_config.link_android)}},e.prototype.onShowAds=function(){var t=this;if(0!=l.GameConfigs.server_config.ads.length){var e=(new Date).getDate(),n=cc.sys.localStorage.getItem("DAY");if(null==n)cc.sys.localStorage.setItem("DAY",e);else{if(n==e)return;cc.sys.localStorage.setItem("DAY",e)}this.nodeAds.zIndex=a.default.zOderGame.ADS,this.nodeAds.active=!0,this.countAds=l.GameConfigs.server_config.ads.length;var o=function(e){var n=l.GameConfigs.server_config.ads[e];cc.loader.load(n.img,function(o,i){var a=t.listAds[e].getChildByName("img");a.on(cc.Node.EventType.TOUCH_END,function(o){t.listAds[e].active=!1,cc.sys.openURL(n.link)}),a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i)})};for(var i in l.GameConfigs.server_config.ads)o(i);this.listAds[0].active=!0}},e.prototype.onBtnVQMM=function(){if(null==cc.director.getScene().getChildByName("VQMM")){cc.sys.localStorage.setItem(r.Utility.getInstance().getCurrDateInt()+"VQMM",!0);var t=cc.instantiate(this.luckySpin),e=cc.winSize;t.name="VQMM",t.x=e.width/2,t.y=e.height/2,cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)}},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent("Notification").setContent(t),e.getComponent("Notification").showDialog(2),cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnGame=function(t,e){var n=this;if(s.default.getInstance().isLogin)switch(p.default.getInstance().show(),e=parseInt(e)){case l.GameConfigs.GameId.TienHiep:cc.audioEngine.stopMusic(),cc.systemEvent.once(l.GameConfigs.WSGameName.TienHiep+"join_game",function(t){t.code<0||(m.clientdev.SceneManager.Instance.LoadScene(l.GameConfigs.SceneName.TienHiep,function(){n.showIconMiniGame(!0)}),p.default.getInstance().hide())}),v.THHandler.getInstance().connect();break;case l.GameConfigs.GameId.Fish:cc.audioEngine.stopMusic(),cc.systemEvent.once(l.GameConfigs.WSGameName.Banca+"join_game",function(t){t.code<0||(m.clientdev.SceneManager.Instance.LoadScene(l.GameConfigs.SceneName.BanCa,function(){n.showIconMiniGame(!0)}),p.default.getInstance().hide())}),T.default.getInstance().connect();break;case l.GameConfigs.GameId.KT:cc.audioEngine.stopMusic(),cc.systemEvent.once(l.GameConfigs.WSGameName.KT+"join_game",function(t){t.code<0||(m.clientdev.SceneManager.Instance.LoadScene(l.GameConfigs.SceneName.KTRoom,function(){n.showIconMiniGame(!0)}),p.default.getInstance().hide())}),y.KTHandler.getInstance().connect();break;case l.GameConfigs.GameId.ThanTai:cc.audioEngine.stopMusic(),cc.systemEvent.once(l.GameConfigs.WSGameName.ThanTai+"join_game",function(t){t.code<0||(m.clientdev.SceneManager.Instance.LoadScene(l.GameConfigs.SceneName.ThanTai,function(){n.showIconMiniGame(!0)}),p.default.getInstance().hide())}),b.TPHandler.getInstance().connect();break;case l.GameConfigs.GameId.LongHo:cc.audioEngine.stopMusic(),cc.systemEvent.once(l.GameConfigs.WSGameName.LongHo+"join_game",function(t){t.code<0||(m.clientdev.SceneManager.Instance.LoadScene(l.GameConfigs.SceneName.LongHo,function(){n.showIconMiniGame(!0)}),p.default.getInstance().hide())}),C.LHoHandler.getInstance().connect();break;case l.GameConfigs.GameId.DaiNaoThienCung:cc.audioEngine.stopMusic(),cc.systemEvent.once(l.GameConfigs.WSGameName.DaiNaoThienCung+"join_game",function(t){t.code<0||(m.clientdev.SceneManager.Instance.LoadSceneWukong(l.GameConfigs.SceneName.DaiNaoThienCung,function(){n.showIconMiniGame(!0)}),p.default.getInstance().hide())}),I.DNTCHandler.getInstance().connect();break;case l.GameConfigs.GameId.NuWa:cc.audioEngine.stopMusic(),cc.systemEvent.once(l.GameConfigs.WSGameName.NuWa+"join_game",function(t){t.code<0||(m.clientdev.SceneManager.Instance.LoadSceneNW(l.GameConfigs.SceneName.NuWa,function(){n.showIconMiniGame(!0)}),p.default.getInstance().hide())}),N.NWHandler.getInstance().connect();break;case l.GameConfigs.GameId.TaiXiu:cc.systemEvent.emit(a.default.EVENT_LOBBY.OPEN_TX,"TAIXIU");break;case l.GameConfigs.GameId.ThienThu:cc.systemEvent.emit(a.default.EVENT_LOBBY.OPEN_DV,"THIENTHU");break;case l.GameConfigs.GameId.ThinhKinh:cc.systemEvent.emit(a.default.EVENT_LOBBY.OPEN_BABA,"THINHKINH");break;case l.GameConfigs.GameId.Minipoker:cc.systemEvent.emit(a.default.EVENT_LOBBY.OPEN_MP,"MINIPOKER");break;case l.GameConfigs.GameId.Hilow:cc.systemEvent.emit(a.default.EVENT_LOBBY.OPEN_HL,"HILOW")}else this.enableNoti(this.language.require_login)},i([O(cc.Prefab)],e.prototype,"registerPrefab",void 0),i([O(cc.Prefab)],e.prototype,"updateNickname",void 0),i([O(cc.Node)],e.prototype,"authen",void 0),i([O(cc.Node)],e.prototype,"noauthen",void 0),i([O(cc.Label)],e.prototype,"lbNickname",void 0),i([O(cc.Label)],e.prototype,"lbBalance",void 0),i([O(cc.Label)],e.prototype,"lbUid",void 0),i([O(cc.Prefab)],e.prototype,"userInfo",void 0),i([O(cc.Prefab)],e.prototype,"giftcodePrefab",void 0),i([O(cc.Prefab)],e.prototype,"paymentPrefab",void 0),i([O(cc.Prefab)],e.prototype,"forgetPassPrefab",void 0),i([O(cc.Prefab)],e.prototype,"historyPrefab",void 0),i([O(cc.Prefab)],e.prototype,"mailPrefab",void 0),i([O(cc.Node)],e.prototype,"nodeSetting",void 0),i([O(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([O(cc.Node)],e.prototype,"nodeNotiMail",void 0),i([O(cc.Label)],e.prototype,"lbNotiMail",void 0),i([O(cc.Label)],e.prototype,"lbNoti",void 0),i([O(cc.Node)],e.prototype,"contentBanner",void 0),i([O(cc.PageView)],e.prototype,"pvBanner",void 0),i([O(cc.AudioClip)],e.prototype,"background",void 0),i([O(cc.SpriteAtlas)],e.prototype,"avatarAtlas",void 0),i([O(cc.Sprite)],e.prototype,"avatar",void 0),i([O(cc.Node)],e.prototype,"nodeInfo",void 0),i([O(cc.Node)],e.prototype,"nodeBanners",void 0),i([O(cc.Prefab)],e.prototype,"luckySpin",void 0),i([O(cc.Node)],e.prototype,"notiLuckySpin",void 0),i([O(cc.Node)],e.prototype,"footer",void 0),i([O(cc.Sprite)],e.prototype,"sprSound",void 0),i([O(cc.SpriteFrame)],e.prototype,"listFrameSound",void 0),i([O(cc.Node)],e.prototype,"holderPage",void 0),i([O(cc.Prefab)],e.prototype,"event",void 0),i([O(cc.Node)],e.prototype,"nodeBGTX",void 0),i([O(cc.Label)],e.prototype,"lbTimeTX",void 0),i([O(cc.Node)],e.prototype,"nodeAds",void 0),i([O(cc.Node)],e.prototype,"listAds",void 0),i([O(cc.Node)],e.prototype,"groupMenu",void 0),i([O(cc.Node)],e.prototype,"chatMenu",void 0),i([O(cc.Label)],e.prototype,"lbHotline",void 0),i([O(cc.RichText)],e.prototype,"lbListJP",void 0),i([O(cc.Sprite)],e.prototype,"sprVip",void 0),i([O(cc.SpriteFrame)],e.prototype,"listFrameVip",void 0),e=i([S],e)}(cc.Component);n.default=A,cc._RF.pop()},{"../../BanCa/src/BanCaHandler":"BanCaHandler","../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/Network/WsHandler":"WsHandler","../../Common/UI/Notification":"Notification","../../Common/Utilities/Utility":"Utility","../../DaiNaoThienCung/Scripts/DNTCHandler":"DNTCHandler","../../KT/Scripts/KTHandler":"KTHandler","../../LongHo/srcLH/LHoHandler":"LHoHandler","../../NuWa/Scripts/NWHandler":"NWHandler","../../TaiXiu/Scripts/TaiXiuHandler":"TaiXiuHandler","../../ThanTai/src/TPHandler":"TPHandler","../../TienHiep/src/THHandler":"THHandler","../../scenemanager/scripts/SceneManager":"SceneManager","./Event":"Event","./LoadingManager":"LoadingManager","./Payment":"Payment","./UserInfo":"UserInfo"}],LocalizeButton:[function(t,e,n){"use strict";cc._RF.push(e,"2072fLQ+chEAJh4drBD7261","LocalizeButton");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./LanguageID"),c=t("./LabelManager"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.languageId=a.LanguageId.English,e}return o(e,t),e.prototype.onClick=function(t){cc.director.getScene().getChildByName("Canvas").getComponent(c.LabelManager).updateAllLabel()},i([l({type:a.LanguageId})],e.prototype,"languageId",void 0),e=i([r],e)}(cc.Component);n.LocalizeButton=u,cc._RF.pop()},{"./LabelManager":"LabelManager","./LanguageID":"LanguageID"}],LoginController:[function(t,e,n){"use strict";cc._RF.push(e,"5a928903t5NgocTVJ2nXHr0","LoginController");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Network/ConnectHandler"),c=t("../../Common/Data/GameData"),s=t("../../Common/Data/Constants"),r=t("../../Common/Data/LabelHelperConfigs"),l=t("./LoadingManager"),u=t("../../Common/Data/GameConfigs"),p=t("../../Common/UI/Notification"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ebid=null,e.pass=null,e.securityLogin=null,e.notiPrefab=null,e}return o(e,t),e.prototype.onLoad=function(){if(cc.systemEvent.on(s.default.EVENT_API.LOGIN,this.onLoginResponse.bind(this),this),cc.systemEvent.on(s.default.EVENT_LOBBY.SECURITY_FB,this.onSecurityFB.bind(this),this),cc.systemEvent.on("FAIL_FB",this.onLoginFbFail.bind(this),this),cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.OS_ANDROID){var t=cc.sys.localStorage.getItem("username"),e=cc.sys.localStorage.getItem("password");t&&(this.ebid.string=t),e&&(this.pass.string=e)}else{(t=cc.sys.localStorage.getItem("username"))&&(this.ebid.string=t)}},e.prototype.onLoginFbFail=function(t){this.enableNoti(a.default.getInstance().statusApiError(t))},e.prototype.onLoginResponse=function(t){if(l.default.getInstance().hide(),null!=t&&""!=t)if(0==t.status)cc.sys.localStorage.setItem("username",this.ebid.string.trim()),cc.sys.localStorage.setItem("password",this.pass.string.trim()),a.default.getInstance().parseUserInfo(t.data),cc.systemEvent.emit(s.default.EVENT_LOBBY.LOGIN_DONE);else if(100==t.status){cc.sys.localStorage.setItem("username",this.ebid.string.trim()),cc.sys.localStorage.setItem("password",this.pass.string.trim());var e=cc.instantiate(this.securityLogin);cc.director.getScene().addChild(e)}else this.enableNoti(a.default.getInstance().statusApiError(t.status)),gtag&&gtag("event","Login_Failed");else this.enableNoti(a.default.getInstance().statusApiError(-99))},e.prototype.onSecurityFB=function(){if(null==cc.director.getScene().getChildByName("SECURITY")){var t=cc.instantiate(this.securityLogin);t.name="SECURITY",cc.director.getScene().addChild(t)}},e.prototype.onBtnLogin=function(){var t=r.TextData[c.default.getInstance().UserData.textPackage],e=this.ebid.string.trim();if(e.length<1)this.enableNoti(t.null_username);else{var n=this.pass.string.trim();n.length<1?this.enableNoti(t.null_password):(l.default.getInstance().show(),a.default.getInstance().processLogin(e,n))}},e.prototype.onBtnFB=function(){cc.systemEvent.emit("FB_LOGIN_WEB")},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent(p.default).setContent(t),e.getComponent(p.default).showDialog(2),cc.director.getScene().addChild(e,u.GameConfigs.zOderGame.POP_UP)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([f(cc.EditBox)],e.prototype,"ebid",void 0),i([f(cc.EditBox)],e.prototype,"pass",void 0),i([f(cc.Prefab)],e.prototype,"securityLogin",void 0),i([f(cc.Prefab)],e.prototype,"notiPrefab",void 0),e=i([h],e)}(cc.Component);n.LoginController=_,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/UI/Notification":"Notification","./LoadingManager":"LoadingManager"}],LongdingController:[function(t,e,n){"use strict";cc._RF.push(e,"eb0446o91lKoqyHrelZHVXG","LongdingController");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameConfigs"),c=t("../../Common/Data/GameData"),s=t("../../Common/Network/WsHandler"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbPercent=null,e.loadingBar=null,e.background=null,e.mainLoad=null,e.unpackingText=null,e._counter=0,e._loadingStep=0,e._stepDone=0,e._isFirebaseAlready=!1,e._isAlreldyChangeScene=!1,e}return o(e,t),e.prototype.onLoad=function(){c.default.getInstance().startRoom()},e.prototype.update=function(t){if(!this._isAlreldyChangeScene){if(this._counter>=20){if(this.executeFromServer(),this._counter<50&&this.increasePercent(.01),this._counter<=99)return void this.increasePercent(1);this.lbPercent.string="\u0110ang gi\u1ea3i n\xe9n game, vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!",this._isFirebaseAlready&&(this._isAlreldyChangeScene=!0,this.unpackingText.active=!0,cc.director.preloadScene(a.GameConfigs.SceneName.Lobby,this.onPregress.bind(this),this.onPreloaded.bind(this)))}else this._counter++,this.lbPercent.string=this._counter+"%",this.loadingBar.progress=this._counter/100;this.lbPercent.string=this._counter.toFixed(2)+"%",this.loadingBar.progress=this._counter/100}},e.prototype.increasePercent=function(t){Math.ceil(this._counter)<100&&(this._counter+=t,this.lbPercent.string=Math.ceil(this._counter)+"%",this.loadingBar.progress=this._counter/100)},e.prototype.onPregress=function(t,e,n){var o=t/e,i=100*o;this.lbPercent.string=i.toFixed(1)+"%",this.loadingBar.progress=o},e.prototype.onPreloaded=function(t,e){cc.director.loadScene(a.GameConfigs.SceneName.Lobby)},e.prototype.executeFromServer=function(){switch(this._loadingStep){case 0:this.getConfigFireBase()}this._loadingStep+=1},e.prototype.getConfigFireBase=function(){var t=firebase.database().ref("WEB");t.once("value").then(function(e){var n=e.val();a.GameConfigs.server_config.link_authen=n.link_authen,a.GameConfigs.server_config.link_ws=n.link_ws;for(var o=0;o<6;o++)n.banner.hasOwnProperty(o.toString())&&a.GameConfigs.server_config.banner.push(n.banner[o.toString()]);if(""!=n.ads&&null!=n.ads)for(o=0;o<2;o++)n.ads.hasOwnProperty(o.toString())&&a.GameConfigs.server_config.ads.push(n.ads[o.toString()]);a.GameConfigs.server_config.transfer_fee=n.transfer_fee,a.GameConfigs.server_config.group=n.group,a.GameConfigs.server_config.fanpage=n.fanpage,a.GameConfigs.server_config.cash_out_fee=n.cash_out_fee,a.GameConfigs.server_config.account_kit=n.account_kit,a.GameConfigs.server_config.telegram=n.telegram,a.GameConfigs.server_config.hotline=n.hotline,a.GameConfigs.server_config.chat_admin=n.chat_admin,a.GameConfigs.server_config.time_change_vippoint=n.time_change_vippoint,a.GameConfigs.server_config.link_pc=n.link_pc,a.GameConfigs.server_config.forget_pass_telegram=n.forget_pass_telegram,a.GameConfigs.server_config.start_date_noel=n.start_date_noel,a.GameConfigs.server_config.end_date_noel=n.end_date_noel,a.GameConfigs.server_config.ev_chuot=n.ev_chuot,a.GameConfigs.server_config.enable_tab_event.enable_thanhdu=n.enable_tab_event.enable_thanhdu,a.GameConfigs.server_config.enable_tab_event.enable_tientri=n.enable_tab_event.enable_tientri,a.GameConfigs.server_config.enable_tab_event.enable_thandieu=n.enable_tab_event.enable_thandieu,a.GameConfigs.server_config.enable_tab_event.enable_xhu=n.enable_tab_event.enable_xhu,a.GameConfigs.server_config.enable_tab_event.enable_topvip=n.enable_tab_event.enable_topvip,a.GameConfigs.server_config.enable_tab_event.enable_nhiemvu=n.enable_tab_event.enable_nhiemvu;for(o=0;o<n.charge_info.length;o++)n.charge_info.hasOwnProperty(o.toString())&&a.GameConfigs.server_config.charge_info.push(n.charge_info[o.toString()]);s.WsHandler.getInstance().connect(),t.onDisconnect(),this._isFirebaseAlready=!0}.bind(this))},e.prototype.osName=function(){switch(cc.sys.os){case cc.sys.OS_ANDROID:return"ANDROID";case cc.sys.OS_IOS:return"IOS";case cc.sys.OS_WINDOWS:case cc.sys.OS_OSX:return"WEB";default:return""}},i([u(cc.Label)],e.prototype,"lbPercent",void 0),i([u(cc.ProgressBar)],e.prototype,"loadingBar",void 0),i([u(cc.Sprite)],e.prototype,"background",void 0),i([u(cc.Node)],e.prototype,"mainLoad",void 0),i([u(cc.Node)],e.prototype,"unpackingText",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Network/WsHandler":"WsHandler"}],MD5:[function(t,e,n){"use strict";cc._RF.push(e,"280d6zLIRVEEadtGY8T9Qyr","MD5"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){function e(t,e){var n=t[0],s=t[1],r=t[2],l=t[3];s=c(s=c(s=c(s=c(s=a(s=a(s=a(s=a(s=i(s=i(s=i(s=i(s=o(s=o(s=o(s=o(s,r=o(r,l=o(l,n=o(n,s,r,l,e[0],7,-680876936),s,r,e[1],12,-389564586),n,s,e[2],17,606105819),l,n,e[3],22,-1044525330),r=o(r,l=o(l,n=o(n,s,r,l,e[4],7,-176418897),s,r,e[5],12,1200080426),n,s,e[6],17,-1473231341),l,n,e[7],22,-45705983),r=o(r,l=o(l,n=o(n,s,r,l,e[8],7,1770035416),s,r,e[9],12,-1958414417),n,s,e[10],17,-42063),l,n,e[11],22,-1990404162),r=o(r,l=o(l,n=o(n,s,r,l,e[12],7,1804603682),s,r,e[13],12,-40341101),n,s,e[14],17,-1502002290),l,n,e[15],22,1236535329),r=i(r,l=i(l,n=i(n,s,r,l,e[1],5,-165796510),s,r,e[6],9,-1069501632),n,s,e[11],14,643717713),l,n,e[0],20,-373897302),r=i(r,l=i(l,n=i(n,s,r,l,e[5],5,-701558691),s,r,e[10],9,38016083),n,s,e[15],14,-660478335),l,n,e[4],20,-405537848),r=i(r,l=i(l,n=i(n,s,r,l,e[9],5,568446438),s,r,e[14],9,-1019803690),n,s,e[3],14,-187363961),l,n,e[8],20,1163531501),r=i(r,l=i(l,n=i(n,s,r,l,e[13],5,-1444681467),s,r,e[2],9,-51403784),n,s,e[7],14,1735328473),l,n,e[12],20,-1926607734),r=a(r,l=a(l,n=a(n,s,r,l,e[5],4,-378558),s,r,e[8],11,-2022574463),n,s,e[11],16,1839030562),l,n,e[14],23,-35309556),r=a(r,l=a(l,n=a(n,s,r,l,e[1],4,-1530992060),s,r,e[4],11,1272893353),n,s,e[7],16,-155497632),l,n,e[10],23,-1094730640),r=a(r,l=a(l,n=a(n,s,r,l,e[13],4,681279174),s,r,e[0],11,-358537222),n,s,e[3],16,-722521979),l,n,e[6],23,76029189),r=a(r,l=a(l,n=a(n,s,r,l,e[9],4,-640364487),s,r,e[12],11,-421815835),n,s,e[15],16,530742520),l,n,e[2],23,-995338651),r=c(r,l=c(l,n=c(n,s,r,l,e[0],6,-198630844),s,r,e[7],10,1126891415),n,s,e[14],15,-1416354905),l,n,e[5],21,-57434055),r=c(r,l=c(l,n=c(n,s,r,l,e[12],6,1700485571),s,r,e[3],10,-1894986606),n,s,e[10],15,-1051523),l,n,e[1],21,-2054922799),r=c(r,l=c(l,n=c(n,s,r,l,e[8],6,1873313359),s,r,e[15],10,-30611744),n,s,e[6],15,-1560198380),l,n,e[13],21,1309151649),r=c(r,l=c(l,n=c(n,s,r,l,e[4],6,-145523070),s,r,e[11],10,-1120210379),n,s,e[2],15,718787259),l,n,e[9],21,-343485551),t[0]=h(n,t[0]),t[1]=h(s,t[1]),t[2]=h(r,t[2]),t[3]=h(l,t[3])}function n(t,e,n,o,i,a){return e=h(h(e,t),h(o,a)),h(e<<i|e>>>32-i,n)}function o(t,e,o,i,a,c,s){return n(e&o|~e&i,t,e,a,c,s)}function i(t,e,o,i,a,c,s){return n(e&i|o&~i,t,e,a,c,s)}function a(t,e,o,i,a,c,s){return n(e^o^i,t,e,a,c,s)}function c(t,e,o,i,a,c,s){return n(o^(e|~i),t,e,a,c,s)}function s(t){var n,o=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)e(i,r(t.substring(n-64,n)));t=t.substring(n-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)a[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(a[n>>2]|=128<<(n%4<<3),n>55)for(e(i,a),n=0;n<16;n++)a[n]=0;return a[14]=8*o,e(i,a),i}function r(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var l="0123456789abcdef".split("");function u(t){for(var e="",n=0;n<4;n++)e+=l[t>>8*n+4&15]+l[t>>8*n&15];return e}function p(t){for(var e=0;e<t.length;e++)t[e]=u(t[e]);return t.join("")}function d(t){return p(s(t))}var h=function(t,e){return t+e&4294967295};"5d41402abc4b2a76b9719d911017c592"!=d("hello")&&(h=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}),t.encrypt=function(t){return d(t)}}(n.MD5||(n.MD5={})),cc._RF.pop()},{}],MailBox:[function(t,e,n){"use strict";cc._RF.push(e,"44ed35GjGJLypblvUHYB0/p","MailBox");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Network/ConnectHandler"),c=t("../../Common/UI/Notification"),s=t("../../Common/Data/GameConfigs"),r=t("../../Common/Data/LabelHelperConfigs"),l=t("../../Common/Data/GameData"),u=t("./MailContent"),p=t("../../Common/Data/Constants"),d=t("./LoadingManager"),h=t("../../Common/Utilities/Utility"),f=cc._decorator,_=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mailCell=null,e.notiPrefab=null,e.contentSystem=null,e.scvSystem=null,e.mailContent=null,e.language=null,e.listMail=[],e.deleteMail=null,e.mailCont=null,e}return o(e,t),e.prototype.onLoad=function(){d.default.getInstance().show(),this.language=r.TextData[l.default.getInstance().UserData.textPackage],this.getMailBox(),cc.systemEvent.on(p.default.EVENT_API.GET_MAILBOX,this.onGetMailBoxResponse.bind(this),this),cc.systemEvent.on(p.default.EVENT_API.DELETE_MAILBOX,this.onDeleteMailBoxResponse.bind(this),this),cc.systemEvent.on(p.default.EVENT_API.READ_MAILBOX,this.onReadMailBoxResponse.bind(this),this),cc.systemEvent.on(p.default.EVENT_API.GET_AWARD_MAILBOX,this.onGetAwardMailResponse.bind(this),this)},e.prototype.onGetAwardMailResponse=function(t){if(d.default.getInstance().hide(),null!=t)if(0==t.status){var e="Ch\xfac m\u1eebng b\u1ea1n nh\u1eadn \u0111\u01b0\u1ee3c "+h.Utility.getInstance().numberToCurrency(t.data.money);this.enableNoti(e),cc.systemEvent.emit(p.default.EVENT_LOBBY.UPDATE_BALANCE,t.data.balance)}else this.enableNoti(a.default.getInstance().statusApiError(t.status));else this.enableNoti(this.language.system_busy)},e.prototype.onDeleteMailBoxResponse=function(t){d.default.getInstance().hide(),null!=t?(this.enableNoti(a.default.getInstance().statusApiError(t.status)),0==t.status&&(this.deleteMail.destroy(),this.deleteMail.removeFromParent(!0),this.mailContent.active=!1,l.default.getInstance().UserData.number_mail-=1,cc.systemEvent.emit(p.default.EVENT_LOBBY.NOTI_MAIL,l.default.getInstance().UserData.number_mail))):this.enableNoti(this.language.system_busy)},e.prototype.onGetMailBoxResponse=function(t){var e=this;if(d.default.getInstance().hide(),null!=t){if(0==t.status){this.listMail=t.data.list_mail;for(var n=function(t){var n=cc.instantiate(o.mailCell);n.getChildByName("ic_new").active=0==t.is_read,n.getChildByName("lbTitle").getComponent(cc.Label).string=t.title,n.getChildByName("lbTime").getComponent(cc.Label).string=t.create_date,n.getChildByName("lbFrom").getComponent(cc.Label).string=o.parseMailType(t.mail_type),n.getChildByName("btn").on(cc.Node.EventType.TOUCH_END,function(o){for(var i=0,a=e.contentSystem.children;i<a.length;i++){a[i].getChildByName("select").active=!1}t.is_read||(t.is_read=!0,n.getChildByName("ic_new").active=!1,l.default.getInstance().UserData.number_mail-=1,cc.systemEvent.emit(p.default.EVENT_LOBBY.NOTI_MAIL,l.default.getInstance().UserData.number_mail)),n.getChildByName("select").active=!0,e.deleteMail=n,e.mailContent.active=!0,e.mailCont=e.mailContent.getComponent(u.default),e.mailCont.readMail(t)}),o.contentSystem.addChild(n)},o=this,i=0,a=this.listMail;i<a.length;i++){n(a[i])}this.scvSystem.scrollToTop(.1)}}else this.enableNoti(this.language.system_busy)},e.prototype.onReadMailBoxResponse=function(t){if(null!=t&&0==t.status){if(null==this.mailCont)return;this.mailCont.setProperties(t.data)}},e.prototype.getMailBox=function(){a.default.getInstance().processGetMailBox()},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent(c.default).setContent(t),e.getComponent(c.default).showDialog(2),cc.director.getScene().addChild(e,s.GameConfigs.zOderGame.POP_UP)},e.prototype.parseMailType=function(t){switch(t){case 1:return"H\u1ec7 th\u1ed1ng";case 2:return"Nh\xe0 ph\xe1t h\xe0nh";case 3:return"S\u1ef1 ki\u1ec7n"}},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([g(cc.Prefab)],e.prototype,"mailCell",void 0),i([g(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([g(cc.Node)],e.prototype,"contentSystem",void 0),i([g(cc.ScrollView)],e.prototype,"scvSystem",void 0),i([g(cc.Node)],e.prototype,"mailContent",void 0),e=i([_],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/UI/Notification":"Notification","../../Common/Utilities/Utility":"Utility","./LoadingManager":"LoadingManager","./MailContent":"MailContent"}],MailContent:[function(t,e,n){"use strict";cc._RF.push(e,"b7e02v9V1pFKLoRK1tX7LJn","MailContent");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Network/ConnectHandler"),c=t("./LoadingManager"),s=t("../../Common/Data/GameConfigs"),r=t("./Giftcode"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbContent=null,e.lbTitle=null,e.btnGet=null,e.lbFrom=null,e.lbTime=null,e.giftCodePrefab=null,e.gift="",e.gameId=0,e.mail=null,e.money=0,e.code="",e}return o(e,t),e.prototype.setProperties=function(t){this.lbContent.string=t.content,this.btnGet.interactable=1!=t.is_get,this.lbTime.string=t.create_date,this.lbTitle.string=t.title,this.lbFrom.string=this.parseMailType(t.mail_type),(t.money>0||""!=t.giftcode)&&(this.btnGet.node.active=!0),this.money=t.money,this.code=t.giftcode},e.prototype.readMail=function(t){this.mail=t,this.gameId=t.mail_type,a.default.getInstance().processReadMail(t.mailid)},e.prototype.onBtnGet=function(t){if(this.money>0&&(c.default.getInstance().show(),this.btnGet.interactable=!1,a.default.getInstance().processGetAwardMail(this.mail.mailid)),""!=this.code){var e=cc.instantiate(this.giftCodePrefab),n=cc.winSize;e.x=n.width/2,e.y=n.height/2,e.getComponent(r.default).setGiftcode(this.code),cc.director.getScene().addChild(e,s.GameConfigs.zOderGame.POP_UP)}},e.prototype.onBtnDelete=function(t){c.default.getInstance().show(),a.default.getInstance().processDeleteMail(this.mail.mailid)},e.prototype.onBtnPlay=function(){c.default.getInstance().show(),cc.audioEngine.stopMusic()},e.prototype.parseMailType=function(t){switch(t){case 1:return"H\u1ec7 th\u1ed1ng";case 2:return"Nh\xe0 ph\xe1t h\xe0nh";case 3:return"S\u1ef1 ki\u1ec7n"}},i([p(cc.RichText)],e.prototype,"lbContent",void 0),i([p(cc.Label)],e.prototype,"lbTitle",void 0),i([p(cc.Button)],e.prototype,"btnGet",void 0),i([p(cc.Label)],e.prototype,"lbFrom",void 0),i([p(cc.Label)],e.prototype,"lbTime",void 0),i([p(cc.Prefab)],e.prototype,"giftCodePrefab",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","./Giftcode":"Giftcode","./LoadingManager":"LoadingManager"}],Merchant:[function(t,e,n){"use strict";cc._RF.push(e,"27a4fofxWBHlbwfA70XW58F","Merchant");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Network/ConnectHandler"),c=t("../../Common/Data/Constants"),s=t("./Payment"),r=t("./Transfer"),l=t("./LoadingManager"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cell=null,e.content=null,e.rootNode=null,e.transfer=null,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(c.default.EVENT_API.LIST_MERCHANT,this.onGetListMerchant.bind(this),this)},e.prototype.onEnable=function(){l.default.getInstance().show(),this.content.removeAllChildren(!0),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){a.default.getInstance().processListMerchant()})))},e.prototype.onGetListMerchant=function(t){var e=this;if(l.default.getInstance().hide(),null!=t&&0==t.status)for(var n=0,o=function(t){var o=cc.instantiate(i.cell);++n%2==0?o.getChildByName("1").active=!0:o.getChildByName("2").active=!0,o.getChildByName("stt").getComponent(cc.Label).string=n+"",o.getChildByName("name").getComponent(cc.Label).string=t.name,o.getChildByName("location").getComponent(cc.Label).string=t.location,o.getChildByName("id").getComponent(cc.Label).string=t.id+"",o.getChildByName("phone").getComponent(cc.Label).string=t.phone,o.getChildByName("fb").on(cc.Node.EventType.TOUCH_END,function(){cc.sys.openURL(t.fb)}),o.getChildByName("trans").on(cc.Node.EventType.TOUCH_END,function(){e.rootNode.setToSelection(2),e.transfer.setTransferMerchant(t.id,t.name)}),i.content.addChild(o)},i=this,a=0,c=t.data;a<c.length;a++){o(c[a])}},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([d(cc.Prefab)],e.prototype,"cell",void 0),i([d(cc.Node)],e.prototype,"content",void 0),i([d(s.default)],e.prototype,"rootNode",void 0),i([d(r.default)],e.prototype,"transfer",void 0),e=i([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Network/ConnectHandler":"ConnectHandler","./LoadingManager":"LoadingManager","./Payment":"Payment","./Transfer":"Transfer"}],MiniGameController:[function(t,e,n){"use strict";cc._RF.push(e,"5d519xunVRNxbWZui4xB1GY","MiniGameController");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utilities/Utility"),c=t("./IconMiniGame"),s=t("../../Common/Data/GameConfigs"),r=t("../../Common/Data/Constants"),l=t("../../Common/Network/WsHandler"),u=t("../../TaiXiu/Scripts/TaiXiuHandler"),p=t("../../Hilow/scripts/HLHandler"),d=t("../../MiniPoker/Scripts/HandlerMinipoker"),h=t("../../Aladin/Scripts/ThinhKinhHandler"),f=t("../../Gold/src/BupgHandler"),_=t("../../TaiXiu/Scripts/ChatHandler"),g=t("../../Common/UI/Notification"),m=t("../../Lobby/Scripts/LoadingManager"),y=t("../../Common/Data/GameData"),v=t("../../Common/UI/NumberRun"),b=t("../../PhongThan/Scripts/PhongThanHandler"),C=t("../../scenemanager/scripts/SceneManager"),T=cc._decorator,I=T.ccclass,P=T.property,N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeRootMiniGame=null,e.btnIconMiniGame=null,e.prefabIconMiniGame=null,e.prefabHilow=null,e.prefabBupg=null,e.prefabKeoNgot=null,e.prefabTaiXiu=null,e.prefabMiniPoker=null,e.prefabThienDia=null,e.countdown=null,e.btnJackpot=null,e.btnEventTet=null,e.bgJP=null,e.nodeWin=null,e.nodeLose=null,e.notiPrefab=null,e.lbKNB=null,e.lbPTPoint=null,e.PhongThanSpin=null,e.focusGame="",e}return o(e,t),e.getInstance=function(){return this.Instance},e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),this.addTouch(),this.btnIconMiniGame.zIndex=s.GameConfigs.zOderGame.ICON,this.nodeRootMiniGame.zIndex=s.GameConfigs.zOderGame.HANDLE_MINI,cc.systemEvent.on(r.default.EVENT_LOBBY.SHOW_ICON_MINI_GAME,this.showIconMiniGame.bind(this),this),cc.systemEvent.on(r.default.EVENT_LOBBY.LOG_OUT,this.clearAll.bind(this),this),cc.systemEvent.on(r.default.EVENT_LOBBY.OPEN_TX,this.openMiniGame.bind(this),this),cc.systemEvent.on(r.default.EVENT_LOBBY.OPEN_BABA,this.openMiniGame.bind(this),this),cc.systemEvent.on(r.default.EVENT_LOBBY.OPEN_DV,this.openMiniGame.bind(this),this),cc.systemEvent.on(r.default.EVENT_LOBBY.OPEN_HL,this.openMiniGame.bind(this),this),cc.systemEvent.on(r.default.EVENT_LOBBY.OPEN_MP,this.openMiniGame.bind(this),this),cc.systemEvent.on(r.default.EVENT_LOBBY.OPEN_TD,this.openMiniGame.bind(this),this),cc.systemEvent.on(r.default.EVENT_TAIXIU.TAIXIU_HANDLER+"pergame",this.updatePerGameTX.bind(this),this),cc.systemEvent.on(r.default.EVENT_LOBBY.CLOSE_JP,this.onCloseJP.bind(this),this),cc.systemEvent.on(r.default.EVENT_TAIXIU.WIN_EVENT,this.onWinEventTX.bind(this),this),cc.systemEvent.on(r.default.EVENT_TAIXIU.LOSE_EVENT,this.onLoseEventTX.bind(this),this),cc.systemEvent.on(r.default.EVENT_LOBBY.HIDE_JP,this.hideJP.bind(this),this),cc.systemEvent.on(r.default.EVENT_LOBBY.SHOW_JP,this.showBGJP.bind(this),this),cc.systemEvent.on(r.default.EVENT_LOBBY.CHOSE_MINI,this.onChoseMiniGame.bind(this),this),cc.systemEvent.on(r.default.EVENT_API.GET_BALANCE,this.onGetBalance.bind(this),this),cc.systemEvent.on(r.default.EVENT_LOBBY.RECEIVE_TRANSFER,this.onReceiveTransfer.bind(this),this),cc.systemEvent.on(r.default.PT_EVENT.ACCOUNT_INFO,this.onInfoPT.bind(this),this),cc.systemEvent.on(r.default.PT_EVENT.ON_MESS,this.onMessPT.bind(this),this)},e.prototype.onMessPT=function(t){this.enableNoti(t)},e.prototype.onInfoPT=function(){var t=b.PhongThanHandler.getInstance().accountInfo;1==t.is_new&&this.enableNoti("Ch\xfac m\u1eebng b\u1ea1n nh\u1eadn \u0111\u01b0\u1ee3c 5 Kim Nguy\xean B\u1ea3o"),this.lbKNB.string=a.Utility.getInstance().numberToCurrency(t.knb),this.lbPTPoint.string=a.Utility.getInstance().numberToCurrency(t.point)},e.prototype.onChoseMiniGame=function(t){if(this.focusGame!=t)for(var e=0,n=this.nodeRootMiniGame.children;e<n.length;e++){var o=n[e];o.name==t?(o.opacity=255,"TAIXIU"==o.name?o.scale=.95:o.scale=.8,this.focusGame=t):(o.opacity=204,o.scale=.6)}},e.prototype.onReceiveTransfer=function(t){if(null!=t){var e=y.default.getInstance().UserData.balance+t.amount;cc.systemEvent.emit(r.default.EVENT_LOBBY.UPDATE_BALANCE,e),this.enableNoti("B\u1ea1n v\u1eeba nh\u1eadn \u0111\u01b0\u1ee3c "+a.Utility.getInstance().numberToCurrency(t.amount)+" LONG t\u1eeb ID: "+t.sender)}},e.prototype.onGetBalance=function(t){m.default.getInstance().hide(),null!=t&&0==t.status&&(cc.systemEvent.emit(r.default.EVENT_LOBBY.UPDATE_BALANCE,t.data.balance),this.enableNoti("Ch\xfac m\u1eebng b\u1ea1n n\u1ea1p th\xe0nh c\xf4ng"))},e.prototype.onWinEventTX=function(t){if(null==this.nodeRootMiniGame.getChildByName("WINTX")){var e=cc.instantiate(this.nodeWin),n=e.children[1];e.name="WINTX",n.getChildByName("nick").getComponent(cc.Label).string="Ch\xfac m\u1eebng "+t.nick+" nh\u1eadn",n.getChildByName("balance").getComponent(v.default).money=t.balance,this.nodeRootMiniGame.addChild(e,r.default.zOderGame.POP_UP)}},e.prototype.onLoseEventTX=function(t){if(null==this.nodeRootMiniGame.getChildByName("LOSETX")){var e=cc.instantiate(this.nodeLose),n=e.children[1];e.name="LOSETX",n.getChildByName("nick").getComponent(cc.Label).string="Ch\xfac m\u1eebng "+t.nick+" nh\u1eadn",n.getChildByName("balance").getComponent(v.default).money=t.balance,this.nodeRootMiniGame.addChild(e,r.default.zOderGame.POP_UP)}},e.prototype.onCloseJP=function(){this.bgJP.active=!1,this.btnJackpot.active=!0},e.prototype.hideJP=function(t){1==t?(this.bgJP.active=!1,this.btnJackpot.active=!0):(this.bgJP.active=t,this.btnJackpot.active=t)},e.prototype.updatePerGameTX=function(){var t=u.default.getInstance().perGame;2==t.game_status?(t.remain_waiting>=10?this.countdown.string="00:"+t.remain_waiting:this.countdown.string="00:0"+t.remain_waiting,this.countdown.node.color=cc.Color.RED):(t.remain_betting>=10?this.countdown.string="00:"+t.remain_betting:this.countdown.string="00:0"+t.remain_betting,this.countdown.node.color=cc.color(244,252,156))},e.prototype.clearAll=function(){var t=this;u.default.getInstance().close(),_.ChatHandler.getInstance().close(),this.btnEventTet.active=!1,b.PhongThanHandler.getInstance().close(),this.nodeRootMiniGame.children.forEach(function(t){t.destroy()});var e=setInterval(function(){0==t.nodeRootMiniGame.children.length&&(l.WsHandler.getInstance().logout(),clearTimeout(e))},200)},e.prototype.showIconMiniGame=function(t){this.btnIconMiniGame.active=t,this.btnJackpot.active=t,cc.director.getScene().name!=s.GameConfigs.SceneName.PhongThan&&(this.btnEventTet.active=0!=s.GameConfigs.server_config.ev_chuot&&t)},e.prototype.addTouch=function(){var t=this;this.btnIconMiniGame.on(cc.Node.EventType.TOUCH_END,function(e){a.Utility.getInstance().distanceTwoPoint(e.getStartLocation(),e.getLocation())<10&&t.showIcon()}),this.btnIconMiniGame.on(cc.Node.EventType.TOUCH_MOVE,function(e){var n=e.getDelta();t.btnIconMiniGame.x+=n.x,t.btnIconMiniGame.y+=n.y}),this.btnJackpot.on(cc.Node.EventType.TOUCH_END,function(e){a.Utility.getInstance().distanceTwoPoint(e.getStartLocation(),e.getLocation())<10&&t.showBGJP()}),this.btnJackpot.on(cc.Node.EventType.TOUCH_MOVE,function(e){var n=e.getDelta();t.btnJackpot.x+=n.x,t.btnJackpot.y+=n.y}),this.btnEventTet.on(cc.Node.EventType.TOUCH_END,function(e){a.Utility.getInstance().distanceTwoPoint(e.getStartLocation(),e.getLocation())<10&&t.showEventTet()}),this.btnEventTet.on(cc.Node.EventType.TOUCH_MOVE,function(e){var n=e.getDelta();t.btnEventTet.x+=n.x,t.btnEventTet.y+=n.y})},e.prototype.showEventTet=function(){var t=this,e=cc.director.getScene().name;if("New Node"==e&&(e=s.GameConfigs.SceneName.Lobby),e!=s.GameConfigs.SceneName.Lobby){if(!cc.director.getScene().getChildByName("PHONGTHAN")){var n=cc.instantiate(this.PhongThanSpin),o=cc.winSize;n.name="PHONGTHAN",n.x=o.width/2,n.y=o.height/2,cc.director.getScene().addChild(n,s.GameConfigs.zOderGame.POP_UP)}}else cc.audioEngine.stopMusic(),b.PhongThanHandler.getInstance().isConnect&&(C.clientdev.SceneManager.Instance.LoadScenePhongThan(s.GameConfigs.SceneName.PhongThan,function(){t.showIconMiniGame(!0),t.btnEventTet.active=!1}),m.default.getInstance().hide())},e.prototype.showBGJP=function(){this.btnJackpot.active=!1,this.btnEventTet.active=0!=s.GameConfigs.server_config.ev_chuot,this.bgJP.active=!this.bgJP.active},e.prototype.showIcon=function(){var t=this;if(!this.nodeRootMiniGame.getChildByName("IconMiniGame")){this.btnIconMiniGame.active=!1;var e=cc.instantiate(this.prefabIconMiniGame);this.nodeRootMiniGame.addChild(e,s.GameConfigs.zOderGame.BIGICON),e.scale=.3,e.name="IconMiniGame",e.setPosition(this.btnIconMiniGame.getPosition()),e.runAction(cc.spawn(cc.moveTo(.4,0,0),cc.scaleTo(.4,1),cc.rotateBy(.4,720))),e.getComponent(c.IconMiniGame).callMiniGame=function(e){t.selectMiniGame(e)}}},e.prototype.selectMiniGame=function(t){switch(t=parseInt(t)){case s.GameConfigs.GameId.ThinhKinh:this.openMiniGame("THINHKINH");break;case s.GameConfigs.GameId.ThienThu:this.openMiniGame("THIENTHU");break;case s.GameConfigs.GameId.TaiXiu:this.openMiniGame("TAIXIU");break;case s.GameConfigs.GameId.Hilow:this.openMiniGame("HILOW");break;case s.GameConfigs.GameId.Minipoker:this.openMiniGame("MINIPOKER")}},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},e.prototype.openMiniGame=function(t){this.nodeRootMiniGame.getChildByName(t)?m.default.getInstance().hide():this.addMiniGame(t)},e.prototype.closeMiniGame=function(t){var e=this.nodeRootMiniGame.getChildByName(t);e&&e.destroy()},e.prototype.closeAllMiniGame=function(){this.nodeRootMiniGame.removeAllChildren(!0)},e.prototype.addMiniGame=function(t){var e=this;if("TAIXIU"==t&&u.default.getInstance().isConnect){m.default.getInstance().hide();var n=cc.instantiate(this.prefabTaiXiu);return n.name=t,void this.nodeRootMiniGame.addChild(n,s.GameConfigs.zOderGame.MINIGAME)}var o=null,i="",a=null;switch(t){case"THIENTHU":o=this.prefabBupg,i=s.GameConfigs.WSGameName.ThienThu,a=f.BupgHandler.getInstance();break;case"THINHKINH":o=this.prefabKeoNgot,i=s.GameConfigs.WSGameName.ThinhKinh,a=h.ThinhKinhHandler.getInstance();break;case"TAIXIU":o=this.prefabTaiXiu,i=s.GameConfigs.WSGameName.TaiXiu,a=u.default.getInstance();break;case"MINIPOKER":o=this.prefabMiniPoker,i=s.GameConfigs.WSGameName.MiniPoker,a=d.default.getInstance();break;case"HILOW":o=this.prefabHilow,i=s.GameConfigs.WSGameName.Hilow,a=p.HLHandler.getInstance()}cc.systemEvent.once(i+"join_game",function(n){if((m.default.getInstance().hide(),!(n.code<0))&&!e.nodeRootMiniGame.getChildByName(t)){var i=cc.instantiate(o);i.name=t,e.nodeRootMiniGame.addChild(i,s.GameConfigs.zOderGame.MINIGAME),e.onChoseMiniGame(t)}}),a.connect()},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent(g.default).setContent(t),e.getComponent(g.default).showDialog(2),cc.director.getScene().addChild(e,s.GameConfigs.zOderGame.POP_UP)},e.Instance=null,i([P(cc.Node)],e.prototype,"nodeRootMiniGame",void 0),i([P(cc.Node)],e.prototype,"btnIconMiniGame",void 0),i([P(cc.Prefab)],e.prototype,"prefabIconMiniGame",void 0),i([P(cc.Prefab)],e.prototype,"prefabHilow",void 0),i([P(cc.Prefab)],e.prototype,"prefabBupg",void 0),i([P(cc.Prefab)],e.prototype,"prefabKeoNgot",void 0),i([P(cc.Prefab)],e.prototype,"prefabTaiXiu",void 0),i([P(cc.Prefab)],e.prototype,"prefabMiniPoker",void 0),i([P(cc.Prefab)],e.prototype,"prefabThienDia",void 0),i([P(cc.Label)],e.prototype,"countdown",void 0),i([P(cc.Node)],e.prototype,"btnJackpot",void 0),i([P(cc.Node)],e.prototype,"btnEventTet",void 0),i([P(cc.Node)],e.prototype,"bgJP",void 0),i([P(cc.Prefab)],e.prototype,"nodeWin",void 0),i([P(cc.Prefab)],e.prototype,"nodeLose",void 0),i([P(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([P(cc.Label)],e.prototype,"lbKNB",void 0),i([P(cc.Label)],e.prototype,"lbPTPoint",void 0),i([P(cc.Prefab)],e.prototype,"PhongThanSpin",void 0),e=i([I],e)}(cc.Component);n.MiniGameController=N,cc._RF.pop()},{"../../Aladin/Scripts/ThinhKinhHandler":"ThinhKinhHandler","../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Network/WsHandler":"WsHandler","../../Common/UI/Notification":"Notification","../../Common/UI/NumberRun":"NumberRun","../../Common/Utilities/Utility":"Utility","../../Gold/src/BupgHandler":"BupgHandler","../../Hilow/scripts/HLHandler":"HLHandler","../../Lobby/Scripts/LoadingManager":"LoadingManager","../../MiniPoker/Scripts/HandlerMinipoker":"HandlerMinipoker","../../PhongThan/Scripts/PhongThanHandler":"PhongThanHandler","../../TaiXiu/Scripts/ChatHandler":"ChatHandler","../../TaiXiu/Scripts/TaiXiuHandler":"TaiXiuHandler","../../scenemanager/scripts/SceneManager":"SceneManager","./IconMiniGame":"IconMiniGame"}],MiniPokerPrize:[function(t,e,n){"use strict";cc._RF.push(e,"362a5SJP4lHFYmM+X9JOvdp","MiniPokerPrize");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("./MiniPoker"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.smallNode=null,e.smallLblPrize=null,e.bigNode=null,e.bigLblPrize=null,e.spr1=null,e.spr2=null,e.spr3=null,e.spr4=null,e.spr5=null,e.spr6=null,e.spr7=null,e.spr8=null,e.spr9=null,e.MinipolerNode=null,e.animCallback=null,e}return o(e,t),e.prototype.resetAnim=function(){this.smallNode.active=!1,this.bigNode.active=!1,this.spr1.active=!1,this.spr2.active=!1,this.spr3.active=!1,this.spr4.node.active=!1,this.spr5.node.active=!1,this.spr6.node.active=!1,this.spr7.node.active=!1,this.spr8.node.active=!1,this.spr9.node.active=!1,this.node.stopAllActions()},e.prototype.showPrize=function(t,e){this.resetAnim(),1==t&&(this.MinipolerNode._isAuto=!1,this.MinipolerNode._isFast=!1),1==t||2==t||3==t?this.animBigPrize(t,e):this.animSmallPrize(t,e)},e.prototype.animBigPrize=function(t,e){var n=this;this.bigNode.active=!0,this["spr"+t].active=!0,this.bigLblPrize.targetValue=0,this.node.runAction(cc.sequence(cc.delayTime(1.4),cc.callFunc(function(){n.bigLblPrize.node.active=!0,n.bigLblPrize.runNumberMini(e,!1,1)}),cc.delayTime(4.5),cc.callFunc(function(){n.bigLblPrize.node.active=!1,n.bigNode.active=!1,n.animCallback&&n.animCallback()})))},e.prototype.animSmallPrize=function(t,e){var n=this;this.smallNode.active=!0,this["spr"+t].node.active=!0,this.smallLblPrize.targetValue=0,this.smallLblPrize.runNumberMini(e,!1,1),this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){n.smallNode.active=!1,n.animCallback&&n.animCallback()})))},i([l(cc.Node)],e.prototype,"smallNode",void 0),i([l(a.default)],e.prototype,"smallLblPrize",void 0),i([l(cc.Node)],e.prototype,"bigNode",void 0),i([l(a.default)],e.prototype,"bigLblPrize",void 0),i([l(cc.Node)],e.prototype,"spr1",void 0),i([l(cc.Node)],e.prototype,"spr2",void 0),i([l(cc.Node)],e.prototype,"spr3",void 0),i([l(cc.Sprite)],e.prototype,"spr4",void 0),i([l(cc.Sprite)],e.prototype,"spr5",void 0),i([l(cc.Sprite)],e.prototype,"spr6",void 0),i([l(cc.Sprite)],e.prototype,"spr7",void 0),i([l(cc.Sprite)],e.prototype,"spr8",void 0),i([l(cc.Sprite)],e.prototype,"spr9",void 0),i([l(c.default)],e.prototype,"MinipolerNode",void 0),e=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Common/UI/NumberRun":"NumberRun","./MiniPoker":"MiniPoker"}],MiniPokerWild:[function(t,e,n){"use strict";cc._RF.push(e,"172f8ywesBCjKGIhlRrPkZv","MiniPokerWild"),cc._RF.pop()},{}],MiniPoker:[function(t,e,n){"use strict";cc._RF.push(e,"b80c1HyOapIarv6+fZLJzwK","MiniPoker");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./MiniPokerPrize"),c=t("./HandlerMinipoker"),s=t("../../Common/UI/PopupInterface"),r=t("../../Common/Data/Constants"),l=t("../../Common/UI/NumberRun"),u=t("../../Common/Data/GameData"),p=t("../../Common/Data/GameConfigs"),d=t("../../Common/Data/LabelHelperConfigs"),h=t("../../Common/UI/Notification"),f=t("../../Common/Network/WsHandler"),_=cc._decorator,g=_.ccclass,m=_.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnSpin=null,e.btnAuto=null,e.BtnBack=null,e.SprBtnRoom=[],e.sprAutoStop=null,e.btnFast=null,e.sprFastStop=null,e.listRoom=null,e.lbJackpot=null,e.lbGameSession=null,e.scrollAnim=null,e.listScrollView=null,e.prizeNode=null,e.popUpHistoryTrade=null,e.popUpReward=null,e.popUpTopAnhTai=null,e.sprSpindisable=null,e.notiPrefab=null,e.roomID=1,e._moneyRoom=100,e._listLastJackpot=[0,0,0],e._isScrolling=!1,e._isAuto=!1,e._isFast=!1,e.wsMiniPoker=null,e.cardAtlas=null,e.language=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.node.getComponent(s.default).addTouchMove(),this.wsMiniPoker=c.default.getInstance(),this.wsMiniPoker.init(this),this.node.on(cc.Node.EventType.TOUCH_START,function(){t.node.zIndex=p.GameConfigs.zOderGame.MINIGAME++}).bind(this),cc.systemEvent.on(p.GameConfigs.JPName.MiniPoker,this.onPushJackpot.bind(this),this);var e=f.WsHandler.getInstance().listJPAll.filter(function(t){return t.name===p.GameConfigs.JPName.MiniPoker})[0];e&&this.onPushJackpot(e.value.split(",")),this.scrollAnim.setCompleteListener(this.endScroll.bind(this)),this.prizeNode.animCallback=this.afterScroll.bind(this),this.onBtnRoom(null,1),this.language=d.TextData[u.default.getInstance().UserData.textPackage]},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this),this.wsMiniPoker.closeWs()},e.prototype.onPushJackpot=function(t){this._listLastJackpot=t,t&&t[this.roomID-1]&&(this.lbJackpot.money=t[this.roomID-1])},e.prototype.onBtnSpin=function(){if(u.default.getInstance().UserData.balance<this._moneyRoom)return this.showNotMoney(),this._isAuto=!1,void(this._isFast=!1);this._isScrolling||(this.wsMiniPoker.processSpin(this.roomID),this._isScrolling=!0,this.sprSpindisable.active=!0,this.btnSpin.interactable=!1,this.BtnBack.interactable=!1,this.btnAuto.interactable=this._isAuto,this.btnFast.interactable=this._isFast)},e.prototype.showNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent(h.default).setContent(t),e.getComponent(h.default).showDialog(2),cc.director.getScene().addChild(e,p.GameConfigs.zOderGame.POP_UP)},e.prototype.showNotMoney=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent(h.default).setContent(this.language.no_enough_balance),t.getComponent(h.default).showNotMoney(),cc.director.getScene().addChild(t,p.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnAuto=function(){if(this._isAuto=!this._isAuto,this._isAuto&&!this._isScrolling&&this.onBtnSpin(),this._isScrolling&&!this._isAuto&&(this.btnAuto.interactable=!1),u.default.getInstance().UserData.balance>=this._moneyRoom)return this.btnFast.interactable=!1,this.sprAutoStop.active=this._isAuto,this.btnSpin.interactable=!1,this.BtnBack.interactable=!1,void(this.sprSpindisable.active=!0);this._isAuto=!this._isAuto},e.prototype.onBtnFast=function(){if(this._isFast=!this._isFast,this._isFast&&!this._isScrolling&&this.onBtnSpin(),this._isScrolling&&!this._isFast&&(this.btnFast.interactable=!1),u.default.getInstance().UserData.balance>=this._moneyRoom)return this.btnAuto.interactable=!1,this.sprFastStop.active=this._isFast,this.btnSpin.interactable=!1,this.BtnBack.interactable=!1,void(this.sprSpindisable.active=!0);this._isFast=!this._isFast},e.prototype.onBtnRoom=function(t,e){if(!this._isScrolling){for(var n=this.listRoom.children,o=0;o<3;o++)n[o].getComponent(cc.Sprite).spriteFrame=o==parseInt(e)?this.SprBtnRoom[1]:this.SprBtnRoom[0];switch(this.roomID=parseInt(e)+1,this.lbJackpot.money=this._listLastJackpot[this.roomID-1],this.roomID){case 1:this._moneyRoom=100;break;case 2:this._moneyRoom=1e3;break;case 3:this._moneyRoom=1e4}}},e.prototype.processSpin=function(t){var e=this;this.lbGameSession.string="#"+t._spinId,u.default.getInstance().UserData.balance-=t._betValue,cc.systemEvent.emit(r.default.EVENT_LOBBY.UPDATE_BALANCE,u.default.getInstance().UserData.balance);var n=this.scrollAnim;n.timeScale=this._isFast?2:1.3,n.setAnimation(0,"Minipoker",!1),this.listScrollView.runAction(cc.sequence(cc.delayTime(.45),cc.callFunc(function(){for(var n=0;n<5;n++)e.listScrollView.getChildByName("card"+(n+1)).getComponent(cc.Sprite).spriteFrame=e.cardAtlas.getSpriteFrame(t._cardResult[n])})))},e.prototype.endScroll=function(){var t=this.wsMiniPoker._spinData;u.default.getInstance().UserData.balance=this.wsMiniPoker._spinData._balance,cc.systemEvent.emit(r.default.EVENT_LOBBY.UPDATE_BALANCE,u.default.getInstance().UserData.balance),t._prizeValue>0?this.prizeNode.showPrize(t._cardTypeId,t._prizeValue):this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(this.afterScroll.bind(this))))},e.prototype.afterScroll=function(){this._isScrolling=!1,(this._isAuto||this._isFast)&&this.onBtnSpin(),this._isAuto||(this.btnAuto.interactable=!0),this._isFast||(this.btnFast.interactable=!0);var t=this._isAuto||this._isFast;this.statusSpin(!t)},e.prototype.statusSpin=function(t){var e=this.listRoom.children;for(var n in e)e[n].getComponent(cc.Button).enabled=t;this.sprSpindisable.active=!t,this.btnSpin.interactable=t,this.BtnBack.interactable=t,this._isAuto||(this.btnAuto.interactable=t),this._isFast||(this.btnFast.interactable=t)},e.prototype.resultType=function(t){switch(t){case 1:return"TH\xd9NG PH\xc1 S\u1ea2NH J";case 2:return"TH\xd9NG PH\xc1 S\u1ea2NH";case 3:return"T\u1ee8 QU\xdd";case 4:return"C\xd9 L\u0168";case 5:return"TH\xd9NG";case 6:return"S\u1ea2NH";case 7:return"S\xc1M";case 8:return"2 \u0110\xd4I";case 9:return"\u0110\xd4I J+";case 10:return"\u0110\xd4I J-";case 11:return"M\u1eacU TH\u1ea6U";case 12:return"TH\xd9NG PH\xc1 S\u1ea2NH J+";case 13:return"TH\xd9NG PH\xc1 S\u1ea2NH J_";default:return""}},e.prototype.onBtnPopupHistoryTrade=function(){var t=this,e=setTimeout(function(){t.wsMiniPoker.processHistory(),clearTimeout(e)},500),n=cc.director.getWinSize(),o=cc.instantiate(this.popUpHistoryTrade);o.setPosition(n.width/2,n.height/2),cc.director.getScene().addChild(o,p.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnPopupReward=function(){var t=cc.director.getWinSize(),e=cc.instantiate(this.popUpReward);e.setPosition(t.width/2,t.height/2),cc.director.getScene().addChild(e,p.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnPopupTopAnhTai=function(){var t=cc.director.getWinSize(),e=cc.instantiate(this.popUpTopAnhTai);e.setPosition(t.width/2,t.height/2),cc.director.getScene().addChild(e,p.GameConfigs.zOderGame.POP_UP)},e.prototype.enabledAllBtn=function(){this.showNoti(this.language.system_busy),this._isAuto=!1,this._isFast=!1,this.sprSpindisable.active=!1,this._isScrolling=!1,this.btnSpin.interactable=!0,this.BtnBack.interactable=!0,this.btnAuto.interactable=!0,this.btnFast.interactable=!0,this.sprAutoStop.active=!1,this.sprFastStop.active=!1;var t=this.listRoom.children;for(var e in t)t[e].getComponent(cc.Button).enabled=!0},i([m(cc.Button)],e.prototype,"btnSpin",void 0),i([m(cc.Button)],e.prototype,"btnAuto",void 0),i([m(cc.Button)],e.prototype,"BtnBack",void 0),i([m(cc.SpriteFrame)],e.prototype,"SprBtnRoom",void 0),i([m(cc.Node)],e.prototype,"sprAutoStop",void 0),i([m(cc.Button)],e.prototype,"btnFast",void 0),i([m(cc.Node)],e.prototype,"sprFastStop",void 0),i([m(cc.Node)],e.prototype,"listRoom",void 0),i([m(l.default)],e.prototype,"lbJackpot",void 0),i([m(cc.Label)],e.prototype,"lbGameSession",void 0),i([m(sp.Skeleton)],e.prototype,"scrollAnim",void 0),i([m(cc.Node)],e.prototype,"listScrollView",void 0),i([m(a.default)],e.prototype,"prizeNode",void 0),i([m(cc.Prefab)],e.prototype,"popUpHistoryTrade",void 0),i([m(cc.Prefab)],e.prototype,"popUpReward",void 0),i([m(cc.Prefab)],e.prototype,"popUpTopAnhTai",void 0),i([m(cc.Node)],e.prototype,"sprSpindisable",void 0),i([m(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([m(cc.SpriteAtlas)],e.prototype,"cardAtlas",void 0),e=i([g],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/WsHandler":"WsHandler","../../Common/UI/Notification":"Notification","../../Common/UI/NumberRun":"NumberRun","../../Common/UI/PopupInterface":"PopupInterface","./HandlerMinipoker":"HandlerMinipoker","./MiniPokerPrize":"MiniPokerPrize"}],MissionCell:[function(t,e,n){"use strict";cc._RF.push(e,"8ec55eHGjVBF4zbADIBRcwB","MissionCell");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utilities/Utility"),c=t("./LoadingManager"),s=t("../../Common/Network/ConnectHandler"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbName=null,e.lbState=null,e.lbPrize=null,e.lbReNew=null,e.nodeReceive=null,e.btnGet=null,e.lbTotalPresent=null,e.fontMoney=null,e.row=[],e.prize=0,e.event_id=0,e.name="",e.currentPrize=0,e.maxPrize=0,e.interCountDown=null,e}return o(e,t),e.prototype.setProperties=function(t,e){this.name=e,this.lbName.string=t.event_name,this.lbState.string=t.current_count_process+"/"+t.max_count_process,this.lbPrize.string=a.Utility.getInstance().numberToCurrency(t.prize_value),this.row[e%2==0?0:1].active=!0;var n="";if(+t.current_count_prize>=+t.max_count_prize)if(n="(H\u1ebft qu\xe0)","True"==t.is_reviced)this.nodeReceive.active=!0,this.btnGet.active=!1;else{this.nodeReceive.active=!1,this.btnGet.active=!1,this.lbReNew.string="L\xe0m m\u1edbi sau:";var o=new Date,i=new Date(o.getFullYear(),o.getMonth(),o.getDate()+1);this.countDownBanner(i.getDate(),i.getMonth(),i.getFullYear())}else n="("+(t.max_count_prize-t.current_count_prize)+"/"+t.max_count_prize+")",this.currentPrize=t.current_count_prize,this.maxPrize=t.max_count_prize,"True"==t.is_reviced?(this.nodeReceive.active=!0,this.btnGet.active=!1):(this.nodeReceive.active=!1,this.btnGet.active=!0);this.lbTotalPresent.string=n,this.prize=t.prize_value,this.event_id=t.event_id,"False"==t.can_reviced?(this.btnGet.color=cc.Color.GRAY,this.btnGet.children[0].color=cc.Color.GRAY,this.btnGet.getComponent(cc.Button).interactable=!1):(this.btnGet.color=cc.Color.WHITE,this.btnGet.children[0].color=cc.Color.WHITE,this.btnGet.getComponent(cc.Button).interactable=!0)},e.prototype.countDownBanner=function(t,e,n){var o=this;try{var i=new Date(n,e,t).getTime();this.interCountDown=setInterval(function(){var t=(new Date).getTime(),e=i-t,n=(Math.floor(e/864e5),Math.floor(e%864e5/36e5)),a=Math.floor(e%36e5/6e4),c=Math.floor(e%6e4/1e3),s=n>=10?n:"0"+n,r=a>=10?a:"0"+a,l=c>=10?c:"0"+c;e<0?clearInterval(o.interCountDown):o.lbReNew.string="L\xe0m m\u1edbi sau:\n"+s+":"+r+":"+l},1e3)}catch(t){}},e.prototype.onBtnGet=function(t){cc.systemEvent.emit("MISSION",this.name),c.default.getInstance().show(),s.default.getInstance().processReceiveAwardQuest(this.event_id)},e.prototype.animReceive=function(){this.btnGet.active=!1,this.nodeReceive.active=!0;var t=new cc.Node;t.y=0,t.x=322;var e=t.addComponent(cc.Label);e.string="+"+a.Utility.getInstance().numberToCurrency(this.prize),e.fontSize=14,e.font=this.fontMoney,this.node.addChild(t),t.runAction(cc.sequence(cc.moveBy(1.5,0,50),cc.callFunc(function(){t.destroy()}))),this.currentPrize++,this.lbTotalPresent.string="("+(this.maxPrize-this.currentPrize)+"/"+this.maxPrize+")"},e.prototype.setAlreadyGet=function(){this.btnGet.active=!1,this.nodeReceive.active=!0},e.prototype.setOutOfPresent=function(){this.lbTotalPresent.string="(H\u1ebft qu\xe0)",this.lbReNew.string="L\xe0m m\u1edbi sau:"},i([u(cc.Label)],e.prototype,"lbName",void 0),i([u(cc.Label)],e.prototype,"lbState",void 0),i([u(cc.Label)],e.prototype,"lbPrize",void 0),i([u(cc.Label)],e.prototype,"lbReNew",void 0),i([u(cc.Node)],e.prototype,"nodeReceive",void 0),i([u(cc.Node)],e.prototype,"btnGet",void 0),i([u(cc.Label)],e.prototype,"lbTotalPresent",void 0),i([u(cc.Font)],e.prototype,"fontMoney",void 0),i([u(cc.Node)],e.prototype,"row",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/Utilities/Utility":"Utility","./LoadingManager":"LoadingManager"}],Mission:[function(t,e,n){"use strict";cc._RF.push(e,"4df7dKPWF9IKpP5SJqkJDNY","Mission");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Network/ConnectHandler"),c=t("../../Common/Data/Constants"),s=t("./LoadingManager"),r=t("./MissionCell"),l=t("../../Common/UI/Notification"),u=t("../../Common/Data/GameConfigs"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentMission=null,e.missionCell=null,e.scv=null,e.fontMoney=null,e.notiPrefab=null,e.lbReNew=null,e.listIDQuest=[],e.prize=0,e.cell=null,e.interCountDown=null,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(c.default.EVENT_API.GET_EVENT_INFO,this.onEventInfo.bind(this),this),cc.systemEvent.on(c.default.EVENT_API.GET_EVENT_QUEST,this.onEventQuest.bind(this),this),cc.systemEvent.on(c.default.EVENT_API.RECEIVE_EVENT_PRIZE,this.onReceiveQuest.bind(this),this),cc.systemEvent.on("MISSION",this.onCellGetAward.bind(this),this),a.default.getInstance().processEventQuest()},e.prototype.countDownBanner=function(t,e,n){var o=this;try{var i=new Date(n,e,t).getTime();this.interCountDown=setInterval(function(){var t=(new Date).getTime(),e=i-t,n=(Math.floor(e/864e5),Math.floor(e%864e5/36e5)),a=Math.floor(e%36e5/6e4),c=Math.floor(e%6e4/1e3),s=n>=10?n:"0"+n,r=a>=10?a:"0"+a,l=c>=10?c:"0"+c;e<0?clearInterval(o.interCountDown):o.lbReNew.string=s+":"+r+":"+l},1e3)}catch(t){}},e.prototype.onEnable=function(){s.default.getInstance().show(),a.default.getInstance().processEventInfo();var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1);this.countDownBanner(e.getDate(),e.getMonth(),e.getFullYear())},e.prototype.onCellGetAward=function(t){for(var e=0,n=this.contentMission.children;e<n.length;e++){var o=n[e];if(o.name==t){this.cell=o;break}}},e.prototype.onEventQuest=function(t){0==t.status&&(this.listIDQuest=t.data)},e.prototype.onReceiveQuest=function(t){if(s.default.getInstance().hide(),null!=t)switch(t.status){case 0:null!=this.cell&&this.cell.getComponent(r.default).animReceive(),cc.systemEvent.emit(c.default.EVENT_LOBBY.UPDATE_BALANCE,t.data);break;case-68:this.enableNoti("S\u1ed1 l\u01b0\u1ee3ng qu\xe0 h\xf4m nay \u0111\xe3 h\u1ebft vui l\xf2ng quay l\u1ea1i v\xe0o ng\xe0y mai"),null!=this.cell&&this.cell.getComponent(r.default).setOutOfPresent();break;case-69:this.enableNoti("B\u1ea1n ch\u01b0a ho\xe0n th\xe0nh nhi\u1ec7m v\u1ee5 ng\xe0y h\xf4m nay");break;case-65:this.enableNoti("B\u1ea1n \u0111\xe3 nh\u1eadn th\u01b0\u1edfng nhi\u1ec7m v\u1ee5 n\xe0y"),null!=this.cell&&this.cell.getComponent(r.default).setAlreadyGet()}},e.prototype.onEventInfo=function(t){for(var e in s.default.getInstance().hide(),this.contentMission.removeAllChildren(!0),t.data){var n=t.data[e],o=cc.instantiate(this.missionCell);o.name=e,o.getComponent(r.default).setProperties(n,e),this.contentMission.addChild(o),+e==t.data.length-1&&this.scv.scrollToTop(.5)}},e.prototype.getServiceID=function(t){for(var e=0,n=this.listIDQuest;e<n.length;e++){var o=n[e];if(t==o.id)return o.service_id}},e.prototype.parseServiceID=function(t){switch(t){case 17:return 2;case 19:return 6;case 22:return 0;case 14:return 3;case 15:return 1;case 21:return 4;case 8:return 5;default:return-1}},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent(l.default).setContent(t),e.getComponent(l.default).showDialog(2),cc.director.getScene().addChild(e,u.GameConfigs.zOderGame.POP_UP)},e.prototype.onDestroy=function(){clearInterval(this.interCountDown),cc.systemEvent.targetOff(this)},i([h(cc.Node)],e.prototype,"contentMission",void 0),i([h(cc.Prefab)],e.prototype,"missionCell",void 0),i([h(cc.ScrollView)],e.prototype,"scv",void 0),i([h(cc.Font)],e.prototype,"fontMoney",void 0),i([h(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([h(cc.Label)],e.prototype,"lbReNew",void 0),e=i([d],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/UI/Notification":"Notification","./LoadingManager":"LoadingManager","./MissionCell":"MissionCell"}],NWBonus:[function(t,e,n){"use strict";cc._RF.push(e,"97e428e0jVF3I4T75h2enNS","NWBonus");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./NWHandler"),c=t("../../Common/Utilities/Utility"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbCountDown=null,e.frameMultiple=[],e.sprMultiple=null,e.lbWin=null,e.nodeWin=null,e.board=null,e.btnPlay=null,e.audioBonus=null,e.timeBonus=15,e.onCallback=function(){},e.result=null,e.multiple=null,e.win=0,e.intervalCountdown=null,e.list=[{mul:2.5,rot:-40},{mul:3,rot:30},{mul:5,rot:110},{mul:1.75,rot:180},{mul:2,rot:250},{mul:8.5,rot:-40},{mul:10,rot:30},{mul:16,rot:110},{mul:6,rot:180},{mul:6.5,rot:250},{mul:19,rot:-40},{mul:22,rot:30},{mul:40,rot:110},{mul:13.5,rot:180},{mul:15,rot:250}],e}return o(e,t),e.prototype.init=function(){cc.audioEngine.stopMusic(),a.NWHandler.getInstance().isAudio&&cc.audioEngine.playMusic(this.audioBonus,!0),this.timeBonus=15,this.btnPlay.interactable=!0,this.nodeWin.active=!1;var t=a.NWHandler.getInstance().dataSpinGame.bonus_string.split(",");this.multiple=t[0],this.win=t[2];var e=0;switch(+this.multiple){case 22:e=0;break;case 23:e=1;break;case 24:e=2}this.sprMultiple.spriteFrame=this.frameMultiple[e];for(var n=0,o=this.list;n<o.length;n++){var i=o[n];if(i.mul==t[1]){this.result=i.rot;break}}this.runTime()},e.prototype.onBtnPlay=function(){var t=this;clearInterval(this.intervalCountdown),this.btnPlay.interactable=!1,this.board.runAction(cc.sequence(cc.rotateBy(.5,720),cc.rotateTo(2,this.result),cc.delayTime(1),cc.callFunc(function(){t.nodeWin.active=!0,t.lbWin.string=c.Utility.getInstance().numberToCurrency(t.win),t.btnPlay.interactable=!1,t.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){a.NWHandler.getInstance().processFinishBonus(),t.onCallback()})))})))},e.prototype.runTime=function(){var t=this;this.intervalCountdown=setInterval(function(){t.lbCountDown.string=t.timeBonus+"",t.timeBonus--,0==t.timeBonus&&(t.nodeWin.active=!0,t.lbWin.string=c.Utility.getInstance().numberToCurrency(t.win),t.btnPlay.interactable=!1,t.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){a.NWHandler.getInstance().processFinishBonus(),t.onCallback()}))),clearInterval(t.intervalCountdown))},1e3)},e.prototype.onDisable=function(){clearInterval(this.intervalCountdown)},e.prototype.onDestroy=function(){clearInterval(this.intervalCountdown)},i([l(cc.Label)],e.prototype,"lbCountDown",void 0),i([l(cc.SpriteFrame)],e.prototype,"frameMultiple",void 0),i([l(cc.Sprite)],e.prototype,"sprMultiple",void 0),i([l(cc.Label)],e.prototype,"lbWin",void 0),i([l(cc.Node)],e.prototype,"nodeWin",void 0),i([l(cc.Node)],e.prototype,"board",void 0),i([l(cc.Button)],e.prototype,"btnPlay",void 0),i([l(cc.AudioClip)],e.prototype,"audioBonus",void 0),e=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","./NWHandler":"NWHandler"}],NWController:[function(t,e,n){"use strict";cc._RF.push(e,"c36dbfXaqdAxpvY2OIJm3de","NWController");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Data/Constants"),s=t("../../Common/Utilities/Utility"),r=t("../../Common/Data/GameData"),l=t("../../Common/Data/GameConfigs"),u=t("../../Common/UI/Notification"),p=t("../../Common/Data/LabelHelperConfigs"),d=t("../../scenemanager/scripts/SceneManager"),h=t("./NWScroll"),f=t("./NWBonus"),_=t("./NWHandler"),g=t("./NWEntry"),m=t("./NWLine"),y=cc._decorator,v=y.ccclass,b=y.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Type_Btn={AUTO:0,STOP_AUTO:1,SPEDD:2,STOP_SPEED:3,SPIN:4},e.list_btn=[],e.SPEED_RUN={DEFAULT:.6,AUTO:.6,SPEED:.2},e.Type_Spin={DEFAULT:0,AUTO:1,SPEED:2,NONE:3},e.isSpin=e.Type_Spin.NONE,e.line_stt=0,e.prefabLine=null,e.nodeLine=null,e.listScrollView=[],e.txtBalance=null,e.txtJackpot=null,e.txtMoneyBet=null,e.txtMoneyWin=null,e.txtRoomValue=null,e.txtTotalLine=null,e.txtSession=null,e.prefabBonus=null,e.prefabBigWin=null,e.prefabJackpot=null,e.prefaMegaWin=null,e.nodeWin=null,e.prefabWin=null,e.nodeFX=null,e.nodeEffectFull=null,e.nodeBonus=null,e.notiPrefab=null,e.prefabGuide=null,e.prefabHistory=null,e.prefabRank=null,e.prefabTop=null,e.audioBG=null,e.audioBonus=null,e.audioWin=null,e.audioBigWin=null,e.audioMegaWin=null,e.audioJackpot=null,e.audioBtnAuto=null,e.audioBtnSpin=null,e.audioBtnClick=null,e.btnAudioOn=null,e.btnAudioOff=null,e.btnBack=null,e.btnLine=null,e.btnFreeNo=null,e.btnFreeYes=null,e.btnNextRoom=null,e.btnPreRoom=null,e.nodeFree=null,e.language=null,e.spinTimeOut=null,e}return o(e,t),e.prototype.onLoad=function(){_.NWHandler.getInstance().isFree=!1,this.loadItem(),this.registerAllEvent(),_.NWHandler.getInstance().isAudio&&cc.audioEngine.playMusic(this.audioBG,!0),this.language=p.TextData[r.default.getInstance().UserData.textPackage],_.NWHandler.getInstance().dataJackpot=[5e5,5e6,5e7],this.onJackpot()},e.prototype.ShowPopupEvent=function(){},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this),this.destroy()},e.prototype.loadItem=function(){this.renderRoom()},e.prototype.registerAllEvent=function(){_.NWHandler.getInstance().onSpinGame=this.onSpinGame.bind(this),_.NWHandler.getInstance().onJackpot=this.onJackpot.bind(this),_.NWHandler.getInstance().onFinisBonus=this.onFinisBonus.bind(this),_.NWHandler.getInstance().onFirstBonus=this.onFirstBonus.bind(this),_.NWHandler.getInstance().onRankEvent=this.onRankEvent.bind(this),this.listScrollView[4].getComponent(h.default).onPlayDone=this.onPlayDone.bind(this),this.nodeBonus.onCallback=this.endBonus.bind(this),cc.systemEvent.on(c.default.EVENT_LOBBY.UPDATE_BALANCE,this.updateBalance2.bind(this),this)},e.prototype.onRankEvent=function(t){},e.prototype.updateBalance2=function(){this.txtBalance.money=r.default.getInstance().UserData.balance},e.prototype.updateBalance=function(t){t>-1&&(r.default.getInstance().UserData.balance=t,this.txtBalance.money=t)},e.prototype.onFinisBonus=function(t){this.updateBalance(t.balance)},e.prototype.onFirstBonus=function(t){this.showNoti("Bonus, b\u1ea1n th\u1eafng "+s.Utility.getInstance().abbrNum(parseInt(t.bonus_prize)),2),this.updateBalance(t.balance)},e.prototype.onPlayDone=function(){var t=this;this.line_stt=0,this.isSpin==this.Type_Spin.DEFAULT?this.ShowAllLine(function(){t.showOneLine()}):this.ShowAllLine(function(){});var e=.5,n=_.NWHandler.getInstance().list_wild;n.length>0&&(e=1.5,n.length>=3&&(e=5,this.node.runAction(cc.sequence(cc.delayTime(1.2),cc.callFunc(function(){t.nodeEffectFull.active=!0,t.nodeEffectFull.scaleX=0,t.nodeEffectFull.runAction(cc.scaleTo(.3,1,1))}))))),this.node.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){_.NWHandler.getInstance().dataSpinGame.bonus_string?t.showBonus():t.checkResults()})))},e.prototype.showBonus=function(){var t=this,e=cc.instantiate(this.prefabBonus);cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP),e.name="TS_effect_bonus",_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBonus,!1),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){var t=cc.director.getScene().getChildByName("TS_effect_bonus");t&&t.destroy()}))),this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){t.nodeBonus.node.active=!0,t.nodeBonus.init()})))},e.prototype.endBonus=function(){this.nodeBonus.node.active=!1,this.checkResults(),_.NWHandler.getInstance().isAudio&&cc.audioEngine.playMusic(this.audioBG,!0)},e.prototype.checkResults=function(){var t=this,e=_.NWHandler.getInstance().dataSpinGame;if(this.showMoneyWin(),e.jackpot_winner<=0){var n=.2;e.total_prize>0&&(n=1.5),e.total_prize>=5*e.total_bet&&(n=3),e.total_prize>=8*e.total_bet&&(n=5),this.nodeLine.runAction(cc.sequence(cc.delayTime(n),cc.callFunc(function(){t.endShowResults()})))}},e.prototype.showMoneyWin=function(){var t=_.NWHandler.getInstance().dataSpinGame;this.txtMoneyWin.money=t.total_prize;var e;g.NWEntry.ROOM.R_10k.value;return _.NWHandler.getInstance().room_id==g.NWEntry.ROOM.R_100.id&&g.NWEntry.ROOM.R_100.value,_.NWHandler.getInstance().room_id==g.NWEntry.ROOM.R_1k.id&&g.NWEntry.ROOM.R_1k.value,this.nodeFX.getChildByName("content").removeAllChildren(),this.nodeFX.getChildByName("bg").active=!0,t.jackpot_winner>0?(_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioJackpot,!1),(e=cc.instantiate(this.prefabJackpot)).getChildByName("money").getComponent(a.default).runNumber(t.total_prize,!0),this.nodeFX.active=!0,void this.nodeFX.getChildByName("content").addChild(e)):t.total_prize>=8*t.total_bet?(_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioMegaWin,!1),(e=cc.instantiate(this.prefaMegaWin)).getChildByName("money").getComponent(a.default).runNumber(t.total_prize,!0),this.nodeFX.active=!0,void this.nodeFX.getChildByName("content").addChild(e)):t.total_prize>=5*t.total_bet?(_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBigWin,!1),(e=cc.instantiate(this.prefabBigWin)).getChildByName("money").getComponent(a.default).runNumber(t.total_prize,!0),this.nodeFX.active=!0,void this.nodeFX.getChildByName("content").addChild(e)):t.total_prize>0?(_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioWin,!1),(e=cc.instantiate(this.prefabWin)).getChildByName("money").getComponent(a.default).string=s.Utility.getInstance().numberToCurrency(t.total_prize),e.getChildByName("money").getComponent(cc.Animation).play("win"),void this.nodeWin.addChild(e)):void 0},e.prototype.endShowResults=function(){this.nodeEffectFull.active=!1;var t=_.NWHandler.getInstance().dataSpinGame;if(_.NWHandler.getInstance().isFree){this.list_btn[this.Type_Btn.SPIN].interactable=!0,this.btnFreeNo.interactable=!0,this.btnFreeYes.interactable=!0;var e=_.NWHandler.getInstance();t.jackpot_winner>0?e.DataFree.jackpot=5e7:e.DataFree.jackpot+=4e3,e.DataFree.balance+=t.total_prize,this.txtJackpot.money=e.DataFree.jackpot,this.txtBalance.money=e.DataFree.balance,this.btnBack.interactable=!0,this.isSpin=this.Type_Spin.NONE,this.nodeFX.active=!1}else this.updateBalance(t.balance),this.isSpin==this.Type_Spin.SPEED||this.isSpin==this.Type_Spin.AUTO?(this.callPlaySpin(),this.nodeFX.getChildByName("content").removeAllChildren(),this.nodeFX.active=!1):(this.isSpin=this.Type_Spin.NONE,this.nodeFX.active=!1,this.activeAllBtn(!0))},e.prototype.onJackpot=function(){var t=_.NWHandler.getInstance().dataJackpot,e=_.NWHandler.getInstance().room_id,n=0;e==g.NWEntry.ROOM.R_100.id&&(n=parseInt(t[0])),e==g.NWEntry.ROOM.R_1k.id&&(n=parseInt(t[1])),e==g.NWEntry.ROOM.R_10k.id&&(n=parseInt(t[2])),cc.systemEvent.emit("THAN_SAM_JACKPOT_HELP",{value:t,stt:e-1}),_.NWHandler.getInstance().isFree||(this.txtJackpot.money=n)},e.prototype.onSpinGame=function(){this.spinTimeOut&&clearTimeout(this.spinTimeOut);var t=_.NWHandler.getInstance().dataSpinGame;switch(t.exec_result){case-4:case-104:return this.showNotMoney(),this.activeAllBtn(!0),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!1,this.list_btn[this.Type_Btn.AUTO].node.active=!0,this.list_btn[this.Type_Btn.SPEDD].node.active=!0,void(this.isSpin=this.Type_Spin.NONE);case-102:return void this.showErrorSpin("T\xe0i kho\u1ea3n b\u1ecb kh\xf3a");case-103:return void this.showErrorSpin("\u0110\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c ch\u01a1i game");case-150:return void this.showErrorSpin(this.language.system_busy)}if(_.NWHandler.getInstance().room_id!=g.NWEntry.ROOM.R_Test.id){var e=g.NWEntry.ROOM.R_10k.value;if(_.NWHandler.getInstance().room_id==g.NWEntry.ROOM.R_100.id&&(e=g.NWEntry.ROOM.R_100.value),_.NWHandler.getInstance().room_id==g.NWEntry.ROOM.R_1k.id&&(e=g.NWEntry.ROOM.R_1k.value),_.NWHandler.getInstance().isFree)_.NWHandler.getInstance().DataFree.balance-=40*g.NWEntry.ROOM.R_10k.value,this.txtBalance.money=_.NWHandler.getInstance().DataFree.balance;else{var n=r.default.getInstance().UserData.balance-_.NWHandler.getInstance().line_data.length*e;this.txtBalance.money=n}}this.txtSession.string="#"+t.spin_id;var o=!1,i=this.SPEED_RUN.DEFAULT;this.isSpin==this.Type_Spin.SPEED&&(o=!0,i=this.SPEED_RUN.SPEED);for(var a=0;a<this.listScrollView.length;a++)this.listScrollView[a].setSpinFast(o),this.listScrollView[a].startScroll(i)},e.prototype.ShowAllLine=function(t){for(var e=this,n=1;n<=40;n++)this.nodeLine.getChildByName(n.toString()).opacity=0;if(!(_.NWHandler.getInstance().listLine.length<1)){var o=_.NWHandler.getInstance().listLine;for(n=0;n<o.length;n++)o[n]&&this.nodeLine.getChildByName(o[n].toString())&&this.nodeLine.getChildByName(o[n].toString()).runAction(cc.sequence(cc.fadeTo(.5,255),cc.fadeTo(.5,0)));this.nodeLine.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){for(var n=1;n<=40;n++)e.nodeLine.getChildByName(n.toString()).opacity=0;t&&t()})))}},e.prototype.showOneLine=function(){for(var t=this,e=1;e<=40;e++)this.nodeLine.getChildByName(e.toString()).opacity=0;if(!(_.NWHandler.getInstance().listLine.length<1)){var n=_.NWHandler.getInstance().listLine;this.line_stt>=n.length&&(this.line_stt=0);var o=n[this.line_stt];if(o){if(o<1||o>40)return;for(e=1;e<=40;e++)this.nodeLine.getChildByName(e.toString()).opacity=0;this.nodeLine.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){t.nodeLine.getChildByName(o.toString()).runAction(cc.sequence(cc.fadeTo(.5,255),cc.fadeTo(.5,0)))}),cc.delayTime(.5),cc.callFunc(function(){t.line_stt++,t.showOneLine()})))}}},e.prototype.activeAllBtn=function(t){for(var e in this.list_btn)this.list_btn[e].interactable=t;this.btnBack.interactable=t,this.btnLine.interactable=t,this.btnFreeNo.interactable=t,this.btnFreeYes.interactable=t,t?this.checkBtnSelectRoom():(this.btnNextRoom.interactable=t,this.btnPreRoom.interactable=t)},e.prototype.renderRoom=function(){var t=g.NWEntry.ROOM.R_10k.value;_.NWHandler.getInstance().room_id==g.NWEntry.ROOM.R_100.id&&(t=g.NWEntry.ROOM.R_100.value),_.NWHandler.getInstance().room_id==g.NWEntry.ROOM.R_1k.id&&(t=g.NWEntry.ROOM.R_1k.value),this.txtTotalLine.string=_.NWHandler.getInstance().line_data.length+"",this.txtMoneyBet.money=_.NWHandler.getInstance().line_data.length*t,this.txtRoomValue.string=s.Utility.getInstance().numberToCurrency(t),this.txtBalance.money=r.default.getInstance().UserData.balance,this.checkBtnSelectRoom()},e.prototype.checkBtnSelectRoom=function(){this.btnNextRoom.interactable=!0,this.btnPreRoom.interactable=!0,_.NWHandler.getInstance().room_id==g.NWEntry.ROOM.R_100.id&&(this.btnPreRoom.interactable=!1),_.NWHandler.getInstance().room_id==g.NWEntry.ROOM.R_10k.id&&(this.btnNextRoom.interactable=!1)},e.prototype.callPlaySpin=function(){var t=this;_.NWHandler.getInstance().listLine=[],_.NWHandler.getInstance().list_wild=[],_.NWHandler.getInstance().dataSpinGame={},this.nodeLine.stopAllActions(),this.nodeFX.getChildByName("content").removeAllChildren(),this.nodeFX.active=!1,this.nodeWin.removeAllChildren();for(var e=1;e<=40;e++)this.nodeLine.getChildByName(e.toString()).opacity=0;_.NWHandler.getInstance().isConnect?(_.NWHandler.getInstance().processSpin(),this.spinTimeOut=setTimeout(function(){_.NWHandler.getInstance().processSpin(),clearTimeout(t.spinTimeOut)},7e3)):this.showErrorSpin("H\u1ec7 th\u1ed1ng b\u1eadn vui l\xf2ng th\u1eed l\u1ea1i sau")},e.prototype.showErrorSpin=function(t){this.showNoti(t,2),this.activeAllBtn(!0),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!1,this.list_btn[this.Type_Btn.AUTO].node.active=!0,this.list_btn[this.Type_Btn.SPEDD].node.active=!0,this.isSpin=this.Type_Spin.NONE},e.prototype.showNoti=function(t,e){var n=cc.instantiate(this.notiPrefab);n.getComponent("Notification").showDialog(e),n.getComponent("Notification").setContent(t),cc.director.getScene().addChild(n,l.GameConfigs.zOderGame.POP_UP)},e.prototype.showNotMoney=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent(u.default).setContent(this.language.no_enough_balance),t.getComponent(u.default).showNotMoney(),cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.clickSpin=function(){_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnSpin,!1),this.isSpin=this.Type_Spin.DEFAULT,this.activeAllBtn(!1),this.callPlaySpin()},e.prototype.clickAuto=function(){_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnAuto,!1),this.isSpin=this.Type_Spin.AUTO,this.activeAllBtn(!1),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!0,this.list_btn[this.Type_Btn.AUTO].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!1,this.list_btn[this.Type_Btn.SPEDD].node.active=!0,this.list_btn[this.Type_Btn.STOP_AUTO].interactable=!0,this.callPlaySpin()},e.prototype.clickStopAuto=function(){_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),this.isSpin=this.Type_Spin.DEFAULT,this.activeAllBtn(!1),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!1,this.list_btn[this.Type_Btn.AUTO].node.active=!0,this.list_btn[this.Type_Btn.SPEDD].node.active=!0},e.prototype.clickSpeed=function(){_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnAuto,!1),this.isSpin=this.Type_Spin.SPEED,this.activeAllBtn(!1),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!1,this.list_btn[this.Type_Btn.AUTO].node.active=!0,this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!0,this.list_btn[this.Type_Btn.SPEDD].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].interactable=!0,this.callPlaySpin()},e.prototype.clickStopSpeed=function(){_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),this.isSpin=this.Type_Spin.DEFAULT,this.activeAllBtn(!1),this.list_btn[this.Type_Btn.STOP_AUTO].node.active=!1,this.list_btn[this.Type_Btn.STOP_SPEED].node.active=!1,this.list_btn[this.Type_Btn.AUTO].node.active=!0,this.list_btn[this.Type_Btn.SPEDD].node.active=!0},e.prototype.clickAddRoom=function(){_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),this.isSpin==this.Type_Spin.NONE&&_.NWHandler.getInstance().room_id!=g.NWEntry.ROOM.R_10k.id&&(_.NWHandler.getInstance().listLine=[],_.NWHandler.getInstance().room_id==g.NWEntry.ROOM.R_1k.id&&(_.NWHandler.getInstance().room_id=g.NWEntry.ROOM.R_10k.id),_.NWHandler.getInstance().room_id==g.NWEntry.ROOM.R_100.id&&(_.NWHandler.getInstance().room_id=g.NWEntry.ROOM.R_1k.id),this.renderRoom(),this.onJackpot())},e.prototype.clickMinusRoom=function(){_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),this.isSpin==this.Type_Spin.NONE&&_.NWHandler.getInstance().room_id!=g.NWEntry.ROOM.R_100.id&&(_.NWHandler.getInstance().listLine=[],_.NWHandler.getInstance().room_id==g.NWEntry.ROOM.R_1k.id&&(_.NWHandler.getInstance().room_id=g.NWEntry.ROOM.R_100.id),_.NWHandler.getInstance().room_id==g.NWEntry.ROOM.R_10k.id&&(_.NWHandler.getInstance().room_id=g.NWEntry.ROOM.R_1k.id),this.renderRoom(),this.onJackpot())},e.prototype.clickGuide=function(){if(_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),!cc.director.getScene().getChildByName("NW_popup_guide")){var t=cc.instantiate(this.prefabGuide);cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP),t.name="bupg_popup_guide"}},e.prototype.clickRank=function(){if(_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),!cc.director.getScene().getChildByName("NW_popup_rank")){var t=cc.instantiate(this.prefabRank);cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP),t.name="NW_popup_rank"}},e.prototype.clickTop=function(){if(_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),!cc.director.getScene().getChildByName("NW_popup_top")){var t=cc.instantiate(this.prefabTop);cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP),t.name="NW_popup_top"}},e.prototype.clickHistory=function(){if(_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),!cc.director.getScene().getChildByName("NW_popup_history")){var t=cc.instantiate(this.prefabHistory);cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP),t.name="NW_popup_history"}},e.prototype.clickSelectLine=function(){if((_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),this.isSpin==this.Type_Spin.NONE)&&!cc.director.getScene().getChildByName("ts_popup_choneline")){var t=cc.instantiate(this.prefabLine);cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP),t.name="ts_popup_choneline",t.x=640,t.y=360,t.getComponent(m.default).onCallback=this.renderRoom.bind(this)}},e.prototype.clickBackLobby=function(){this.isSpin==this.Type_Spin.NONE&&(_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),cc.audioEngine.stopAll(),cc.systemEvent.targetOff(this),_.NWHandler.getInstance().clearCallback(),_.NWHandler.getInstance().isRequestLeave=!0,_.NWHandler.getInstance().closeWS(),this.spinTimeOut&&clearTimeout(this.spinTimeOut),d.clientdev.SceneManager.Instance.LoadScene(l.GameConfigs.SceneName.Lobby,function(){}))},e.prototype.clickEndSpin=function(){this.endShowResults()},e.prototype.clickAudio=function(){_.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.audioBtnClick,!1),_.NWHandler.getInstance().isAudio?(this.btnAudioOn.active=!1,this.btnAudioOff.active=!0,cc.audioEngine.stopAll(),_.NWHandler.getInstance().isAudio=!1):(this.btnAudioOn.active=!0,this.btnAudioOff.active=!1,cc.audioEngine.playMusic(this.audioBG,!0),_.NWHandler.getInstance().isAudio=!0)},e.prototype.clickFree=function(){_.NWHandler.getInstance().isFree?(_.NWHandler.getInstance().isFree=!1,this.renderRoom(),this.onJackpot(),this.activeAllBtn(!0),this.btnFreeNo.node.active=!1,this.btnFreeYes.node.active=!0,this.nodeFree.active=!1):(_.NWHandler.getInstance().isFree=!0,this.RenderFree(),this.btnFreeNo.node.active=!0,this.btnFreeYes.node.active=!1,this.nodeFree.active=!0)},e.prototype.RenderFree=function(){this.txtTotalLine.string="40",this.txtMoneyBet.money=40*g.NWEntry.ROOM.R_10k.value,this.txtRoomValue.string=s.Utility.getInstance().numberToCurrency(g.NWEntry.ROOM.R_10k.value),_.NWHandler.getInstance().DataFree.jackpot=5e7,_.NWHandler.getInstance().DataFree.balance=5e7,this.txtJackpot.money=_.NWHandler.getInstance().DataFree.jackpot,this.txtBalance.money=_.NWHandler.getInstance().DataFree.balance,this.btnNextRoom.interactable=!1,this.btnPreRoom.interactable=!1,this.btnLine.interactable=!1,this.list_btn[this.Type_Btn.AUTO].interactable=!1,this.list_btn[this.Type_Btn.SPEDD].interactable=!1},i([b([cc.Button])],e.prototype,"list_btn",void 0),i([b(cc.Prefab)],e.prototype,"prefabLine",void 0),i([b(cc.Node)],e.prototype,"nodeLine",void 0),i([b(h.default)],e.prototype,"listScrollView",void 0),i([b(a.default)],e.prototype,"txtBalance",void 0),i([b(a.default)],e.prototype,"txtJackpot",void 0),i([b(a.default)],e.prototype,"txtMoneyBet",void 0),i([b(a.default)],e.prototype,"txtMoneyWin",void 0),i([b(cc.Label)],e.prototype,"txtRoomValue",void 0),i([b(cc.Label)],e.prototype,"txtTotalLine",void 0),i([b(cc.Label)],e.prototype,"txtSession",void 0),i([b(cc.Prefab)],e.prototype,"prefabBonus",void 0),i([b(cc.Prefab)],e.prototype,"prefabBigWin",void 0),i([b(cc.Prefab)],e.prototype,"prefabJackpot",void 0),i([b(cc.Prefab)],e.prototype,"prefaMegaWin",void 0),i([b(cc.Node)],e.prototype,"nodeWin",void 0),i([b(cc.Prefab)],e.prototype,"prefabWin",void 0),i([b(cc.Node)],e.prototype,"nodeFX",void 0),i([b(cc.Node)],e.prototype,"nodeEffectFull",void 0),i([b(f.default)],e.prototype,"nodeBonus",void 0),i([b(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([b(cc.Prefab)],e.prototype,"prefabGuide",void 0),i([b(cc.Prefab)],e.prototype,"prefabHistory",void 0),i([b(cc.Prefab)],e.prototype,"prefabRank",void 0),i([b(cc.Prefab)],e.prototype,"prefabTop",void 0),i([b(cc.AudioClip)],e.prototype,"audioBG",void 0),i([b(cc.AudioClip)],e.prototype,"audioBonus",void 0),i([b(cc.AudioClip)],e.prototype,"audioWin",void 0),i([b(cc.AudioClip)],e.prototype,"audioBigWin",void 0),i([b(cc.AudioClip)],e.prototype,"audioMegaWin",void 0),i([b(cc.AudioClip)],e.prototype,"audioJackpot",void 0),i([b(cc.AudioClip)],e.prototype,"audioBtnAuto",void 0),i([b(cc.AudioClip)],e.prototype,"audioBtnSpin",void 0),i([b(cc.AudioClip)],e.prototype,"audioBtnClick",void 0),i([b(cc.Node)],e.prototype,"btnAudioOn",void 0),i([b(cc.Node)],e.prototype,"btnAudioOff",void 0),i([b(cc.Button)],e.prototype,"btnBack",void 0),i([b(cc.Button)],e.prototype,"btnLine",void 0),i([b(cc.Button)],e.prototype,"btnFreeNo",void 0),i([b(cc.Button)],e.prototype,"btnFreeYes",void 0),i([b(cc.Button)],e.prototype,"btnNextRoom",void 0),i([b(cc.Button)],e.prototype,"btnPreRoom",void 0),i([b(cc.Node)],e.prototype,"nodeFree",void 0),e=i([v],e)}(cc.Component);n.NWController=C,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/UI/Notification":"Notification","../../Common/UI/NumberRun":"NumberRun","../../Common/Utilities/Utility":"Utility","../../scenemanager/scripts/SceneManager":"SceneManager","./NWBonus":"NWBonus","./NWEntry":"NWEntry","./NWHandler":"NWHandler","./NWLine":"NWLine","./NWScroll":"NWScroll"}],NWDataFree:[function(t,e,n){"use strict";cc._RF.push(e,"ac674n/Z/hMe6s+vX8SzSyV","NWDataFree");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.listData=[{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:452479,slot_string:"10,10,4,10,10,7,9,10,1,9,8,10,2,9,8,7,5,10,10",prize_string:"7,19,300000;13,19,300000;19,20,100000;40,19,300000",bonus_string:"",bonus_prize:0,position_string:"1,2,8,4,5;1,2,8,9,5;1,2,8,9;1,12,19,14,5;",total_free:0,total_bet:4e5,total_prize:1e6,x2_start_value:1e6,jackpot_value:57440800,jackpot_winner:0,balance:59e5,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:452656,slot_string:"9,10,8,4,4,5,1,6,9,3,8,9,10,10,8,10,8,1,9",prize_string:"9,15,500000;10,15,500000;15,15,500000;16,15,500000;23,16,100000;39,15,500000;40,18,100000",bonus_string:"",bonus_prize:0,position_string:"11,12,17,14,15;11,16,17,18,15;11,12,17,18,15;11,16,17,14,15;11,16,17,14;11,7,3,9,15;1,12,19,14;",total_free:0,total_bet:4e5,total_prize:27e5,x2_start_value:27e5,jackpot_value:57964800,jackpot_winner:0,balance:66e5,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:452818,slot_string:"7,9,6,10,7,4,1,10,3,2,8,10,8,5,9,9,9,8,1",prize_string:"2,6,100000;4,16,100000;5,6,100000;8,6,100000;10,16,100000;11,6,100000;14,6,100000;15,16,100000;17,6,100000;20,6,100000;21,6,100000;24,6,100000;26,6,100000;30,6,100000;32,16,100000;33,6,100000;35,6,100000;37,6,100000",bonus_string:"",bonus_prize:0,position_string:"6,7,8;11,16,19,18;6,12,17;6,7,13;11,16,17,18;6,12,13;6,7,13;11,12,17,18;6,12,13;6,7,13;6,7,8;6,12,13;6,12,17;6,7,17;11,16,13,18;6,12,8;6,2,3;6,16,19;",total_free:0,total_bet:4e5,total_prize:18e5,x2_start_value:18e5,jackpot_value:58448800,jackpot_winner:0,balance:745e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:452823,slot_string:"7,6,10,9,7,10,5,8,4,2,9,9,9,9,9,10,1,10,8",prize_string:"3,17,400000;9,17,400000;31,17,400000;37,20,100000",bonus_string:"",bonus_prize:0,position_string:"11,12,13,14,15;11,12,17,14,15;11,12,19,14,15;6,16,19,18;",total_free:0,total_bet:4e5,total_prize:13e5,x2_start_value:13e5,jackpot_value:58464800,jackpot_winner:0,balance:835e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:453037,slot_string:"4,1,9,9,3,3,10,4,10,8,10,9,10,1,5,10,2,9,5",prize_string:"3,20,100000;7,5,750000;12,5,750000;13,5,750000;18,5,750000;19,5,750000;22,20,100000;28,20,100000;32,20,100000",bonus_string:"",bonus_prize:0,position_string:"11,12,13,14;1,2,8,4;1,7,8,9;1,2,8,9;1,7,8,4;1,2,8,9;11,12,13,9;11,12,13,9;11,16,13,18;",total_free:0,total_bet:4e5,total_prize:415e4,x2_start_value:415e4,jackpot_value:59116800,jackpot_winner:0,balance:93e5,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:453297,slot_string:"8,1,1,10,10,9,10,8,1,4,5,9,9,9,3,10,4,10,10",prize_string:"1,16,100000;2,18,100000;3,8,350000;4,8,350000;5,18,100000;6,16,100000;7,16,100000;8,18,100000;9,8,350000;10,8,350000;11,18,100000;12,16,100000;13,16,100000;14,18,100000;15,8,350000;16,8,350000;17,18,100000;18,16,100000;19,16,100000;20,18,100000;21,18,100000;22,8,350000;23,8,350000;24,18,100000;25,16,100000;26,18,100000;27,16,100000;28,8,350000;29,16,100000;30,18,100000;31,8,350000;32,8,350000;33,18,100000;34,16,100000;35,18,100000;36,8,350000;37,18,100000;38,16,100000;39,8,350000;40,16,100000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4;6,7,8,9;11,12,13,14;11,16,19,18;6,12,17,14;1,7,13,9;1,2,8,4;6,7,13,9;11,12,17,14;11,16,17,18;6,12,13,14;1,7,8,9;1,2,8,9;6,7,13,14;11,12,17,18;11,16,17,14;6,12,13,9;1,7,8,4;1,2,8,9;6,7,13,14;6,7,8,4;11,12,13,9;11,16,17,14;6,12,13,9;1,7,13,14;6,12,17,18;1,7,13,14;11,12,13,9;1,2,13,4;6,7,17,9;11,12,19,14;11,16,13,18;6,12,8,14;1,7,3,9;6,2,3,4;11,7,8,9;6,16,19,18;1,12,17,14;11,7,3,9;1,12,19,14;",total_free:0,total_bet:4e5,total_prize:725e4,x2_start_value:725e4,jackpot_value:59904800,jackpot_winner:0,balance:1425e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:453471,slot_string:"10,9,3,7,10,6,1,7,8,9,9,10,8,2,6,9,6,6,10",prize_string:"5,12,50000;26,10,1000000;30,12,50000",bonus_string:"",bonus_prize:0,position_string:"6,12,17;6,12,17,18,15;6,7,17;",total_free:0,total_bet:4e5,total_prize:11e5,x2_start_value:11e5,jackpot_value:60416800,jackpot_winner:0,balance:1385e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:453466,slot_string:"4,6,10,10,3,5,5,2,3,9,6,9,5,5,10,10,10,8,3",prize_string:"8,9,100000;14,8,350000;20,8,350000",bonus_string:"",bonus_prize:0,position_string:"6,7,13;6,7,13,14;6,7,13,14;",total_free:0,total_bet:4e5,total_prize:8e5,x2_start_value:8e5,jackpot_value:60396800,jackpot_winner:0,balance:1315e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:453683,slot_string:"9,9,10,10,8,5,1,8,6,10,4,10,9,7,3,9,1,10,8",prize_string:"2,9,100000;3,6,100000;4,6,100000;5,9,100000;8,9,100000;9,6,100000;10,6,100000;11,9,100000;14,9,100000;15,6,100000;16,6,100000;17,9,100000;20,9,100000;21,9,100000;22,6,100000;23,6,100000;24,9,100000;26,9,100000;28,6,100000;30,9,100000;31,6,100000;32,6,100000;33,9,100000;35,9,100000;36,6,100000;37,9,100000;39,6,100000",bonus_string:"",bonus_prize:0,position_string:"6,7,8;11,12,13;11,16,19;6,12,17;6,7,13;11,12,17;11,16,17;6,12,13;6,7,13;11,12,17;11,16,17;6,12,13;6,7,13;6,7,8;11,12,13;11,16,17;6,12,13;6,12,17;11,12,13;6,7,17;11,12,19;11,16,13;6,12,8;6,2,3;11,7,8;6,16,19;11,7,3;",total_free:0,total_bet:4e5,total_prize:27e5,x2_start_value:27e5,jackpot_value:61048800,jackpot_winner:0,balance:525e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37377,username:"abcxyz27",room_id:3,total_lines:40,game_status:1,spin_id:453693,slot_string:"10,8,6,4,4,7,6,10,9,3,8,7,8,10,8,8,9,1,1",prize_string:"4,15,500000;5,14,150000;10,15,500000;11,14,150000;16,15,500000;17,14,150000;23,16,100000;24,14,150000;26,14,150000;32,15,500000;33,14,150000",bonus_string:"",bonus_prize:0,position_string:"11,16,19,18,15;6,12,17,14;11,16,17,18,15;6,12,13,14;11,16,17,14,15;6,12,13,9;11,16,17,14;6,12,13,9;6,12,17,18;11,16,13,18,15;6,12,8,14;",total_free:0,total_bet:4e5,total_prize:3e6,x2_start_value:3e6,jackpot_value:61080800,jackpot_winner:0,balance:785e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa27",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37483,username:"abcxyz28",room_id:3,total_lines:40,game_status:1,spin_id:454203,slot_string:"10,9,8,10,9,7,10,9,1,6,8,1,1,9,10,9,8,10,9",prize_string:"1,20,100000;2,14,150000;3,16,100000;4,16,100000;5,14,150000;6,20,100000;7,20,100000;8,14,150000;9,16,100000;10,16,100000;11,14,150000;12,20,100000;13,20,100000;14,14,150000;15,16,100000;16,16,100000;17,14,150000;18,20,100000;19,20,100000;20,14,150000;21,14,150000;22,16,100000;23,16,100000;24,14,150000;25,20,100000;26,14,150000;27,19,300000;28,16,100000;29,20,100000;30,14,150000;31,16,100000;32,16,100000;33,14,150000;34,20,100000;35,14,150000;36,16,100000;37,14,150000;38,20,100000;39,16,100000;40,20,100000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4;6,7,8,9;11,12,13,14;11,16,19,18;6,12,17,14;1,7,13,9;1,2,8,4;6,7,13,9;11,12,17,14;11,16,17,18;6,12,13,14;1,7,8,9;1,2,8,9;6,7,13,14;11,12,17,18;11,16,17,14;6,12,13,9;1,7,8,4;1,2,8,9;6,7,13,14;6,7,8,4;11,12,13,9;11,16,17,14;6,12,13,9;1,7,13,14;6,12,17,18;1,7,13,14,15;11,12,13,9;1,2,13,4;6,7,17,9;11,12,19,14;11,16,13,18;6,12,8,14;1,7,3,9;6,2,3,4;11,7,8,9;6,16,19,18;1,12,17,14;11,7,3,9;1,12,19,14;",total_free:0,total_bet:4e5,total_prize:49e5,x2_start_value:49e5,jackpot_value:62508800,jackpot_winner:0,balance:8e6,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa28",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37483,username:"abcxyz28",room_id:3,total_lines:40,game_status:1,spin_id:454352,slot_string:"5,1,6,9,3,4,10,10,10,9,3,9,8,10,10,10,9,6,1",prize_string:"1,9,100000;2,6,100000;5,6,100000;6,9,100000;7,9,100000;8,6,100000;11,6,100000;12,9,100000;13,9,100000;14,6,100000;17,6,100000;18,9,100000;19,9,100000;20,6,100000;21,6,100000;24,6,100000;25,9,100000;26,6,100000;27,9,100000;29,9,100000;30,6,100000;33,6,100000;34,9,100000;35,6,100000;37,6,100000;38,9,100000;40,9,100000",bonus_string:"",bonus_prize:0,position_string:"1,2,3;6,7,8;6,12,17;1,7,13;1,2,8;6,7,13;6,12,13;1,7,8;1,2,8;6,7,13;6,12,13;1,7,8;1,2,8;6,7,13;6,7,8;6,12,13;1,7,13;6,12,17;1,7,13;1,2,13;6,7,17;6,12,8;1,7,3;6,2,3;6,16,19;1,12,17;1,12,19;",total_free:0,total_bet:4e5,total_prize:27e5,x2_start_value:27e5,jackpot_value:63056800,jackpot_winner:0,balance:275e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa28",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37515,username:"abcxyz29",room_id:3,total_lines:40,game_status:1,spin_id:454593,slot_string:"9,10,9,1,10,5,9,3,9,3,4,1,5,10,9,10,6,10,7",prize_string:"1,18,100000;8,8,350000;11,8,350000;14,8,350000;17,8,350000;20,8,350000;24,8,350000;34,18,100000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4;6,7,13,9;6,12,13,14;6,7,13,14;6,12,13,9;6,7,13,14;6,12,13,9;1,7,3,9;",total_free:0,total_bet:4e5,total_prize:23e5,x2_start_value:23e5,jackpot_value:63896800,jackpot_winner:0,balance:28e5,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa29",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456093,slot_string:"9,10,10,9,8,10,9,8,10,5,9,1,9,1,7,10,1,9,8",prize_string:"1,18,100000;2,20,100000;3,18,100000;4,18,100000;5,20,100000;6,18,100000;7,18,100000;8,20,100000;9,18,100000;10,18,100000;11,20,100000;12,18,100000;13,18,100000;14,20,100000;15,18,100000;16,18,100000;17,20,100000;18,18,100000;19,18,100000;20,20,100000;21,20,100000;22,18,100000;23,18,100000;24,20,100000;25,18,100000;26,20,100000;27,18,100000;28,18,100000;29,18,100000;30,20,100000;31,18,100000;32,18,100000;33,20,100000;34,18,100000;35,20,100000;36,18,100000;37,20,100000;38,18,100000;39,18,100000;40,18,100000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4;6,7,8,9;11,12,13,14;11,16,19,18;6,12,17,14;1,7,13,9;1,2,8,4;6,7,13,9;11,12,17,14;11,16,17,18;6,12,13,14;1,7,8,9;1,2,8,9;6,7,13,14;11,12,17,18;11,16,17,14;6,12,13,9;1,7,8,4;1,2,8,9;6,7,13,14;6,7,8,4;11,12,13,9;11,16,17,14;6,12,13,9;1,7,13,14;6,12,17,18;1,7,13,14;11,12,13,9;1,2,13,4;6,7,17,9;11,12,19,14;11,16,13,18;6,12,8,14;1,7,3,9;6,2,3,4;11,7,8,9;6,16,19,18;1,12,17,14;11,7,3,9;1,12,19,14;",total_free:0,total_bet:4e5,total_prize:4e6,x2_start_value:4e6,jackpot_value:101715900,jackpot_winner:0,balance:1068e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456131,slot_string:"8,9,6,9,8,9,10,10,10,10,5,9,8,1,3,1,9,9,1",prize_string:"1,15,500000;2,18,100000;3,8,350000;4,8,350000;5,18,100000;6,15,500000;7,15,500000;8,18,100000;9,8,350000;10,8,350000;11,18,100000;12,15,500000;13,15,500000;14,18,100000;15,8,350000;16,8,350000;17,18,100000;18,15,500000;19,16,100000;20,18,100000;21,18,100000;22,8,350000;23,8,350000;24,18,100000;25,16,100000;26,18,100000;27,16,100000;28,8,350000;29,15,500000;30,18,100000;31,8,350000;32,8,350000;33,18,100000;34,15,500000;35,18,100000;36,8,350000;37,18,100000;38,15,500000;39,8,350000;40,15,500000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4,5;6,7,8,9;11,12,13,14;11,16,19,18;6,12,17,14;1,7,13,9,5;1,2,8,4,5;6,7,13,9;11,12,17,14;11,16,17,18;6,12,13,14;1,7,8,9,5;1,2,8,9,5;6,7,13,14;11,12,17,18;11,16,17,14;6,12,13,9;1,7,8,4,5;1,2,8,9;6,7,13,14;6,7,8,4;11,12,13,9;11,16,17,14;6,12,13,9;1,7,13,14;6,12,17,18;1,7,13,14;11,12,13,9;1,2,13,4,5;6,7,17,9;11,12,19,14;11,16,13,18;6,12,8,14;1,7,3,9,5;6,2,3,4;11,7,8,9;6,16,19,18;1,12,17,14,5;11,7,3,9;1,12,19,14,5;",total_free:0,total_bet:4e5,total_prize:1125e4,x2_start_value:1125e4,jackpot_value:101863400,jackpot_winner:0,balance:1838e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456269,slot_string:"7,10,1,10,10,4,9,8,1,4,8,1,9,9,3,10,4,10,10",prize_string:"1,14,150000;2,4,1500000;3,16,100000;4,16,100000;5,4,1500000;6,14,150000;7,14,150000;8,4,1500000;9,16,100000;10,16,100000;11,4,1500000;12,14,150000;13,14,150000;14,4,1500000;15,16,100000;16,16,100000;17,4,1500000;18,14,150000;19,14,150000;20,5,750000;21,5,750000;22,16,100000;23,16,100000;24,5,750000;25,14,150000;26,5,750000;27,14,150000;28,16,100000;29,14,150000;30,4,1500000;31,16,100000;32,16,100000;33,4,1500000;34,14,150000;35,4,1500000;36,16,100000;37,4,1500000;38,14,150000;39,16,100000;40,14,150000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4;6,7,8,9,10;11,12,13,14;11,16,19,18;6,12,17,14,10;1,7,13,9;1,2,8,4;6,7,13,9,10;11,12,17,14;11,16,17,18;6,12,13,14,10;1,7,8,9;1,2,8,9;6,7,13,14,10;11,12,17,18;11,16,17,14;6,12,13,9,10;1,7,8,4;1,2,8,9;6,7,13,14;6,7,8,4;11,12,13,9;11,16,17,14;6,12,13,9;1,7,13,14;6,12,17,18;1,7,13,14;11,12,13,9;1,2,13,4;6,7,17,9,10;11,12,19,14;11,16,13,18;6,12,8,14,10;1,7,3,9;6,2,3,4,10;11,7,8,9;6,16,19,18,10;1,12,17,14;11,7,3,9;1,12,19,14;",total_free:0,total_bet:4e5,total_prize:2125e4,x2_start_value:2125e4,jackpot_value:102382900,jackpot_winner:0,balance:3408e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456503,slot_string:"4,9,8,9,9,5,10,9,10,8,6,9,1,1,10,1,8,9,9",prize_string:"1,5,750000;2,8,350000;3,11,200000;4,11,200000;5,8,350000;6,5,750000;7,5,750000;8,8,350000;9,11,200000;10,11,200000;11,8,350000;12,5,750000;13,5,750000;14,8,350000;15,11,200000;16,11,200000;17,8,350000;18,5,750000;19,5,750000;20,8,350000;21,8,350000;22,11,200000;23,11,200000;24,8,350000;25,5,750000;26,8,350000;27,5,750000;28,11,200000;29,5,750000;30,8,350000;31,11,200000;32,11,200000;33,8,350000;34,5,750000;35,8,350000;36,11,200000;37,8,350000;38,5,750000;39,11,200000;40,5,750000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4;6,7,8,9;11,12,13,14;11,16,19,18;6,12,17,14;1,7,13,9;1,2,8,4;6,7,13,9;11,12,17,14;11,16,17,18;6,12,13,14;1,7,8,9;1,2,8,9;6,7,13,14;11,12,17,18;11,16,17,14;6,12,13,9;1,7,8,4;1,2,8,9;6,7,13,14;6,7,8,4;11,12,13,9;11,16,17,14;6,12,13,9;1,7,13,14;6,12,17,18;1,7,13,14;11,12,13,9;1,2,13,4;6,7,17,9;11,12,19,14;11,16,13,18;6,12,8,14;1,7,3,9;6,2,3,4;11,7,8,9;6,16,19,18;1,12,17,14;11,7,3,9;1,12,19,14;",total_free:0,total_bet:4e5,total_prize:1725e4,x2_start_value:1725e4,jackpot_value:103262900,jackpot_winner:0,balance:4308e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456667,slot_string:"8,9,8,9,10,6,1,9,4,10,4,10,1,9,9,9,8,10,9",prize_string:"2,12,50000;3,6,100000;4,6,100000;5,12,50000;8,12,50000;9,6,100000;10,6,100000;11,12,50000;14,12,50000;15,6,100000;16,6,100000;17,12,50000;20,12,50000;21,12,50000;22,5,750000;23,6,100000;24,12,50000;26,12,50000;28,5,750000;30,12,50000;31,6,100000;32,6,100000;33,12,50000;35,12,50000;36,5,750000;37,12,50000;39,5,750000",bonus_string:"",bonus_prize:0,position_string:"6,7,8;11,12,13;11,16,19;6,12,17;6,7,13;11,12,17;11,16,17;6,12,13;6,7,13;11,12,17;11,16,17;6,12,13;6,7,13;6,7,8;11,12,13,9;11,16,17;6,12,13;6,12,17;11,12,13,9;6,7,17;11,12,19;11,16,13;6,12,8;6,2,3;11,7,8,9;6,16,19;11,7,3,9;",total_free:0,total_bet:4e5,total_prize:46e5,x2_start_value:46e5,jackpot_value:103878900,jackpot_winner:0,balance:4428e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456675,slot_string:"10,10,9,9,10,9,8,1,10,9,10,10,8,1,6,3,9,9,4",prize_string:"1,19,300000;3,20,100000;7,19,300000;9,20,100000;13,19,300000;15,20,100000;19,20,100000;22,20,100000;28,19,300000;29,19,300000;31,20,100000;38,19,300000;40,19,300000",bonus_string:"",bonus_prize:0,position_string:"1,2,3,4,5;11,12,13,14;1,2,8,4,5;11,12,17,14;1,2,8,9,5;11,12,17,18;1,2,8,9;11,12,13,9;11,12,13,9,5;1,2,13,4,5;11,12,19,14;1,12,17,14,5;1,12,19,14,5;",total_free:0,total_bet:4e5,total_prize:27e5,x2_start_value:27e5,jackpot_value:103910900,jackpot_winner:0,balance:4658e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456811,slot_string:"5,5,9,10,10,10,9,1,10,9,9,10,8,6,6,1,9,7,4",prize_string:"1,9,100000;2,20,100000;6,9,100000;7,9,100000;8,20,100000;12,9,100000;13,9,100000;17,20,100000;18,9,100000;19,9,100000;21,19,300000;24,19,300000;25,9,100000;27,9,100000;29,9,100000;30,20,100000;34,9,100000;35,20,100000;38,9,100000;40,9,100000",bonus_string:"",bonus_prize:0,position_string:"1,2,3;6,7,8,9;1,7,13;1,2,8;6,7,13,9;1,7,8;1,2,8;6,12,13,9;1,7,8;1,2,8;6,7,8,4,5;6,12,13,9,5;1,7,13;1,7,13;1,2,13;6,7,17,9;1,7,3;6,2,3,4;1,12,17;1,12,19;",total_free:0,total_bet:4e5,total_prize:24e5,x2_start_value:24e5,jackpot_value:104398900,jackpot_winner:0,balance:5073e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456878,slot_string:"6,10,6,10,10,4,1,10,10,3,5,9,8,6,9,10,9,7,1",prize_string:"1,12,50000;2,6,100000;3,9,100000;4,9,100000;5,6,100000;6,12,50000;7,12,50000;8,6,100000;9,9,100000;10,9,100000;11,6,100000;12,12,50000;13,12,50000;14,6,100000;15,9,100000;16,9,100000;17,6,100000;18,12,50000;19,12,50000;20,6,100000;21,6,100000;22,9,100000;23,9,100000;24,6,100000;25,11,200000;26,6,100000;27,11,200000;28,9,100000;29,12,50000;30,6,100000;31,9,100000;32,9,100000;33,6,100000;34,12,50000;35,6,100000;36,9,100000;37,6,100000;38,11,200000;39,9,100000;40,11,200000",bonus_string:"",bonus_prize:0,position_string:"1,2,3;6,7,8;11,12,13;11,16,19;6,12,17;1,7,13;1,2,8;6,7,13;11,12,17;11,16,17;6,12,13;1,7,8;1,2,8;6,7,13;11,12,17;11,16,17;6,12,13;1,7,8;1,2,8;6,7,13;6,7,8;11,12,13;11,16,17;6,12,13;1,7,13,14;6,12,17;1,7,13,14;11,12,13;1,2,13;6,7,17;11,12,19;11,16,13;6,12,8;1,7,3;6,2,3;11,7,8;6,16,19;1,12,17,14;11,7,3;1,12,19,14;",total_free:0,total_bet:4e5,total_prize:395e4,x2_start_value:395e4,jackpot_value:104634900,jackpot_winner:0,balance:4998e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:456990,slot_string:"8,9,5,4,8,3,3,10,9,10,7,6,3,10,3,7,10,1,9",prize_string:"8,3,500000;14,3,500000;20,3,500000",bonus_string:"",bonus_prize:0,position_string:"6,7,13;6,7,13;6,7,13;",total_free:0,total_bet:4e5,total_prize:15e5,x2_start_value:15e5,jackpot_value:105046900,jackpot_winner:0,balance:4543e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:457567,slot_string:"4,10,1,9,9,3,9,8,4,6,10,1,9,9,10,10,4,10,10",prize_string:"1,6,100000;4,19,300000;6,5,750000;7,6,100000;10,19,300000;12,5,750000;13,5,750000;15,19,300000;18,6,100000;19,5,750000;25,6,100000;27,6,100000;29,6,100000;32,19,300000;34,5,750000;38,6,100000;40,6,100000",bonus_string:"",bonus_prize:0,position_string:"1,2,3;11,16,19,18,15;1,7,13,9;1,2,8;11,16,17,18,15;1,7,8,9;1,2,8,9;11,12,17,18,15;1,7,8;1,2,8,9;1,7,13;1,7,13;1,2,13;11,16,13,18,15;1,7,3,9;1,12,17;1,12,19;",total_free:0,total_bet:4e5,total_prize:575e4,x2_start_value:575e4,jackpot_value:106926900,jackpot_winner:0,balance:2548e4,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0},{account_id:37625,username:"abcxyz31",room_id:3,total_lines:40,game_status:1,spin_id:457839,slot_string:"3,6,3,8,3,7,3,7,3,8,10,4,8,7,5,8,6,8,10",prize_string:"34,1,107886900",bonus_string:"",bonus_prize:0,position_string:"1,7,3,9,5;",total_free:0,total_bet:4e5,total_prize:107886900,x2_start_value:0,jackpot_value:5e7,jackpot_winner:1,balance:128566900,is_accumulate:!1,revenue:0,accumulate_items:0,accumulate_data:"",time_remain:0,exec_result:0,ip_address:"",nick_name:"aaaaa31",accumulate_multiply:0,count_event:0,x2_event:!1,total_free_lucky:0}],e=i([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],NWEntry:[function(t,e,n){"use strict";cc._RF.push(e,"556cdKx/A9Me7cHDVSDWhJM","NWEntry"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator;o.ccclass,o.property;(function(t){t.ROOM={R_Test:{id:0,value:1e4,name:"10.000"},R_100:{id:1,value:100,name:"100"},R_1k:{id:2,value:1e3,name:"1.000"},R_10k:{id:3,value:1e4,name:"10.000"}},function(t){t[t.PREPARE=0]="PREPARE",t[t.PLAYING_EFFECT=1]="PLAYING_EFFECT",t[t.STOP=2]="STOP"}(t.SCROLL_STATE||(t.SCROLL_STATE={})),function(t){t[t.PREPARE=0]="PREPARE",t[t.REQUESTING=1]="REQUESTING",t[t.PLAYX2=2]="PLAYX2",t[t.PLAYBONUS=3]="PLAYBONUS",t[t.SPINING=4]="SPINING",t[t.HANDLE_RESULT=5]="HANDLE_RESULT"}(t.GAME_STATE||(t.GAME_STATE={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.AUTO=1]="AUTO",t[t.FAST=2]="FAST"}(t.SPIN_MODE||(t.SPIN_MODE={}))})(n.NWEntry||(n.NWEntry={})),cc._RF.pop()},{}],NWHandler:[function(t,e,n){"use strict";cc._RF.push(e,"10af4Fr4B9NzqV6zgKZldDl","NWHandler");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./NWEntry"),a=t("../../Common/Network/WsHandler"),c=t("../../Common/Data/GameConfigs"),s=t("./NWDataFree"),r=cc._decorator,l=r.ccclass,u=(r.property,function(){function t(){this.onNoti=function(t){},this.onRankEvent=function(t){},this.onFinisBonus=function(t){},this.onFirstBonus=function(t){},this.onHistory=function(t){},this.onRank=function(t){},this.onTopJackpot=function(t){},this.onSpinGame=function(){},this.onJackpot=function(){},this.dataSpinGame=null,this.dataJackpot=[],this.listLine=[],this.room_id=i.NWEntry.ROOM.R_100.id,this.line_tring="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40",this.line_data=this.line_tring.split(","),this.isAudio=!0,this.isStartBonus=!1,this.list_wild=[],this.isRequestLeave=!1,this.isFree=!1,this.DataFree={balance:5e7,jackpot:5e7,line_tring:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40"},this.isConnect=!1}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e,this.Instance.init()),this.Instance},t.prototype.connect=function(){this.isConnect=!0,a.WsHandler.getInstance().joinGame(c.GameConfigs.WSGameName.NuWa)},t.prototype.closeWS=function(){a.WsHandler.getInstance().leaveGame(c.GameConfigs.WSGameName.NuWa),this.isConnect=!1},t.prototype.init=function(){cc.systemEvent.on(c.GameConfigs.WSGameName.NuWa,this.parseRespone.bind(this),this),cc.systemEvent.on(c.GameConfigs.JPName.NuWa,this.parseJackpot.bind(this),this)},t.prototype.parseRespone=function(t){var e=null,n=null;null!=t&&t.hasOwnProperty("account_id")&&this.parseAccountInfo(t),null!=t&&t.hasOwnProperty("message")&&this.parseAccountInfo(t.message),null!=t&&t.hasOwnProperty("s_data")&&(e=t.cmd,n=t.s_data),null!=n&&(this.isConnect=!0,"s_spin_game"==e&&this.parseSpinGame(n),"s_push_jackpot"==e&&this.parseJackpot(n),"s_finish_bonus"==e&&this.parseFinishBonus(n),"s_jackpot"==e&&this.onTopJackpot(n),"s_honor"==e&&this.onRank(n),"s_history"==e&&this.onHistory(n),"s_rank"==e&&this.onRankEvent(n))},t.prototype.clearCallback=function(){this.onNoti=function(t){},this.onRankEvent=function(t){},this.onFinisBonus=function(t){},this.onHistory=function(t){},this.onRank=function(t){},this.onTopJackpot=function(t){},this.onSpinGame=function(){},this.onJackpot=function(){}},t.prototype.parseFinishBonus=function(t){this.isStartBonus?(this.onFirstBonus(t),this.isStartBonus=!1):this.onFinisBonus(t)},t.prototype.parseAccountInfo=function(t){2==t.game_status&&this.processFinishX2(),3==t.game_status&&(this.processFinishBonus(),this.isStartBonus=!0)},t.prototype.parseJackpot=function(t){this.dataJackpot=t,this.onJackpot()},t.prototype.parseSpinGame=function(t){this.listLine=[];var e=t.prize_string;if(e&&(e=e.split(";")).length>0)for(var n in e){var o=e[n].split(",");this.listLine.push(o[0])}t.bonus_prize>0&&(t.total_prize=parseInt(t.total_prize)+parseInt(t.bonus_prize),t.balance=parseInt(t.balance)+parseInt(t.bonus_prize)),this.dataSpinGame=t,this.onSpinGame()},t.prototype.processSpin=function(){if(this.isFree){var t=Math.floor(Math.random()*(s.default.listData.length-1));(n=s.default.listData[t]).jackpot_winner>0&&(n.total_prize=this.DataFree.jackpot),this.parseSpinGame(n)}else{this.listLine=[],this.line_tring=this.line_data[0]+"";for(var e=1;e<this.line_data.length;e++)this.line_tring+=","+this.line_data[e];var n=JSON.stringify({room_id:this.room_id,line_string:this.line_tring});this.callWS("spin_game",n)}},t.prototype.processPlayX2=function(){this.callWS("x2_play","0")},t.prototype.processFinishBonus=function(){this.callWS("finish_bonus","0")},t.prototype.processFinishX2=function(){this.callWS("x2_finish","0")},t.prototype.processTopJackpot=function(){this.callWS("jackpot","0")},t.prototype.processGetRank=function(){this.callWS("honor","0")},t.prototype.processGetHistory=function(){this.callWS("history","0")},t.prototype.provessGetRankEvent=function(){},t.prototype.callWS=function(t,e){var n='{"cmd":"'+t+'","c_data":'+e+"}";a.WsHandler.getInstance().playGame(c.GameConfigs.WSGameName.NuWa,n)},t.Instance=null,t=e=o([l],t)}());n.NWHandler=u,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/WsHandler":"WsHandler","./NWDataFree":"NWDataFree","./NWEntry":"NWEntry"}],NWHelp:[function(t,e,n){"use strict";cc._RF.push(e,"32fb6PB4cVIspGuWwipsoBs","NWHelp");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pgvHelp=null,e.jackpotLabel=null,e.currPage=0,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on("THAN_SAM_JACKPOT_HELP",this.parseJackpot.bind(this),this)},e.prototype.parseJackpot=function(t){var e=t.stt;this.jackpotLabel.money=t.value[e]},e.prototype.onBtnChangePage=function(t,e){1==+e?(this.currPage++,this.currPage>5&&(this.currPage=5)):(this.currPage--,this.currPage<0&&(this.currPage=0)),this.pgvHelp.scrollToPage(this.currPage,.25)},i([r(cc.PageView)],e.prototype,"pgvHelp",void 0),i([r(a.default)],e.prototype,"jackpotLabel",void 0),e=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../Common/UI/NumberRun":"NumberRun"}],NWHistory:[function(t,e,n){"use strict";cc._RF.push(e,"f1486Qljp9GwbZ/zhH+5PRs","NWHistory");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./NWHandler"),c=t("./NWEntry"),s=t("../../Common/Utilities/Utility"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.click=null,e}return o(e,t),e.prototype.start=function(){a.NWHandler.getInstance().onHistory=this.onPushHistory.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.NWHandler.getInstance().processGetHistory()})))},e.prototype.onPushHistory=function(t){var e=50;t.length<e&&(e=t.length),this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);o.getChildByName("bg1").active=n%2!=0,this.contentScroll.addChild(o),this.updateCell(o,t[n],n)}this.contentScroll.height=50*e},e.prototype.updateCell=function(t,e,n){t.getChildByName("Session").getComponent(cc.Label).string=e.spin_id,t.getChildByName("Time").getComponent(cc.Label).string=e.date_time,t.getChildByName("Room").getComponent(cc.Label).string=this.convertRoom(e.room_id),t.getChildByName("BetValue").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(e.total_bet),t.getChildByName("Detail").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(e.total_prize),t.setPosition(0,-25-50*n)},e.prototype.convertRoom=function(t){return t==c.NWEntry.ROOM.R_100.id?c.NWEntry.ROOM.R_100.name+"":t==c.NWEntry.ROOM.R_1k.id?c.NWEntry.ROOM.R_1k.name+"":t==c.NWEntry.ROOM.R_10k.id?c.NWEntry.ROOM.R_10k.name+"":" "},e.prototype.oncLickClose=function(t){a.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1),this.node.destroy()},i([u(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([u(cc.Node)],e.prototype,"contentScroll",void 0),i([u(cc.AudioClip)],e.prototype,"click",void 0),e=i([l],e)}(cc.Component);n.NWHistory=p,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","./NWEntry":"NWEntry","./NWHandler":"NWHandler"}],NWItem:[function(t,e,n){"use strict";cc._RF.push(e,"a107bbOEZ9Nz7LpTM/goFTp","NWItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.updateSkin=function(t){},e.prototype.updateItemById=function(t){if(!(t<1||t>10)){for(var e=0,n=this.node.children;e<n.length;e++){n[e].active=!1}this.node.getChildByName("lm_item0"+t).active=!0}},e=i([c],e)}(cc.Component));n.NWItem=s,cc._RF.pop()},{}],NWLine:[function(t,e,n){"use strict";cc._RF.push(e,"596de9TjsNJGJXgSpwFOVrk","NWLine");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./NWHandler"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lineButtons=null,e.click=null,e.listLine=[],e.onCallback=function(){},e.totalLine=40,e}return o(e,t),e.prototype.onLoad=function(){for(var t=a.NWHandler.getInstance().line_data,e=1;e<=this.totalLine;e++)this.lineButtons.getChildByName(e.toString()).opacity=0;for(e=0;e<t.length;e++)this.lineButtons.getChildByName(t[e].toString()).opacity=255},e.prototype.onLineButtons=function(t,e){a.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1),t.target.opacity>0?t.target.opacity=0:t.target.opacity=255},e.prototype.onBtnLe=function(){a.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1);for(var t=1;t<=this.totalLine;t++)this.lineButtons.getChildByName(t.toString()).opacity=t%2!=0?255:0},e.prototype.onBtnChan=function(){a.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1);for(var t=1;t<=this.totalLine;t++)this.lineButtons.getChildByName(t.toString()).opacity=t%2==0?255:0},e.prototype.onBtnAll=function(){a.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1);for(var t=1;t<=this.totalLine;t++)this.lineButtons.getChildByName(t.toString()).opacity=255},e.prototype.onBtnCancle=function(){a.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1);for(var t=1;t<=this.totalLine;t++)this.lineButtons.getChildByName(t.toString()).opacity=1==t?255:0},e.prototype.checkCanClose=function(){a.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1);for(var t=1;t<=this.totalLine;t++)if(this.lineButtons.getChildByName(t.toString()).opacity>0)return!0;return!1},e.prototype.onBtnClose=function(){if(a.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1),this.checkCanClose()){for(var t=1;t<=this.totalLine;t++)this.lineButtons.getChildByName(t.toString()).opacity>0&&this.listLine.push(t);a.NWHandler.getInstance().line_data=this.listLine,this.onCallback(),this.node.destroy()}},i([r(cc.Node)],e.prototype,"lineButtons",void 0),i([r(cc.AudioClip)],e.prototype,"click",void 0),e=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./NWHandler":"NWHandler"}],NWRank:[function(t,e,n){"use strict";cc._RF.push(e,"a0d9c3lnHlEZYTyaws2ICXf","NWRank");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./NWHandler"),c=t("./NWEntry"),s=t("../../Common/Utilities/Utility"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.click=null,e}return o(e,t),e.prototype.start=function(){a.NWHandler.getInstance().onRank=this.onPushRank.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.NWHandler.getInstance().processGetRank()})))},e.prototype.onPushRank=function(t){var e=50;t.length<e&&(e=t.length),this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);o.getChildByName("bg1").active=n%2!=0,o.getChildByName("Time").getComponent(cc.Label).string=t[n].date_time,o.getChildByName("UserName").getComponent(cc.Label).string=t[n].nick_name,o.getChildByName("Room").getComponent(cc.Label).string=this.convertRoom(t[n].room_id),o.getChildByName("Win").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(t[n].prize_value),1==t[n].top_type?o.getChildByName("Detail").getComponent(cc.Label).string="N\u1ed5 h\u0169":o.getChildByName("Detail").getComponent(cc.Label).string="Th\u1eafng l\u1edbn",o.setPosition(0,-25-50*n),this.contentScroll.addChild(o)}this.contentScroll.height=50*e},e.prototype.convertRoom=function(t){return t==c.NWEntry.ROOM.R_100.id?c.NWEntry.ROOM.R_100.name+"":t==c.NWEntry.ROOM.R_1k.id?c.NWEntry.ROOM.R_1k.name+"":t==c.NWEntry.ROOM.R_10k.id?c.NWEntry.ROOM.R_10k.name+"":" "},e.prototype.oncLickClose=function(t){a.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1),this.node.destroy()},i([u(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([u(cc.Node)],e.prototype,"contentScroll",void 0),i([u(cc.AudioClip)],e.prototype,"click",void 0),e=i([l],e)}(cc.Component);n.NWRank=p,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","./NWEntry":"NWEntry","./NWHandler":"NWHandler"}],NWScroll:[function(t,e,n){"use strict";cc._RF.push(e,"bf6d9dza2JGWZ/rqGCwAgG4","NWScroll");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./NWEntry"),c=t("./NWItem"),s=t("./NWHandler"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effect=null,e.result=null,e.effectWild=null,e.scrollId=0,e.audioSpin=null,e.state=a.NWEntry.SCROLL_STATE.PREPARE,e.listItems=[],e.startDelay=0,e.delegate=null,e.isWild=!1,e.onPlayDone=function(){},e}return o(e,t),e.prototype.start=function(){this.startDelay=.1*this.scrollId,this.effect.node.active=!1;var t=s.NWHandler.getInstance().room_id-1;-1==t&&(t=2);for(var e=0,n=this.result.children;e<n.length;e++){var o=n[e].getComponent(c.NWItem);o.updateItemById(Math.floor(10*Math.random()+2)),this.listItems.push(o)}},e.prototype.setSpinFast=function(t){this.startDelay=t?.1:.1*this.scrollId},e.prototype.updateFx=function(t){this.effect.node.getComponent(cc.Sprite).spriteFrame=t},e.prototype.startScroll=function(t){var e=this,n=setTimeout(function(){e.state!=a.NWEntry.SCROLL_STATE.PREPARE&&(e.resetScroll(),e.onPlayDone()),clearTimeout(n)},5e3),o=null;this.state==a.NWEntry.SCROLL_STATE.PREPARE&&(this.state=a.NWEntry.SCROLL_STATE.PLAYING_EFFECT,this.node.runAction(cc.sequence(cc.delayTime(this.startDelay),cc.callFunc(function(){e.result.getComponent(cc.Animation).play("updown"),s.NWHandler.getInstance().isAudio&&(o=cc.audioEngine.playEffect(e.audioSpin,!1))}),cc.delayTime(.11),cc.callFunc(function(){e.result.active=!1,e.effect.node.active=!0,e.effect.play("scrolleffect"),e.updateResult()}),cc.delayTime(t),cc.callFunc(function(){e.effect.node.active=!1,e.result.active=!0,e.result.getComponent(cc.Animation).play("downup"),o&&cc.audioEngine.stopEffect(o)}),cc.delayTime(.2),cc.callFunc(function(){clearTimeout(n),e.showWild()}))))},e.prototype.updateResult=function(){var t={0:[0,5,10],1:[1,6,11,15],2:[2,7,12,16,18],3:[3,8,13,17],4:[4,9,14]}[this.scrollId],e=s.NWHandler.getInstance().dataSpinGame.slot_string;if(e){e=e.split(",");for(var n=0;n<t.length;n++)this.listItems[n].updateItemById(e[t[n]]),1==e[t[n]]&&(this.isWild=!0)}this.isWild&&s.NWHandler.getInstance().list_wild.push(this.scrollId)},e.prototype.showWild=function(){var t=this;this.isWild?this.node.runAction(cc.sequence(cc.callFunc(function(){t.effectWild.active=!0,t.effectWild.scaleX=0,t.scrollId,t.effectWild.runAction(cc.scaleTo(.1,1,1)),t.effectWild.getComponent(sp.Skeleton).setAnimation(1,"wild-3line",!0),t.result.active=!1}),cc.delayTime(1.1),cc.callFunc(function(){for(var e in t.scrollId,t.effectWild.runAction(cc.scaleTo(.1,0,1)),t.result.active=!0,t.result.children){t.result.children[e].getComponent(c.NWItem).updateItemById(1)}}),cc.delayTime(.5),cc.callFunc(function(){t.resetScroll(),4==t.scrollId&&t.onPlayDone()}))):(4==this.scrollId&&this.onPlayDone(),this.resetScroll())},e.prototype.resetScroll=function(){this.node.stopAllActions(),this.result.active=!0,this.effect.node.active=!1,this.state=a.NWEntry.SCROLL_STATE.PREPARE,this.isWild=!1},i([u(cc.Animation)],e.prototype,"effect",void 0),i([u(cc.Node)],e.prototype,"result",void 0),i([u(cc.Node)],e.prototype,"effectWild",void 0),i([u],e.prototype,"scrollId",void 0),i([u(cc.AudioClip)],e.prototype,"audioSpin",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./NWEntry":"NWEntry","./NWHandler":"NWHandler","./NWItem":"NWItem"}],NWTop:[function(t,e,n){"use strict";cc._RF.push(e,"d84ecEm+hZG5ItQL/2K41gr","NWTop");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./NWHandler"),c=t("./NWEntry"),s=t("../../Common/Utilities/Utility"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.click=null,e}return o(e,t),e.prototype.start=function(){a.NWHandler.getInstance().onTopJackpot=this.onPushTopJackpot.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.NWHandler.getInstance().processTopJackpot()})))},e.prototype.onPushTopJackpot=function(t){var e=50;t.length<e&&(e=t.length),this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);this.contentScroll.addChild(o),o.getChildByName("bg1").active=n%2!=0,this.updateCell(o,t[n],n)}this.contentScroll.height=50*e},e.prototype.updateCell=function(t,e,n){t.getChildByName("Time").getComponent(cc.Label).string=e.date_time,t.getChildByName("UserName").getComponent(cc.Label).string=e.nick_name,t.getChildByName("Room").getComponent(cc.Label).string=this.convertRoom(e.room_id),t.getChildByName("WinValue").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(e.prize_value),t.setPosition(0,-25-50*n)},e.prototype.convertRoom=function(t){return t==c.NWEntry.ROOM.R_100.id?c.NWEntry.ROOM.R_100.name+"":t==c.NWEntry.ROOM.R_1k.id?c.NWEntry.ROOM.R_1k.name+"":t==c.NWEntry.ROOM.R_10k.id?c.NWEntry.ROOM.R_10k.name+"":" "},e.prototype.oncLickClose=function(t){a.NWHandler.getInstance().isAudio&&cc.audioEngine.playEffect(this.click,!1),this.node.destroy()},i([u(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([u(cc.Node)],e.prototype,"contentScroll",void 0),i([u(cc.AudioClip)],e.prototype,"click",void 0),e=i([l],e)}(cc.Component);n.NWTop=p,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","./NWEntry":"NWEntry","./NWHandler":"NWHandler"}],NativeHelper:[function(t,e,n){"use strict";cc._RF.push(e,"460cfU+uFNId5KIewsXAumI","NativeHelper"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t.sendSMS=function(t,e){cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("NativeHelper","sendSMS:withContent:",t.toString(),e),cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","sendSMSJNI","(Ljava/lang/String;Ljava/lang/String;)V",t.toString(),e)},t.sendEmail=function(t,e,n){cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("NativeHelper","sendEmail:withSubject:andContent:",t.toString(),e,n),cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","sendEmailJNI","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t.toString(),e,n)},t.getDeviceID=function(){var t=null;return cc.sys.os==cc.sys.OS_IOS&&(t=jsb.reflection.callStaticMethod("NativeHelper","getDeviceID")),cc.sys.os==cc.sys.OS_ANDROID&&(t=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getIDDeviceJNI","()Ljava/lang/String;")),t},t.isInternetConnection=function(){var t=null;return cc.sys.os==cc.sys.OS_IOS&&(t=jsb.reflection.callStaticMethod("NativeHelper","checkInternetConnection")),cc.sys.os==cc.sys.OS_ANDROID&&(t=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","checkInternetConnectionJNI","()Z")),t},t.callNumber=function(t){cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("NativeHelper","callNumber:",t),cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","callNumberJNI","(Ljava/lang/String;)V",t)}}(n.NativeHelper||(n.NativeHelper={})),cc._RF.pop()},{}],NodeBetTXMini:[function(t,e,n){"use strict";cc._RF.push(e,"6a643JGrpBIcathjqf6ZGbL","NodeBetTXMini");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utilities/Utility"),c=t("../../Common/Data/GameData"),s=t("../../Common/Data/LabelHelperConfigs"),r=t("../../Common/UI/Notification"),l=t("../../Common/Data/GameConfigs"),u=t("./TaiXiuHandler"),p=t("../../Common/Data/Constants"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeQuick=null,e.nodeOther=null,e.notiPrefab=null,e.coinPrefab=null,e.holderCoin=null,e.destinationPos=[],e.acCoin=null,e.nodeEvent=null,e.betMoney="",e.isQuick=!0,e.rootNode=null,e.tmpNumber=0,e.editBox=null,e.language=null,e.moneyTemp=0,e}return o(e,t),e.prototype.onLoad=function(){this.language=s.TextData[c.default.getInstance().UserData.textPackage],cc.systemEvent.on(p.default.EVENT_TAIXIU.TAIXIU_HANDLER+"BetOfAccount",this.onBetDone.bind(this),this)},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.setDefault()},e.prototype.setDelegate=function(t){this.rootNode=t},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},e.prototype.setDefault=function(){this.language=s.TextData[c.default.getInstance().UserData.textPackage],this.isQuick=!0,this.nodeOther.active=!1,this.nodeQuick.active=!0,this.betMoney="",this.tmpNumber=0,this.holderCoin.removeAllChildren(!0)},e.prototype.onBtnOther=function(t,e){if("OTHER"==e)return this.nodeQuick.active=!0,this.nodeOther.active=!1,this.betMoney="",this.tmpNumber=0,void(this.editBox.string=this.betMoney);this.rootNode.canBet&&("OTHER"!=e&&"DEL"!=e?this.betMoney+=e:"DEL"==e&&(this.betMoney=this.betMoney.slice(0,this.betMoney.length-1)),this.editBox.string=a.Utility.getInstance().add_commas(parseInt(this.betMoney)),this.editBox.node.opacity=255)},e.prototype.onBtnQuick=function(t,e){if("QUICK"==e)return this.nodeQuick.active=!1,this.nodeOther.active=!0,this.betMoney="",this.tmpNumber=0,void(this.editBox.string=this.betMoney);this.rootNode.canBet&&(this.tmpNumber+=parseInt(e),this.editBox.string="  "+a.Utility.getInstance().add_commas(this.tmpNumber),this.editBox.node.opacity=255,this.betMoney=""+this.tmpNumber)},e.prototype.onBtnBet=function(t,e){if(""!=this.editBox.string){var n=a.Utility.getInstance().moneytoNumber(this.editBox.string);parseInt(n)<1e3?this.enableNoti("C\u01b0\u1ee3c t\u1ed1i thi\u1ec3u 1.000 LONG"):parseInt(n)>c.default.getInstance().UserData.balance?this.showNotMoney():parseInt(n)>=1e9?this.enableNoti("C\u01b0\u1ee3c t\u1ed1i \u0111a 1.000.000.000"):(this.betMoney=n,this.moneyTemp=+n,u.default.getInstance().processBet(this.betMoney,this.rootNode.localBet),this.betMoney="",this.editBox.placeholder=this.language.tx_bet,this.editBox.string="",this.editBox.node.opacity=100,this.tmpNumber=0)}},e.prototype.onBtnCancle=function(){p.default.EVENT_TAIXIU.SHOW_EVENT_DT&&(this.nodeEvent.active=!0),this.node.active=!1,this.editBox.placeholder=this.language.tx_bet,this.editBox.string="",this.editBox.node.opacity=100},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent(r.default).setContent(t),e.getComponent(r.default).showDialog(2),cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP)},e.prototype.showNotMoney=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent(r.default).setContent(this.language.no_enough_balance),t.getComponent(r.default).showNotMoney(),cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onBetDone=function(){var t=u.default.getInstance().betOfAccount;this.animCoin(1==t.winLocal?0:1)},e.prototype.animCoin=function(t){var e=this,n=5;this.moneyTemp>=1e3&&this.moneyTemp<1e5?n=5:this.moneyTemp>=1e5&&this.moneyTemp<1e6?n=10:this.moneyTemp>=1e6&&(n=15);for(var o=function(o){var c=cc.instantiate(i.coinPrefab);i.holderCoin.addChild(c);var s=a.Utility.getInstance().randomInt(-100,100),r=a.Utility.getInstance().randomInt(-50,50);c.setPosition(s,r);var l=[cc.v2(0,300),cc.v2(10,-200),i.destinationPos[t].position],u=cc.bezierTo(1+.1*o,l);c.runAction(cc.sequence(u,cc.callFunc(function(){cc.audioEngine.playEffect(e.acCoin,!1),c.destroy(),o==n-1&&e.onBtnCancle()})))},i=this,c=0;c<n;c++)o(c)},i([f(cc.Node)],e.prototype,"nodeQuick",void 0),i([f(cc.Node)],e.prototype,"nodeOther",void 0),i([f(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([f(cc.Prefab)],e.prototype,"coinPrefab",void 0),i([f(cc.Node)],e.prototype,"holderCoin",void 0),i([f(cc.Node)],e.prototype,"destinationPos",void 0),i([f(cc.AudioClip)],e.prototype,"acCoin",void 0),i([f(cc.Node)],e.prototype,"nodeEvent",void 0),e=i([h],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/UI/Notification":"Notification","../../Common/Utilities/Utility":"Utility","./TaiXiuHandler":"TaiXiuHandler"}],NodeChatTXMini:[function(t,e,n){"use strict";cc._RF.push(e,"2d8eftQhlNIIZAxH7Kl+cfm","NodeChatTXMini");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./ChatHandler"),c=t("../../Common/Data/Constants"),s=t("../../Common/Data/GameData"),r=t("../../Common/Network/WsHandler"),l=t("../../Common/Data/GameConfigs"),u=t("../../Common/UI/Notification"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.editboxChat=null,e.scvChat=null,e.chatCell=null,e.chatContent=null,e.pin=null,e.notiPrefab=null,e.listMessData=[],e.isOn=!1,e.pinMess="",e.doneParseListMess=!1,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(c.default.EVENT_TAIXIU.TAIXIU_HANDLER+"ChatListMess",this.processListMess.bind(this),this),cc.systemEvent.on(c.default.EVENT_TAIXIU.TAIXIU_HANDLER+"SendMess",this.processSendMess.bind(this),this),cc.systemEvent.on(c.default.EVENT_TAIXIU.PIN,this.onPinChat.bind(this),this),cc.systemEvent.on(c.default.EVENT_TAIXIU.TAIXIU_HANDLER+"NotEnoughVIP",this.onNotEnoughVip.bind(this),this),cc.systemEvent.on(c.default.EVENT_TAIXIU.TAIXIU_HANDLER+"COMFIRM_PIN",this.onConfirmPin.bind(this),this),cc.systemEvent.on(c.default.EVENT_TAIXIU.TAIXIU_HANDLER+"COMFIRM_UNPIN",this.onConfirmPin.bind(this),this),cc.systemEvent.on(c.default.EVENT_TAIXIU.UNPIN,this.onUnPin.bind(this),this)},e.prototype.onEnable=function(){this.isOn||(this.isOn=!0,r.WsHandler.getInstance().isConnectChat&&a.ChatHandler.getInstance().joinRoomTX())},e.prototype.onDestroy=function(){this.isOn=!1,this.doneParseListMess=!1,a.ChatHandler.getInstance().outRoomTX(),cc.systemEvent.targetOff(this)},e.prototype.onBtnClose=function(t){this.node.active=!1},e.prototype.onNotEnoughVip=function(t){this.enableNoti("T\xednh n\u0103ng T\xe1n G\u1eabu s\u1ebd \u0111\u01b0\u1ee3c m\u1edf khi b\u1ea1n ch\u01a1i 20.000\nKhi \u0111\u1ea1t b\u1ea1n ph\u1ea3i Login l\u1ea1i \u0111\u1ec3 chat")},e.prototype.onPinChat=function(t){var e=this;this.pin.removeAllChildren(!0);var n=cc.instantiate(this.chatCell);n.getComponent(cc.RichText).string="<color=#FF4800>"+t.message+"</c>",n.getComponent(cc.RichText).maxWidth=250,n.getComponent(cc.RichText).lineHeight=30,n.x=18,n.children[0].active=!0,n.on(cc.Node.EventType.TOUCH_END,function(){c.default.ADMIN&&e.enablePin("B\u1ea1n c\xf3 mu\u1ed1n b\u1ecf ghim tin n\xe0y?",1)}),this.pin.addChild(n)},e.prototype.onUnPin=function(){this.pin.height=0,this.pin.removeAllChildren(!0)},e.prototype.onConfirmPin=function(t){0==t?a.ChatHandler.getInstance().pinChat(this.pinMess):a.ChatHandler.getInstance().unpinChat()},e.prototype.processListMess=function(t){var e=this;if(!this.doneParseListMess){this.listMessData=a.ChatHandler.getInstance().listMess;for(var n=this.listMessData.length,o=function(t){i.node.runAction(cc.sequence(cc.delayTime(.2*t),cc.callFunc(function(){var n=cc.instantiate(e.chatCell);c.default.ADMIN&&n.on(cc.Node.EventType.TOUCH_END,function(){"ADMIN"==e.listMessData[t].nickname&&(e.enablePin("B\u1ea1n c\xf3 mu\u1ed1n ghim tin n\xe0y?",0),e.pinMess=e.listMessData[t].message)}),e.updateChatLine(n,e.listMessData[t]),e.chatContent.addChild(n),e.scvChat.scrollToBottom(.5)})))},i=this,s=0;s<n;s++)o(s);this.doneParseListMess=!0}},e.prototype.processSendMess=function(t){this.cellMess=a.ChatHandler.getInstance().sendMess,this.spawnMessLine(),this.chatContent.height>=200&&this.chatContent.y>=this.chatContent.height-400&&this.scvChat.scrollToBottom(.5)},e.prototype.spawnMessLine=function(){var t=this;this.chatContent.children.length>25&&this.chatContent.children.shift().removeFromParent(!0);var e=cc.instantiate(this.chatCell),n=this.cellMess.message;c.default.ADMIN&&e.on(cc.Node.EventType.TOUCH_END,function(){"ADMIN"==t.cellMess.nickname&&(t.enablePin("B\u1ea1n c\xf3 mu\u1ed1n ghim tin n\xe0y?",0),t.pinMess=n)}),this.updateChatLine(e,this.cellMess),this.chatContent.addChild(e)},e.prototype.onBtnSend=function(){""!=this.editboxChat.string.trim()&&(a.ChatHandler.getInstance().processPostMessage(this.editboxChat.string),this.editboxChat.string="")},e.prototype.updateChatLine=function(t,e){var n=t.getComponent(cc.RichText);if("ADMIN"==e.nickname){var o=e.message;n.string=this.optimizeRichText("ADMIN","#FF4800",o,"#FF4800",e.gate_name)}else s.default.getInstance().UserData.nick!=e.nickname?n.string=this.optimizeRichText(e.nickname,"#be906b",e.message,"#f6e29c",e.gate_name):(n.string=this.optimizeRichText(e.nickname,"#FAEA2D",e.message,"#f6e29c",e.gate_name),this.editboxChat.string="")},e.prototype.optimizeRichText=function(t,e,n,o,i){return"<color="+e+">["+i+"]."+t+": </c><color="+o+">"+n+"</c>"},e.prototype.onReturnEdit=function(t,e){this.onBtnSend()},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent("Notification").setContent(t),e.getComponent("Notification").showDialog(2),cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP)},e.prototype.enablePin=function(t,e){var n=cc.instantiate(this.notiPrefab);n.getComponent(u.default).showConfirmPin(e),n.getComponent(u.default).setContent(t),cc.director.getScene().addChild(n,l.GameConfigs.zOderGame.POP_UP)},i([h(cc.EditBox)],e.prototype,"editboxChat",void 0),i([h(cc.ScrollView)],e.prototype,"scvChat",void 0),i([h(cc.Prefab)],e.prototype,"chatCell",void 0),i([h(cc.Node)],e.prototype,"chatContent",void 0),i([h(cc.Node)],e.prototype,"pin",void 0),i([h(cc.Prefab)],e.prototype,"notiPrefab",void 0),e=i([d],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Network/WsHandler":"WsHandler","../../Common/UI/Notification":"Notification","./ChatHandler":"ChatHandler"}],NodeEvent:[function(t,e,n){"use strict";cc._RF.push(e,"a8be43fpL9Lfq14RXi80rFf","NodeEvent");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TaiXiuHandler"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadNode=null,e.lbRank=null,e.lbWin=null,e.slideEvent=null,e}return o(e,t),e.prototype.onLoad=function(){a.default.getInstance().onPushContinueWin=this.onContinueWin.bind(this)},e.prototype.onContinueWin=function(t){var e=(t.data/30).toFixed(2);this.loadNode.scaleY=parseFloat(e),this.slideEvent.progress=parseFloat(e),this.lbRank.string=""+t.rank,this.lbWin.string=""+t.data},i([r(cc.Node)],e.prototype,"loadNode",void 0),i([r(cc.Label)],e.prototype,"lbRank",void 0),i([r(cc.Label)],e.prototype,"lbWin",void 0),i([r(cc.Slider)],e.prototype,"slideEvent",void 0),e=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./TaiXiuHandler":"TaiXiuHandler"}],NodeScaleEffect:[function(t,e,n){"use strict";cc._RF.push(e,"b652fFxQnlPfr0QYRQdJFlm","NodeScaleEffect");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=.2,e}return o(e,t),e.prototype.start=function(){this.node.scale=0;var t=cc.scaleTo(this.duration,1);this.node.runAction(t.easing(cc.easeOut(3)))},i([s()],e.prototype,"duration",void 0),e=i([c],e)}(cc.Component);n.NodeScaleEffect=r,cc._RF.pop()},{}],NotificationShow:[function(t,e,n){"use strict";cc._RF.push(e,"929b35p8RhF6Ylz8aU0HryF","NotificationShow");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTop=null,e.sprite_text=null,e.node_warning=null,e.jackpot_cm=null,e.Catran_cm=null,e.sprite_frame_text=[],e.control=null,e.canHide=!0,e.TYPE={NOMARL:1,BOSS:2,JACKPOT:3,CATRAN:4,NON_ACTION:5,KICK:6,BAOTRI:7,HT_BAN:8},e.STATE=0,e}return o(e,t),e.prototype.onLoad=function(){this.node.active=!1},e.prototype.onDisable=function(){this.STATE=0,this.node.stopAllActions(),this.lbTop.node.stopAllActions(),this.node_warning.stopAllActions(),this.sprite_text.node.stopAllActions(),this.node_warning.active=!1,this.jackpot_cm.active=!1,this.Catran_cm.active=!1},e.prototype.onEnable=function(){this.jackpot_cm.active=!1,this.Catran_cm.active=!1},e.prototype.showNotification=function(t,e,n,o){var i=this;if(void 0===t&&(t=""),!(this.STATE>e)){this.node.active=!0,this.sprite_text.node.active=!0,this.lbTop.node.active=!0,this.STATE=e,this.canHide=n;var a=3;try{switch(e){case this.TYPE.NON_ACTION:a=10,this.sprite_text.spriteFrame=this.sprite_frame_text[1],this.sprite_text.node.runAction(cc.repeat(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5)),a)),this.node_warning.active=!0,this.node_warning.runAction(cc.repeat(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5)),a)),this.lbTop.string=a+"s",this.lbTop.node.runAction(cc.repeat(cc.sequence(cc.blink(1,1),cc.callFunc(function(){a--,i.lbTop.string=a+"s"},this)),a));break;case this.TYPE.JACKPOT:this.sprite_text.node.active=!1,this.jackpot_cm.active=!0,this.lbTop.node.active=!1,this.node_warning.active=!0,this.node_warning.runAction(cc.repeat(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5)),a));break;case this.TYPE.CATRAN:this.sprite_text.node.active=!1,this.Catran_cm.active=!0,this.lbTop.node.active=!1,this.node_warning.active=!0,this.node_warning.runAction(cc.repeat(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5)),a));break;case this.TYPE.NOMARL:this.sprite_text.node.active=!1,this.lbTop.string=t,a=2;break;case this.TYPE.KICK:this.Catran_cm.active=!1,this.jackpot_cm.active=!1,this.sprite_text.spriteFrame=this.sprite_frame_text[2],this.lbTop.string=t,a=2;break;case this.TYPE.BAOTRI:case this.TYPE.HT_BAN:this.sprite_text.node.active=!1,this.lbTop.string=t,a=2}this.node.runAction(cc.sequence(cc.delayTime(a),cc.callFunc(function(){i.lbTop.node.stopAllActions(),i.sprite_text.node.stopAllActions(),o&&o(),i.node.active=!1})))}catch(t){}}},e.prototype.cancleEvent=function(){this.lbTop.node.stopAllActions(),this.sprite_text.node.stopAllActions(),this.node.active=!1},i([s(cc.Label)],e.prototype,"lbTop",void 0),i([s(cc.Sprite)],e.prototype,"sprite_text",void 0),i([s(cc.Node)],e.prototype,"node_warning",void 0),i([s(cc.Node)],e.prototype,"jackpot_cm",void 0),i([s(cc.Node)],e.prototype,"Catran_cm",void 0),i([s([cc.SpriteFrame])],e.prototype,"sprite_frame_text",void 0),e=i([c],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],Notification:[function(t,e,n){"use strict";cc._RF.push(e,"b5667JioE5KnZu3iS39TLd3","Notification");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Data/GameConfigs"),c=t("../../Lobby/Scripts/LoadingManager"),s=t("../Network/ConnectHandler"),r=t("../Data/GameData"),l=t("../../Lobby/Scripts/UserInfo"),u=t("../Data/LabelHelperConfigs"),p=t("../Data/Constants"),d=t("./PopupInterface"),h=cc._decorator,f=h.ccclass,_=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbContent=null,e.nodeNotMoney=null,e.nodeNap=null,e.noedOTP=null,e.userInfo=null,e.notiPrefab=null,e.nodeLogOut=null,e.nodeChangeTabTransaction=null,e.nodeConfirmPin=null,e.language=null,e.activePhone=!1,e.optionPin=0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){var t=cc.winSize;this.node.x=t.width/2,this.node.y=t.height/2,this.language=u.TextData[r.default.getInstance().UserData.textPackage],cc.systemEvent.on(p.default.EVENT_API.GET_OTP,this.onGetOTPResponse.bind(this),this)},e.prototype.onGetOTPResponse=function(t){c.default.getInstance().hide(),null!=t?(0==t.status?(cc.systemEvent.emit(p.default.EVENT_LOBBY.UPDATE_BALANCE,t.data),this.enableNoti(s.default.getInstance().statusApiError(1))):this.enableNoti(s.default.getInstance().statusApiError(t.status)),this.node.removeFromParent(!0),this.node.destroy()):this.enableNoti(this.language.system_busy)},e.prototype.setContent=function(t){this.lbContent.string=t},e.prototype.showDialog=function(t,e,n){var o=this;void 0===e&&(e=!0),this.node.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(function(){e&&o.node.getComponent(d.default).closePopup(),n&&n()})))},e.prototype.showConfirmPin=function(t){this.nodeConfirmPin.active=!0,this.optionPin=t},e.prototype.showOTP=function(){this.noedOTP.active=!0},e.prototype.showLogOut=function(){this.nodeLogOut.active=!0},e.prototype.showChangeTabTransaction=function(){this.nodeChangeTabTransaction.active=!0},e.prototype.onBtnChangeTab=function(){cc.systemEvent.emit("CHANGE_TAB"),this.node.destroy(),this.node.removeFromParent(!0)},e.prototype.onBtnConfirmLogOut=function(){cc.systemEvent.emit(p.default.EVENT_LOBBY.CONFIRM_LOG_OUT),this.node.destroy(),this.node.removeFromParent(!0)},e.prototype.onBtnConfirmPin=function(){0==this.optionPin?cc.systemEvent.emit(p.default.EVENT_TAIXIU.TAIXIU_HANDLER+"COMFIRM_PIN",0):cc.systemEvent.emit(p.default.EVENT_TAIXIU.TAIXIU_HANDLER+"COMFIRM_UNPIN",1),this.node.destroy(),this.node.removeFromParent(!0)},e.prototype.onBtnConfirmOTP=function(){if(!this.activePhone&&""==r.default.getInstance().UserData.phone){var t=cc.instantiate(this.userInfo);return t.getComponent(l.default).setToSecurity("PHONE"),cc.director.getScene().addChild(t,a.GameConfigs.zOderGame.POP_UP),this.node.destroy(),void this.node.removeFromParent(!0)}c.default.getInstance().show(),s.default.getInstance().processGetOTP()},e.prototype.showNotMoney=function(){this.nodeNotMoney.active=!0},e.prototype.onBtnNap=function(t){this.node.destroy(),this.node.removeFromParent(!0);var e=cc.instantiate(this.nodeNap);cc.director.getScene().addChild(e,a.GameConfigs.zOderGame.POP_UP)},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent(n).setContent(t),e.getComponent(n).showDialog(2),cc.director.getScene().addChild(e,a.GameConfigs.zOderGame.POP_UP)},i([_(cc.Label)],e.prototype,"lbContent",void 0),i([_(cc.Node)],e.prototype,"nodeNotMoney",void 0),i([_(cc.Prefab)],e.prototype,"nodeNap",void 0),i([_(cc.Node)],e.prototype,"noedOTP",void 0),i([_(cc.Prefab)],e.prototype,"userInfo",void 0),i([_(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([_(cc.Node)],e.prototype,"nodeLogOut",void 0),i([_(cc.Node)],e.prototype,"nodeChangeTabTransaction",void 0),i([_(cc.Node)],e.prototype,"nodeConfirmPin",void 0),e=n=i([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../Lobby/Scripts/LoadingManager":"LoadingManager","../../Lobby/Scripts/UserInfo":"UserInfo","../Data/Constants":"Constants","../Data/GameConfigs":"GameConfigs","../Data/GameData":"GameData","../Data/LabelHelperConfigs":"LabelHelperConfigs","../Network/ConnectHandler":"ConnectHandler","./PopupInterface":"PopupInterface"}],NumberRun:[function(t,e,n){"use strict";cc._RF.push(e,"7d9f014xSNDBoVLL0cj4y84","NumberRun");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Utilities/Utility"),c=cc._decorator,s=c.ccclass,r=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.curValue=0,e.targetValue=0,e._money=0,e}return o(e,t),e.prototype.onLoad=function(){},Object.defineProperty(e.prototype,"money",{get:function(){return this._money},set:function(t){this._money=t,this.runNumber(t,!0)},enumerable:!0,configurable:!0}),e.prototype.runNumber=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=1),this.string=a.Utility.getInstance().add_commas(Math.floor(+this.targetValue)),this.curValue=+this.targetValue,this.targetValue=+t;var i=+t-+this.curValue,c=Math.round(i/(n/.05));this.node.stopAllActions(),this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.05),cc.callFunc(function(){var i=o.curValue+ +c;+i>=+t?(o.node.stopAllActions(),o.string=a.Utility.getInstance().add_commas(Math.floor(+o.targetValue)),o.node.runAction(cc.sequence(cc.delayTime(n),cc.callFunc(function(){e||(o.targetValue=0),o.node.active=e})))):(o.curValue=Math.floor(+i),o.string=a.Utility.getInstance().add_commas(Math.floor(+i)))}))))},e.prototype.runNumberPrefix=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=1),this.string="$"+a.Utility.getInstance().add_commas(Math.round(100*+this.targetValue)/100),this.curValue=+this.targetValue,this.targetValue=+t;var i=+t-+this.curValue,c=Math.round(i/(n/.05));this.node.stopAllActions(),this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.05),cc.callFunc(function(){var i=o.curValue+ +c;+i>=+t?(o.node.stopAllActions(),o.string="$"+a.Utility.getInstance().add_commas(Math.round(100*+o.targetValue)/100),o.node.runAction(cc.sequence(cc.delayTime(n),cc.callFunc(function(){e||(o.targetValue=0),o.node.active=e})))):(o.curValue=Math.floor(+i),o.string="$"+a.Utility.getInstance().add_commas(Math.round(100*+o.targetValue)/100))}))))},e.prototype.runNumberFish=function(t,e){var n=this;this.string=a.Utility.getInstance().add_commas(Math.floor(+this.targetValue)),this.curValue=+this.targetValue,this.targetValue=+t;var o=+t-+this.curValue,i=Math.round(o/(e/.05));this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.05),cc.callFunc(function(){var e=n.curValue+ +i;+e>=+t?n.string=a.Utility.getInstance().add_commas(Math.floor(+n.targetValue)):(n.curValue=Math.floor(+e),n.string=a.Utility.getInstance().add_commas(Math.floor(+e)))}))))},e.prototype.runNumberMini=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=1),this.string="+"+a.Utility.getInstance().add_commas(Math.floor(+this.targetValue)),this.curValue=+this.targetValue,this.targetValue=+t;var i=+t-+this.curValue,c=Math.round(i/(n/.05));this.node.stopAllActions(),this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.05),cc.callFunc(function(){var i=o.curValue+ +c;+i>=+t?(o.node.stopAllActions(),o.string="+"+a.Utility.getInstance().add_commas(Math.floor(+o.targetValue)),o.node.runAction(cc.sequence(cc.delayTime(n),cc.callFunc(function(){e||(o.targetValue=0),o.node.active=e})))):(o.curValue=Math.floor(+i),o.string="+"+a.Utility.getInstance().add_commas(Math.floor(+i)))}))))},e=i([s],e)}(cc.Label));n.default=r,cc._RF.pop()},{"../Utilities/Utility":"Utility"}],Particle:[function(t,e,n){"use strict";cc._RF.push(e,"1f412B2PWpHbYa0kRoElW/5","Particle");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.particle=null,e.timeLife=3,e}return o(e,t),e.prototype.onLoad=function(){this.node.runAction(cc.sequence(cc.delayTime(this.timeLife),cc.removeSelf(!0)))},e.prototype.setSpeed=function(t){this.particle.speed=t},i([s(cc.ParticleSystem)],e.prototype,"particle",void 0),e=i([c],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],Payment:[function(t,e,n){"use strict";cc._RF.push(e,"1206fWZlKFFmrCwTwIMhOeY","Payment");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameConfigs"),c=t("../../Common/UI/Notification"),s=t("./LoadingManager"),r=t("./ChargeCard"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listTopButton=[],e.listNode=[],e.notiPrefab=null,e.chargeCard=null,e.tab=0,e.isTransaction=!1,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on("CHANGE_TAB",this.onChangeTab.bind(this),this)},e.prototype.onChangeTab=function(){this.isTransaction=!1,this.onBtnTop(this.listTopButton[this.tab],this.tab)},e.prototype.onBtnTop=function(t,e){if(this.tab=+e,this.isTransaction)this.enableNoti("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n tho\xe1t giao d\u1ecbch?");else for(var n in this.listTopButton)parseInt(n)==e?(this.listNode[n].active=!0,this.listTopButton[n].node.opacity=255):(this.listNode[n].active=!1,this.listTopButton[n].node.opacity=0)},e.prototype.onChangeMoMo=function(){var t=this;s.default.getInstance().show(),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){t.chargeCard.onBtnOption(null,0),s.default.getInstance().hide()})))},e.prototype.setToSelection=function(t){this.onBtnTop(this.listTopButton[t],t)},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent(c.default).setContent(t),e.getComponent(c.default).showChangeTabTransaction(),cc.director.getScene().addChild(e,a.GameConfigs.zOderGame.POP_UP)},i([p(cc.Button)],e.prototype,"listTopButton",void 0),i([p(cc.Node)],e.prototype,"listNode",void 0),i([p(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([p(r.default)],e.prototype,"chargeCard",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/UI/Notification":"Notification","./ChargeCard":"ChargeCard","./LoadingManager":"LoadingManager"}],PhongThanAnim:[function(t,e,n){"use strict";cc._RF.push(e,"6962ePmFTZN4YUNndaSe6+s","PhongThanAnim");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/Constants"),c=cc._decorator,s=c.ccclass,r=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onBtnRemove=function(){cc.systemEvent.emit(a.default.PT_EVENT.BACK_SPIN),this.node.destroy(),this.node.removeFromParent()},e=i([s],e)}(cc.Component));n.default=r,cc._RF.pop()},{"../../Common/Data/Constants":"Constants"}],PhongThanBoard:[function(t,e,n){"use strict";cc._RF.push(e,"22e6b9AWv1OIo5qO/nWBnZv","PhongThanBoard");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./PhongThanHandler"),c=t("../../Common/Data/Constants"),s=t("../../Common/Utilities/Utility"),r=t("../../Lobby/Scripts/LoadingManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.ptCell=null,e}return o(e,t),e.prototype.onEnable=function(){this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){r.default.getInstance().show(),a.PhongThanHandler.getInstance().getHonor()}))),cc.systemEvent.on(c.default.PT_EVENT.GET_HONOR,this.onGetHonor.bind(this),this)},e.prototype.onGetHonor=function(t){for(var e in r.default.getInstance().hide(),this.content.destroyAllChildren(),t){var n=cc.instantiate(this.ptCell);parseInt(e)%2==0?n.getChildByName("1").active=!1:n.getChildByName("1").active=!0,n.getChildByName("Time").getComponent(cc.Label).string=t[e].date_time,n.getChildByName("UserName").getComponent(cc.Label).string=t[e].nick,n.getChildByName("Value").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(t[e].prize_value),n.getChildByName("Award").getComponent(cc.Label).string=t[e].prize_name,this.content.addChild(n)}},i([p(cc.Node)],e.prototype,"content",void 0),i([p(cc.Prefab)],e.prototype,"ptCell",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./PhongThanHandler":"PhongThanHandler"}],PhongThanBonusKNB:[function(t,e,n){"use strict";cc._RF.push(e,"d317ejCm25KpLgonA7itLYR","PhongThanBonusKNB");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameConfigs"),c=t("../../Lobby/Scripts/Payment"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.payment=null,e}return o(e,t),e.prototype.onBtnChargeCard=function(){var t=cc.instantiate(this.payment),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,cc.director.getScene().addChild(t,a.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnChargeMoMo=function(){var t=cc.instantiate(this.payment),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,t.getComponent(c.default).onChangeMoMo(),cc.director.getScene().addChild(t,a.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnMerchant=function(){var t=cc.instantiate(this.payment),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,t.getComponent(c.default).onBtnTop(null,3),cc.director.getScene().addChild(t,a.GameConfigs.zOderGame.POP_UP)},i([l(cc.Prefab)],e.prototype,"payment",void 0),e=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Lobby/Scripts/Payment":"Payment"}],PhongThanController:[function(t,e,n){"use strict";cc._RF.push(e,"17871+tostEyomtM7xJZzSr","PhongThanController");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/Constants"),c=t("../../Common/Data/GameData"),s=t("./PhongThanHandler"),r=t("../../Common/Utilities/Utility"),l=t("../../Common/Data/GameConfigs"),u=t("./PopupController"),p=t("../../scenemanager/scripts/SceneManager"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbGold=null,e.lbFlag=null,e.lbNick=null,e.lbPTPoint=null,e.lbLevel=null,e.bgSpr=null,e.bgSpriteFrame=[],e.listMap=[],e.lbSpinPrize=null,e.vongQuay=null,e.popup=null,e.top=null,e.lbBalance=null,e.avatar=null,e.atlasAvatar=null,e.stealPrefab=null,e.level=0,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(a.default.PT_EVENT.UPDATE_PT_POINT,this.onUpdatePTPoint.bind(this),this),cc.systemEvent.on(a.default.PT_EVENT.UPDATE_KNB,this.onUpdateKNB.bind(this),this),cc.systemEvent.on(a.default.EVENT_LOBBY.UPDATE_BALANCE,this.onUpdateBalance.bind(this),this),this.onInfoUser()},e.prototype.onUpdateBalance=function(t){c.default.getInstance().UserData.balance=t,this.lbBalance.string=r.Utility.getInstance().numberToCurrency(t)},e.prototype.onUpdateKNB=function(t){s.PhongThanHandler.getInstance().accountInfo.knb=t,this.lbGold.string=r.Utility.getInstance().numberToCurrency(t);var e=0,n=s.PhongThanHandler.getInstance().getLevelByPoint();e=n<22?2e3:n<28?5e3:n<37?1e4:2e4,this.lbGold.string+="/"+e},e.prototype.onUpdatePTPoint=function(t){this.lbFlag.string=this.checkPoint(t),this.lbPTPoint.string=r.Utility.getInstance().numberToCurrency(t),this.lbSpinPrize.string=s.PhongThanHandler.getInstance().getRoomBet()+"",this.level=s.PhongThanHandler.getInstance().getLevelByPoint();for(var e=0,n=s.PhongThanHandler.getInstance().listLevel;e<n.length;e++){var o=n[e];if(this.level==+o.level_id){this.lbLevel.string=o.name;break}}s.PhongThanHandler.getInstance().accountInfo.point=t,this.onExecuteMap()},e.prototype.onInfoUser=function(){var t=s.PhongThanHandler.getInstance().accountInfo;if(3==t.game_status){var e=cc.instantiate(this.stealPrefab),n=cc.winSize;e.x=n.width/2,e.y=n.height/2,cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP)}this.lbBalance.string=r.Utility.getInstance().numberToCurrency(c.default.getInstance().UserData.balance),this.avatar.spriteFrame=this.atlasAvatar.getSpriteFrame(c.default.getInstance().UserData.avatar+""),this.lbNick.string=c.default.getInstance().UserData.nick,this.lbGold.string=r.Utility.getInstance().numberToCurrency(t.knb);var o=0,i=s.PhongThanHandler.getInstance().getLevelByPoint();o=i<22?2e3:i<28?5e3:i<37?1e4:2e4,this.lbGold.string+="/"+o,this.lbPTPoint.string=r.Utility.getInstance().numberToCurrency(t.point),this.lbFlag.string=this.checkPoint(t.point),this.level=t.level,this.lbSpinPrize.string=s.PhongThanHandler.getInstance().getRoomBet()+"";for(var a=0,u=s.PhongThanHandler.getInstance().listLevel;a<u.length;a++){var p=u[a];if(this.level==+p.level_id){this.lbLevel.string=p.name;break}}this.onExecuteMap()},e.prototype.onExecuteMap=function(){if(this.level>=1&&this.level<=24){this.bgSpr.spriteFrame=this.bgSpriteFrame[0],this.listMap[0].active=!0,this.listMap[1].active=!1,this.listMap[2].active=!1;for(var t=0,e=s.PhongThanHandler.getInstance().listLevel;t<e.length;t++){var n=e[t];if(!(this.level>=+n.level_id))break;if(0==n.state)this.listMap[0].getChildByName(n.level_id).children[0].opacity=255;else{var o=this.listMap[0].getChildByName(n.level_id).children[0],i=this.listMap[0].getChildByName(n.level_id).children[1];o.active=!1,i.active=!0}}}if(this.level>=25&&this.level<=33){this.bgSpr.spriteFrame=this.bgSpriteFrame[1],this.listMap[0].active=!1,this.listMap[1].active=!0,this.listMap[2].active=!1;for(var a=0,c=s.PhongThanHandler.getInstance().listLevel;a<c.length;a++){n=c[a];if(!(this.level>=+n.level_id))break;if(!(+n.level_id<25))if(0==n.state)null!=this.listMap[1].getChildByName(n.level_id)&&(this.listMap[1].getChildByName(n.level_id).children[0].opacity=255);else{o=this.listMap[1].getChildByName(n.level_id).children[0],i=this.listMap[1].getChildByName(n.level_id).children[1];o.active=!1,i.active=!0}}}if(this.level>=34){this.bgSpr.spriteFrame=this.bgSpriteFrame[2],this.listMap[0].active=!1,this.listMap[1].active=!1,this.listMap[2].active=!0;for(var r=0,l=s.PhongThanHandler.getInstance().listLevel;r<l.length;r++){n=l[r];if(!(this.level>=+n.level_id))break;if(!(+n.level_id<34))if(0==n.state)null!=this.listMap[2].getChildByName(n.level_id)&&(this.listMap[2].getChildByName(n.level_id).children[0].opacity=255);else{o=this.listMap[2].getChildByName(n.level_id).children[0],i=this.listMap[2].getChildByName(n.level_id).children[1];o.active=!1,i.active=!0}}}},e.prototype.checkPoint=function(t){for(var e=0,n=0,o=s.PhongThanHandler.getInstance().listLevel;n<o.length;n++){var i=o[n];if(t<+i.point){e=+i.point;break}}return r.Utility.getInstance().numberToCurrency(t)+"/"+e},e.prototype.onBtnVongQuay=function(){var t=cc.instantiate(this.vongQuay),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnFree=function(){var t=cc.instantiate(this.popup),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,t.getComponent(u.default).onDiemDanh(),cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnHistory=function(){var t=cc.instantiate(this.popup),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,t.getComponent(u.default).onBtnMenuLeft(null,2),cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnPT=function(){var t=cc.instantiate(this.popup),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnHuongDan=function(){var t=cc.instantiate(this.popup),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,t.getComponent(u.default).onBtnMenuLeft(null,1),cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnHomQua=function(){var t=cc.instantiate(this.popup),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,t.getComponent(u.default).onBtnMenuLeft(null,3),cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnKNB=function(){var t=cc.instantiate(this.popup),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,t.getComponent(u.default).onBtnMenuLeft(null,4),cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnTop=function(){var t=cc.instantiate(this.top),e=cc.winSize;t.x=e.width/2,t.y=e.height/2,cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnBack=function(){p.clientdev.SceneManager.Instance.LoadScene(l.GameConfigs.SceneName.Lobby,function(){})},i([f(cc.Label)],e.prototype,"lbGold",void 0),i([f(cc.Label)],e.prototype,"lbFlag",void 0),i([f(cc.Label)],e.prototype,"lbNick",void 0),i([f(cc.Label)],e.prototype,"lbPTPoint",void 0),i([f(cc.Label)],e.prototype,"lbLevel",void 0),i([f(cc.Sprite)],e.prototype,"bgSpr",void 0),i([f(cc.SpriteFrame)],e.prototype,"bgSpriteFrame",void 0),i([f(cc.Node)],e.prototype,"listMap",void 0),i([f(cc.Label)],e.prototype,"lbSpinPrize",void 0),i([f(cc.Prefab)],e.prototype,"vongQuay",void 0),i([f(cc.Prefab)],e.prototype,"popup",void 0),i([f(cc.Prefab)],e.prototype,"top",void 0),i([f(cc.Label)],e.prototype,"lbBalance",void 0),i([f(cc.Sprite)],e.prototype,"avatar",void 0),i([f(cc.SpriteAtlas)],e.prototype,"atlasAvatar",void 0),i([f(cc.Prefab)],e.prototype,"stealPrefab",void 0),e=i([h],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Utilities/Utility":"Utility","../../scenemanager/scripts/SceneManager":"SceneManager","./PhongThanHandler":"PhongThanHandler","./PopupController":"PopupController"}],PhongThanDiemDanh:[function(t,e,n){"use strict";cc._RF.push(e,"bc68e+P+uBJurvlMhVWjsF6","PhongThanDiemDanh");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/Constants"),c=t("../../Lobby/Scripts/LoadingManager"),s=t("../../Common/Network/ConnectHandler"),r=t("../../Common/Data/GameConfigs"),l=t("../../Common/Utilities/Utility"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbCountDownGet=null,e.lbCountDownClose=null,e.notiPrefab=null,e.btnGetFree=null,e.listAmount=[],e.Interval=null,e.IntervalClose=null,e}return o(e,t),e.prototype.onEnable=function(){s.default.getInstance().processGetKNBHour(),this.countDownToGetKNBFree(),cc.systemEvent.on(a.default.EVENT_API.GET_KNB_FREE,this.onGetKNBFree.bind(this),this),cc.systemEvent.on(a.default.EVENT_API.GET_KNB_HOUR,this.onGetKNBHour.bind(this),this)},e.prototype.onGetKNBHour=function(t){if(null!=t&&0==t.status)for(var e in t.data)this.listAmount[e].string=l.Utility.getInstance().numberToCurrency(t.data[e])},e.prototype.onGetKNBFree=function(t){c.default.getInstance().hide(),null!=t&&(0==t.status?(this.enableNoti("B\u1ea1n nh\u1eadn Kim Nguy\xean B\u1ea3o th\xe0nh c\xf4ng!!!"),this.btnGetFree.active=!1,cc.systemEvent.emit(a.default.PT_EVENT.UPDATE_KNB,t.data.knb)):this.enableNoti(s.default.getInstance().statusApiError(t.status)))},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent("Notification").setContent(t),e.getComponent("Notification").showDialog(2),cc.director.getScene().addChild(e,r.GameConfigs.zOderGame.POP_UP)},e.prototype.checkDestinationTime=function(){for(var t=[9,12,18,21],e=new Date,n=[new Date(e.getFullYear(),e.getMonth(),e.getDate(),t[0]).getTime(),new Date(e.getFullYear(),e.getMonth(),e.getDate(),t[1]).getTime(),new Date(e.getFullYear(),e.getMonth(),e.getDate(),t[2]).getTime(),new Date(e.getFullYear(),e.getMonth(),e.getDate(),t[3]).getTime()],o=(new Date).getTime(),i=0;i<4;i++)if(n[i]-o>=-72e5)return i},e.prototype.countDownToGetKNBFree=function(){var t=this,e=new Date,n=[9,12,18,21][this.checkDestinationTime()],o=new Date(e.getFullYear(),e.getMonth(),e.getDate(),n).getTime();this.Interval=setInterval(function(){var e=(new Date).getTime(),n=o-e,i=Math.floor(n%864e5/36e5),a=Math.floor(n%36e5/6e4),c=Math.floor(n%6e4/1e3),s=i>=10?i:"0"+i,r=a>=10?a:"0"+a,l=c>=10?c:"0"+c;n<=0?(clearInterval(t.Interval),t.Interval=0,t.btnGetFree.active=!0,t.lbCountDownGet.node.active=!1,t.countDownToCloseGet()):(t.lbCountDownGet.node.active=!0,t.lbCountDownGet.string=s+":"+r+":"+l,t.btnGetFree.active=!1)},1e3)},e.prototype.countDownToCloseGet=function(){var t=this,e=new Date,n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+2).getTime();this.IntervalClose=setInterval(function(){var e=(new Date).getTime(),o=n-e,i=Math.floor(o%864e5/36e5),a=Math.floor(o%36e5/6e4),c=Math.floor(o%6e4/1e3),s=(a+=60*i)>=10?a:"0"+a,r=c>=10?c:"0"+c;o<=0?(clearInterval(t.IntervalClose),t.IntervalClose=0,t.lbCountDownClose.node.active=!1,t.countDownToGetKNBFree()):(t.lbCountDownClose.node.active=!0,t.lbCountDownClose.string=s+":"+r,t.btnGetFree.active=!0)},1e3)},e.prototype.onDestroy=function(){clearInterval(this.IntervalClose),clearInterval(this.Interval)},e.prototype.onBtnGetKNBFree=function(){c.default.getInstance().show(),s.default.getInstance().processGetKNBFree()},i([d(cc.Label)],e.prototype,"lbCountDownGet",void 0),i([d(cc.Label)],e.prototype,"lbCountDownClose",void 0),i([d(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([d(cc.Node)],e.prototype,"btnGetFree",void 0),i([d(cc.Label)],e.prototype,"listAmount",void 0),e=i([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager"}],PhongThanGift:[function(t,e,n){"use strict";cc._RF.push(e,"a4b30XitEZL27mVb6qmMg12","PhongThanGift");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utilities/Utility"),c=t("./PhongThanHandler"),s=t("../../Lobby/Scripts/LoadingManager"),r=t("../../Common/Data/GameConfigs"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprPrize=null,e.lbPrize=null,e.btnGet=null,e.btnView=null,e.atlas=null,e.notiPrefab=null,e.animThan=null,e.id=0,e.value=0,e}return o(e,t),e.prototype.setProperties=function(t,e,n,o,i){this.id=t,this.value=n,0==i?this.sprPrize.spriteFrame=this.atlas.getSpriteFrame(e):this.animThan.animation=this.getNameAnimThan(e),this.lbPrize.string=a.Utility.getInstance().numberToCurrency(n),0==+o?(this.btnGet.active=!0,this.btnView.active=!1):(this.btnGet.active=!1,this.btnView.active=!0)},e.prototype.onBtnGet=function(){s.default.getInstance().show(),c.PhongThanHandler.getInstance().receivePresent(this.id)},e.prototype.onBtnView=function(){this.enableNoti("B\u1ea1n \u0111\xe3 nh\u1eadn gi\u1ea3i th\u01b0\u1edfng "+a.Utility.getInstance().numberToCurrency(this.value))},e.prototype.getNameAnimThan=function(t){var e="";switch(+t){case 4:e="Nv2_bt";break;case 19:e="Nv3_bt";break;case 22:e="Nv4_bt";break;case 25:e="Nv5_bt";break;case 28:e="Nv6_bt";break;case 31:e="Nv7_bt";break;case 34:e="Nv08_bt";break;case 37:e="Nv09_bt";break;case 40:e="Nv10_bt";break;case 46:e="Nv11_bt";break;case 52:e="Nv12_bt"}return e},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent("Notification").setContent(t),e.getComponent("Notification").showDialog(2),cc.director.getScene().addChild(e,r.GameConfigs.zOderGame.POP_UP)},i([p(cc.Sprite)],e.prototype,"sprPrize",void 0),i([p(cc.Label)],e.prototype,"lbPrize",void 0),i([p(cc.Node)],e.prototype,"btnGet",void 0),i([p(cc.Node)],e.prototype,"btnView",void 0),i([p(cc.SpriteAtlas)],e.prototype,"atlas",void 0),i([p(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([p(sp.Skeleton)],e.prototype,"animThan",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./PhongThanHandler":"PhongThanHandler"}],PhongThanHandler:[function(t,e,n){"use strict";cc._RF.push(e,"f0137CAGNdIF556ybNoT5ly","PhongThanHandler");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Common/Network/WsHandler"),a=t("../../Common/Data/GameConfigs"),c=t("../../Common/Data/Constants"),s=cc._decorator,r=s.ccclass,l=(s.property,function(){function t(){this.accountInfo=null,this.isConnect=!1,this.listLevel=[{level_id:"1",tag:"1",name:"\u0110\u1eafc K\u1ef7",point:"0",state:1},{level_id:"2",tag:"1",name:"\u0110\u1eafc K\u1ef7",point:"5",state:0},{level_id:"3",tag:"1",name:"\u0110\u1eafc K\u1ef7",point:"10",state:0},{level_id:"4",tag:"2",name:"Tr\u1ee5 V\u01b0\u01a1ng",point:"20",state:1},{level_id:"13",tag:"2",name:"Tr\u1ee5 V\u01b0\u01a1ng",point:"60",state:0},{level_id:"18",tag:"2",name:"Tr\u1ee5 V\u01b0\u01a1ng",point:"140",state:0},{level_id:"19",tag:"3",name:"L\xf4i Tr\u1ea5n T\u1eed",point:"240",state:1},{level_id:"20",tag:"3",name:"L\xf4i Tr\u1ea5n T\u1eed",point:"320",state:0},{level_id:"21",tag:"3",name:"L\xf4i Tr\u1ea5n T\u1eed",point:"480",state:0},{level_id:"22",tag:"4",name:"Na Tra",point:"720",state:1},{level_id:"23",tag:"4",name:"Na Tra",point:"730",state:0},{level_id:"24",tag:"4",name:"Na Tra",point:"750",state:0},{level_id:"25",tag:"5",name:"L\xfd T\u1ecbnh",point:"780",state:1},{level_id:"26",tag:"5",name:"L\xfd T\u1ecbnh",point:"800",state:0},{level_id:"27",tag:"5",name:"L\xfd T\u1ecbnh",point:"840",state:0},{level_id:"28",tag:"6",name:"D\u01b0\u01a1ng Ti\u1ec5n",point:"900",state:1},{level_id:"29",tag:"6",name:"D\u01b0\u01a1ng Ti\u1ec5n",point:"960",state:0},{level_id:"30",tag:"6",name:"D\u01b0\u01a1ng Ti\u1ec5n",point:"1080",state:0},{level_id:"31",tag:"7",name:"Kh\u01b0\u01a1ng T\u1eed Nha",point:"1260",state:1},{level_id:"32",tag:"7",name:"Kh\u01b0\u01a1ng T\u1eed Nha",point:"1280",state:0},{level_id:"33",tag:"7",name:"Kh\u01b0\u01a1ng T\u1eed Nha",point:"1300",state:0},{level_id:"34",tag:"8",name:"Th\xe1i \u1ea4t Ch\xe2n Nh\xe2n",point:"1340",state:1},{level_id:"35",tag:"8",name:"Th\xe1i \u1ea4t Ch\xe2n Nh\xe2n",point:"1370",state:0},{level_id:"36",tag:"8",name:"Th\xe1i \u1ea4t Ch\xe2n Nh\xe2n",point:"1420",state:0},{level_id:"37",tag:"9",name:"N\u1eef Oa",point:"1500",state:1},{level_id:"38",tag:"9",name:"N\u1eef Oa",point:"1540",state:0},{level_id:"39",tag:"9",name:"N\u1eef Oa",point:"1620",state:0},{level_id:"40",tag:"10",name:"Th\xe1i Th\u01b0\u1ee3ng L\xe3o Qu\xe2n",point:"1740",state:1},{level_id:"41",tag:"10",name:"Th\xe1i Th\u01b0\u1ee3ng L\xe3o Qu\xe2n",point:"2100",state:0},{level_id:"42",tag:"10",name:"Th\xe1i Th\u01b0\u1ee3ng L\xe3o Qu\xe2n",point:"2300",state:0},{level_id:"43",tag:"10",name:"Th\xe1i Th\u01b0\u1ee3ng L\xe3o Qu\xe2n",point:"2600",state:0},{level_id:"44",tag:"10",name:"Th\xe1i Th\u01b0\u1ee3ng L\xe3o Qu\xe2n",point:"2900",state:0},{level_id:"45",tag:"10",name:"Th\xe1i Th\u01b0\u1ee3ng L\xe3o Qu\xe2n",point:"3300",state:0},{level_id:"46",tag:"11",name:"Nguy\xean Th\u1ee7y Thi\xean T\xf4n",point:"3700",state:1},{level_id:"47",tag:"11",name:"Nguy\xean Th\u1ee7y Thi\xean T\xf4n",point:"4200",state:0},{level_id:"48",tag:"11",name:"Nguy\xean Th\u1ee7y Thi\xean T\xf4n",point:"4700",state:0},{level_id:"49",tag:"11",name:"Nguy\xean Th\u1ee7y Thi\xean T\xf4n",point:"5300",state:0},{level_id:"50",tag:"11",name:"Nguy\xean Th\u1ee7y Thi\xean T\xf4n",point:"5900",state:0},{level_id:"51",tag:"11",name:"Nguy\xean Th\u1ee7y Thi\xean T\xf4n",point:"6600",state:0},{level_id:"52",tag:"12",name:"H\u1ed3ng Qu\xe2n L\xe3o T\u1ed5",point:"10000",state:1}]}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e,this.Instance.initStart()),this.Instance},t.prototype.initStart=function(){cc.systemEvent.on(a.GameConfigs.WSGameName.PhongThan,this.init.bind(this),this)},t.prototype.connect=function(){i.WsHandler.getInstance().joinGame(a.GameConfigs.WSGameName.PhongThan)},t.prototype.close=function(){this.isConnect=!1,i.WsHandler.getInstance().leaveGame(a.GameConfigs.WSGameName.PhongThan)},t.prototype.destroy=function(){cc.systemEvent.targetOff(this)},t.prototype.init=function(t){var e=null,n=null;if(null!=t&&t.hasOwnProperty("message")&&this.onAccountInfo(t.message),null!=t&&t.hasOwnProperty("s_data")&&(e=t.cmd,n=t.s_data),null!=n&&null!=e)switch(e){case"account_info":this.onAccountInfo(n);break;case"s_spin_game":this.onSpinGame(n);break;case"s_steal_list":this.onStealList(n);break;case"s_steal":this.onSteal(n);break;case"s_get_top":this.onGetTop(n);break;case"s_get_honor":this.onGetHonor(n);break;case"s_get_gift":this.onGetGift(n);break;case"s_receive_gift":this.onReceiveGift(n);break;case"s_get_history":this.onHistory(n);break;case"s_get_rank":this.onRank(n);break;case"s_jp":this.onJackpot(n);break;case"s_get_history_point":this.onHistoryPoint(n);break;case"s_notify":this.onNotifyPT(n)}},t.prototype.getLevelByPoint=function(){for(var t=0,e=0,n=this.listLevel;e<n.length;e++){var o=n[e];if(!(this.accountInfo.point>=+o.point))break;t=+o.level_id}return t},t.prototype.getRoomIdByLevel=function(){var t=this.getLevelByPoint();return t>=25&&t<=33?2:t>=34?3:1},t.prototype.getRoomBet=function(){var t=this.getRoomIdByLevel();return 1==t?1:2==t?10:3==t?100:void 0},t.prototype.onNotifyPT=function(t){cc.systemEvent.emit(c.default.PT_EVENT.ON_MESS,t)},t.prototype.onJackpot=function(t){cc.systemEvent.emit(c.default.PT_EVENT.ON_JP,t)},t.prototype.onGetTop=function(t){cc.systemEvent.emit(c.default.PT_EVENT.GET_TOP,t)},t.prototype.onGetHonor=function(t){cc.systemEvent.emit(c.default.PT_EVENT.GET_HONOR,t)},t.prototype.onAccountInfo=function(t){this.isConnect=!0,this.accountInfo=t,cc.systemEvent.emit(c.default.PT_EVENT.ACCOUNT_INFO)},t.prototype.onSpinGame=function(t){cc.systemEvent.emit(c.default.PT_EVENT.SPIN_GAME,t)},t.prototype.onStealList=function(t){cc.systemEvent.emit(c.default.PT_EVENT.STEAL_LIST,t)},t.prototype.onSteal=function(t){cc.systemEvent.emit(c.default.PT_EVENT.STEAL,t)},t.prototype.onGetGift=function(t){cc.systemEvent.emit(c.default.PT_EVENT.GET_GIFT,t)},t.prototype.onReceiveGift=function(t){cc.systemEvent.emit(c.default.PT_EVENT.RECEIVE_GIFT,t)},t.prototype.onHistory=function(t){cc.systemEvent.emit(c.default.PT_EVENT.GET_HISTORY,t)},t.prototype.onRank=function(t){cc.systemEvent.emit(c.default.PT_EVENT.CUR_RANK,t)},t.prototype.onHistoryPoint=function(t){cc.systemEvent.emit(c.default.PT_EVENT.HISTORY_POINT,t)},t.prototype.spinGame=function(t){this.callWS("spin_game",'{"room_id": '+t+"}")},t.prototype.getStealList=function(){this.callWS("steal_list","0")},t.prototype.getTop=function(){this.callWS("get_top","0")},t.prototype.getCurrRank=function(){this.callWS("get_rank","0")},t.prototype.getHonor=function(){this.callWS("get_honor","0")},t.prototype.getHistory=function(){this.callWS("get_history","0")},t.prototype.getHistorySteal=function(){this.callWS("get_history_point","0")},t.prototype.getPresentBox=function(){this.callWS("get_gift","0")},t.prototype.receivePresent=function(t){this.callWS("receive_gift",'{"id": '+t+"}")},t.prototype.steal=function(t,e){var n=JSON.stringify({account_id2:t,server_id2:e});this.callWS("steal",n)},t.prototype.callWS=function(t,e){var n='{"cmd":"'+t+'","c_data":'+e+"}";i.WsHandler.getInstance().playGame(a.GameConfigs.WSGameName.PhongThan,n)},t.Instance=null,t=e=o([r],t)}());n.PhongThanHandler=l,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/WsHandler":"WsHandler"}],PhongThanHistorySpin:[function(t,e,n){"use strict";cc._RF.push(e,"b8386qs0hhK2LJJdRtHYbnl","PhongThanHistorySpin");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Lobby/Scripts/LoadingManager"),c=t("./PhongThanHandler"),s=t("../../Common/Data/Constants"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.historyCell=null,e.content=null,e}return o(e,t),e.prototype.onEnable=function(){this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.default.getInstance().show(),c.PhongThanHandler.getInstance().getHistory()}))),cc.systemEvent.on(s.default.PT_EVENT.GET_HISTORY,this.onGetHistory.bind(this),this)},e.prototype.onGetHistory=function(t){for(var e in a.default.getInstance().hide(),this.content.destroyAllChildren(),t){var n=cc.instantiate(this.historyCell);parseInt(e)%2==0?n.getChildByName("1").active=!1:n.getChildByName("1").active=!0,n.getChildByName("Time").getComponent(cc.Label).string=t[e].date_time,n.getChildByName("Session").getComponent(cc.Label).string=t[e].log_id,n.getChildByName("KNB").getComponent(cc.Label).string=this.parseRoom(t[e].room_id)+"",n.getChildByName("PT").getComponent(cc.Label).string=t[e].prize_name2,n.getChildByName("Win").getComponent(cc.Label).string=t[e].prize_name1,this.content.addChild(n)}},e.prototype.parseRoom=function(t){switch(+t){case 1:return 1;case 2:return 10;case 3:return 100}},i([u(cc.Prefab)],e.prototype,"historyCell",void 0),i([u(cc.Node)],e.prototype,"content",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Lobby/Scripts/LoadingManager":"LoadingManager","./PhongThanHandler":"PhongThanHandler"}],PhongThanHistorySteal:[function(t,e,n){"use strict";cc._RF.push(e,"6c54a4P+65JxrcBbKmd7EXD","PhongThanHistorySteal");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Lobby/Scripts/LoadingManager"),c=t("./PhongThanHandler"),s=t("../../Common/Data/Constants"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.historyCell=null,e.content=null,e}return o(e,t),e.prototype.onEnable=function(){this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.default.getInstance().show(),c.PhongThanHandler.getInstance().getHistorySteal()}))),cc.systemEvent.on(s.default.PT_EVENT.HISTORY_POINT,this.onGetHistory.bind(this),this)},e.prototype.onGetHistory=function(t){for(var e in a.default.getInstance().hide(),this.content.destroyAllChildren(),t){var n=cc.instantiate(this.historyCell);parseInt(e)%2==0?n.getChildByName("1").active=!1:n.getChildByName("1").active=!0,n.getChildByName("Time").getComponent(cc.Label).string=t[e].date_time,n.getChildByName("Session").getComponent(cc.Label).string=t[e].log_id,n.getChildByName("PT").getComponent(cc.Label).string=t[e].change,n.getChildByName("Nick").getComponent(cc.Label).string=t[e].nick_steal,this.content.addChild(n)}},i([u(cc.Prefab)],e.prototype,"historyCell",void 0),i([u(cc.Node)],e.prototype,"content",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Lobby/Scripts/LoadingManager":"LoadingManager","./PhongThanHandler":"PhongThanHandler"}],PhongThanHistory:[function(t,e,n){"use strict";cc._RF.push(e,"17f9cVL+TFGdKvoov5Q20DJ","PhongThanHistory");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.holderButton=null,e.holderContent=[],e}return o(e,t),e.prototype.onBtnMenuTop=function(t,e){for(var n in this.holderButton.children)n==e?(this.holderButton.children[n].opacity=255,this.holderContent[n].active=!0):(this.holderButton.children[n].opacity=180,this.holderContent[n].active=!1)},i([s(cc.Node)],e.prototype,"holderButton",void 0),i([s(cc.Node)],e.prototype,"holderContent",void 0),e=i([c],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],PhongThanHomQua:[function(t,e,n){"use strict";cc._RF.push(e,"494327Z9hNGuaVcWr3lFXXb","PhongThanHomQua");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./PhongThanHandler"),c=t("../../Common/Data/Constants"),s=t("./PhongThanGift"),r=t("../../Lobby/Scripts/LoadingManager"),l=t("../../Common/Data/GameConfigs"),u=t("../../Common/Utilities/Utility"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gift=null,e.content=null,e.notiPrefab=null,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(c.default.PT_EVENT.GET_GIFT,this.onGetGift.bind(this),this),cc.systemEvent.on(c.default.PT_EVENT.RECEIVE_GIFT,this.onReceiveGift.bind(this),this)},e.prototype.onEnable=function(){a.PhongThanHandler.getInstance().getPresentBox()},e.prototype.onReceiveGift=function(t){r.default.getInstance().hide(),0==t.game_status&&(this.enableNoti("Ch\xfac m\u1eebng b\u1ea1n nh\u1eadn th\xe0nh c\xf4ng "+u.Utility.getInstance().numberToCurrency(t.prize_value)+" LONG"),cc.systemEvent.emit(c.default.EVENT_LOBBY.UPDATE_BALANCE,t.balance),a.PhongThanHandler.getInstance().getPresentBox())},e.prototype.onGetGift=function(t){this.content.destroyAllChildren();for(var e=0,n=t;e<n.length;e++){var o=n[e],i=cc.instantiate(this.gift);i.getComponent(s.default).setProperties(o.id,o.prize_id,o.prize_value,o.is_receive,o.type_gift),this.content.addChild(i)}},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent("Notification").setContent(t),e.getComponent("Notification").showDialog(2),cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP)},i([h(cc.Prefab)],e.prototype,"gift",void 0),i([h(cc.Node)],e.prototype,"content",void 0),i([h(cc.Prefab)],e.prototype,"notiPrefab",void 0),e=i([d],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./PhongThanGift":"PhongThanGift","./PhongThanHandler":"PhongThanHandler"}],PhongThanMuaKNB:[function(t,e,n){"use strict";cc._RF.push(e,"4a0eanrEPBAy6PEuCplK/s7","PhongThanMuaKNB");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Network/ConnectHandler"),c=t("../../Lobby/Scripts/LoadingManager"),s=t("../../Common/Data/Constants"),r=t("../../Common/Data/GameConfigs"),l=t("../../Common/UI/Notification"),u=t("../../Common/Utilities/Utility"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notiPrefab=null,e.listPrice=[],e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(s.default.EVENT_API.BUY_KNB,this.onBuyDone.bind(this),this),cc.systemEvent.on(s.default.EVENT_API.GET_PRICE,this.onGetPrice.bind(this),this)},e.prototype.onEnable=function(){a.default.getInstance().processGetPrice()},e.prototype.onGetPrice=function(t){if(null!=t&&0==t.status)for(var e in t.data)this.listPrice[e].string=u.Utility.getInstance().numberToCurrency(t.data[e])},e.prototype.onBuyDone=function(t){c.default.getInstance().hide(),null!=t&&(this.enableNoti(a.default.getInstance().statusApiError(t.status)),0==t.status&&(cc.systemEvent.emit(s.default.PT_EVENT.UPDATE_KNB,t.data.knb),cc.systemEvent.emit(s.default.EVENT_LOBBY.UPDATE_BALANCE,t.data.balance)))},e.prototype.onBtnBuy=function(t,e){c.default.getInstance().show(),a.default.getInstance().processBuyKNB(e)},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent("Notification").setContent(t),e.getComponent("Notification").showDialog(2),cc.director.getScene().addChild(e,r.GameConfigs.zOderGame.POP_UP)},e.prototype.showNotMoney=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent(l.default).setContent("B\u1ea1n kh\xf4ng \u0111\u1ee7 s\u1ed1 d\u01b0. Vui l\xf2ng n\u1ea1p th\xeam!"),t.getComponent(l.default).showNotMoney(),cc.director.getScene().addChild(t,r.GameConfigs.zOderGame.POP_UP)},i([h(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([h(cc.Label)],e.prototype,"listPrice",void 0),e=i([d],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/UI/Notification":"Notification","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager"}],PhongThanSteal:[function(t,e,n){"use strict";cc._RF.push(e,"bb851LNAGhPvpEgHDHuS0cs","PhongThanSteal");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./PhongThanHandler"),c=t("../../Common/Data/Constants"),s=t("../../Common/Utilities/Utility"),r=t("../../Lobby/Scripts/LoadingManager"),l=t("../../Common/Data/GameConfigs"),u=t("../../Common/UI/PopupInterface"),p=t("../../Common/UI/NumberRun"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.user=null,e.atlasAvatar=null,e.content=null,e.notiPrefab=null,e.animState=null,e.nameSteal="",e.account_id=0,e.server_id=0,e.isSteal=!1,e}return o(e,t),e.prototype.onLoad=function(){var t=this;cc.systemEvent.on(c.default.PT_EVENT.STEAL,this.onSteal.bind(this),this),cc.systemEvent.on(c.default.PT_EVENT.STEAL_LIST,this.onStealList.bind(this),this),a.PhongThanHandler.getInstance().getStealList();var e=setInterval(function(){t.isSteal||(r.default.getInstance().show(),a.PhongThanHandler.getInstance().steal(t.account_id,t.server_id)),clearInterval(e)},1e4)},e.prototype.onSteal=function(t){var e=this;if(r.default.getInstance().hide(),t.response<0)this.enableNoti("C\u01b0\u1edbp th\u1ea5t b\u1ea1i!!!");else{var n=a.PhongThanHandler.getInstance().accountInfo;n.game_status=1;var o="B\u1ea1n v\u1eeba c\u01b0\u1edbp \u0111\u01b0\u1ee3c "+t.point_steal+" \u0111i\u1ec3m c\u1ee7a "+this.nameSteal;this.enableNoti(o),n.point=t.point,cc.systemEvent.emit(c.default.PT_EVENT.UPDATE_PT_POINT,t.point),this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){t.amount_level>0?e.showAnimNewState(t.amount_level):cc.systemEvent.emit(c.default.PT_EVENT.BACK_SPIN),e.node.getComponent(u.default).closePopup()})))}},e.prototype.onStealList=function(t){for(var e=this,n=function(t){var n=cc.instantiate(o.user);n.getChildByName("lbName").getComponent(cc.Label).string=t.nick,n.getChildByName("avatar").getComponent(cc.Sprite).spriteFrame=o.atlasAvatar.getSpriteFrame(s.Utility.getInstance().randomInt(1,10)+""),o.content.addChild(n),o.account_id=t.account_id,o.server_id=t.server_id,o.nameSteal=t.nick,n.on(cc.Node.EventType.TOUCH_START,function(){e.isSteal=!0,r.default.getInstance().show(),e.nameSteal=t.nick,a.PhongThanHandler.getInstance().steal(t.account_id,t.server_id)})},o=this,i=0,c=t;i<c.length;i++){n(c[i])}},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent("Notification").setContent(t),e.getComponent("Notification").showDialog(2),cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP)},e.prototype.showAnimNewState=function(t){if(t>0){var e=cc.instantiate(this.animState),n=cc.winSize;e.x=n.width/2,e.y=n.height/2;var o="";switch(a.PhongThanHandler.getInstance().getLevelByPoint()){case 4:o="Nv2_Open";break;case 19:o="Nv3_Open";break;case 22:o="Nv4_Open";break;case 25:o="Nv5_Open";break;case 28:o="Nv6_Open";break;case 31:o="Nv7_Open";break;case 34:o="Nv08_Open";break;case 37:o="Nv09_Open";break;case 40:o="Nv10_Open";break;case 46:o="Nv11_Open";break;case 52:o="Nv12_Open"}e.getChildByName("anim").getComponent(sp.Skeleton).animation=o,e.getChildByName("money").getComponent(p.default).runNumber(t,!0),cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP)}},i([f(cc.Prefab)],e.prototype,"user",void 0),i([f(cc.SpriteAtlas)],e.prototype,"atlasAvatar",void 0),i([f(cc.Node)],e.prototype,"content",void 0),i([f(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([f(cc.Prefab)],e.prototype,"animState",void 0),e=i([h],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/UI/NumberRun":"NumberRun","../../Common/UI/PopupInterface":"PopupInterface","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./PhongThanHandler":"PhongThanHandler"}],PhongThanThemKNB:[function(t,e,n){"use strict";cc._RF.push(e,"b0c62xB3lVNmZYIYY3EIY+0","PhongThanThemKNB");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.holderButton=null,e.holderContent=[],e}return o(e,t),e.prototype.onEnable=function(){this.onBtnMenuTop(null,"0")},e.prototype.onBtnMenuTop=function(t,e){for(var n in this.holderButton.children)n==e?(this.holderButton.children[n].opacity=255,this.holderContent[n].active=!0):(this.holderButton.children[n].opacity=0,this.holderContent[n].active=!1)},i([s(cc.Node)],e.prototype,"holderButton",void 0),i([s(cc.Node)],e.prototype,"holderContent",void 0),e=i([c],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],PhongThanTop:[function(t,e,n){"use strict";cc._RF.push(e,"ef98aoxowFArK3XazU/ygXc","PhongThanTop");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./PhongThanHandler"),c=t("../../Common/Data/Constants"),s=t("../../Common/Utilities/Utility"),r=t("../../Lobby/Scripts/LoadingManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cell=null,e.contentCell=null,e.listTop3=[],e.lbRank=null,e.lbPoint=null,e}return o(e,t),e.prototype.onLoad=function(){r.default.getInstance().show(),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.PhongThanHandler.getInstance().getTop(),a.PhongThanHandler.getInstance().getCurrRank()}))),this.lbPoint.string=s.Utility.getInstance().numberToCurrency(a.PhongThanHandler.getInstance().accountInfo.point),cc.systemEvent.on(c.default.PT_EVENT.GET_TOP,this.onTop.bind(this),this),cc.systemEvent.on(c.default.PT_EVENT.CUR_RANK,this.onRank.bind(this),this)},e.prototype.onRank=function(t){this.lbRank.string=s.Utility.getInstance().numberToCurrency(t.rank)},e.prototype.onTop=function(t){if(r.default.getInstance().hide(),null!=t)for(var e=0;e<t.length;e++)if(e<4){var n=this.listTop3[e];n.getChildByName("Level").getComponent(cc.Label).string=this.parseLevel(t[e].point),n.getChildByName("God").getComponent(cc.Label).string=t[e].nick,n.getChildByName("Point").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(t[e].point),n.getChildByName("Prize").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(this.parsePrize(e+1))}else{var o=cc.instantiate(this.cell);this.contentCell.addChild(o),o.getChildByName("1").active=e%2!=0,this.updateCell(o,t[e],e+1)}},e.prototype.updateCell=function(t,e,n){t.getChildByName("Top").getComponent(cc.Label).string=n+"",t.getChildByName("Level").getComponent(cc.Label).string=this.parseLevel(e.point),t.getChildByName("God").getComponent(cc.Label).string=e.nick,t.getChildByName("Point").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(e.point),t.getChildByName("Prize").getComponent(cc.Label).string=s.Utility.getInstance().numberToCurrency(this.parsePrize(n))},e.prototype.parseLevel=function(t){for(var e="",n=0,o=a.PhongThanHandler.getInstance().listLevel;n<o.length;n++){var i=o[n];t>=+i.point&&(e=i.tag)}return e},e.prototype.parsePrize=function(t){return 1==t?25e7:2==t?5e7:3==t?2e7:4==t?1e7:t>=5&&t<=10?5e6:t>=11&&t<=30?2e6:t>=31&&t<=50?1e6:void 0},i([p(cc.Prefab)],e.prototype,"cell",void 0),i([p(cc.Node)],e.prototype,"contentCell",void 0),i([p(cc.Node)],e.prototype,"listTop3",void 0),i([p(cc.Label)],e.prototype,"lbRank",void 0),i([p(cc.Label)],e.prototype,"lbPoint",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./PhongThanHandler":"PhongThanHandler"}],PlaceHoderEx:[function(t,e,n){"use strict";cc._RF.push(e,"6bd6fdBsgFAVpmbJoEIQsj5","PlaceHoderEx");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textkey="",e}return o(e,t),i([s()],e.prototype,"textkey",void 0),e=i([c],e)}(cc.Component);n.PlaceHoderEx=r,cc._RF.pop()},{}],PlaceHoderLocalize:[function(t,e,n){"use strict";cc._RF.push(e,"42914AMCPVKuL2D9VbMZi63","PlaceHoderLocalize");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textkey="",e}return o(e,t),i([s()],e.prototype,"textkey",void 0),e=i([c],e)}(cc.Component);n.PlaceHoderLocalize=r,cc._RF.pop()},{}],PlayerControl:[function(t,e,n){"use strict";cc._RF.push(e,"e8386IcrB9PV6Qc5hZ9RaGq","PlayerControl");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./BanCaHandler"),c=t("../../Common/Utilities/Utility"),s=t("./BanCaData"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeBullet=null,e.nodeMainPlayer=null,e.boxMoney=null,e.nodeGun=null,e.lbMoney=null,e.lbUserName=null,e.animshowMain=null,e.node_model=null,e.Audio_click=null,e.list_frame=["100","1.000","10.000","50","5.000"],e.spr_money=null,e.canon_kind=3,e.bullet_id=3,e.player_info=null,e.battleControl=null,e.name_action="Gun1_actack",e.name_idle="Gun1_bt",e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.animshowMain.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){t.animshowMain.node.active=!1})))},e.prototype.setUserInfo=function(t,e){switch(this.player_info=t,this.lbMoney.string=t.balance+"",this.lbUserName.string=t.nick,e||(this.nodeMainPlayer.active=!1,this.animshowMain.node.active=!1),t.desk_no){case 1:this.boxMoney.scaleX=1,this.node_model.scaleX=1;break;case 2:this.boxMoney.scaleX=-1,this.node_model.scaleX=-1;break;case 3:this.node_model.scaleX=-1,this.lbMoney.node.scaleY=-1,this.lbMoney.node.y=10,this.lbUserName.node.scaleY=-1,this.spr_money.node.scale=-1,this.spr_money.node.y=0;break;case 4:this.node_model.scaleX=1,this.boxMoney.scaleX=-1,this.lbMoney.node.scaleY=-1,this.lbMoney.node.y=10,this.lbUserName.node.scaleY=-1,this.spr_money.node.scale=-1,this.spr_money.node.y=0}},e.prototype.setBalance=function(t,e){void 0===e&&(e=!1),this.lbMoney.string=c.Utility.getInstance().add_commas(t)},e.prototype.setGoldBullet=function(t){this.nodeGun.children[0].getComponent(sp.Skeleton).setAnimation(0,0==t?"Gun1_bt":1==t?"Gun2_bt":2==t?"gun3_bt":3==t?"gun4_bt":"gun5_bt",!0),this.spr_money.string=this.list_frame[t]},e.prototype.shoot=function(t,e){var n=new s.BULLET;n.bullet_id=++this.bullet_id,n.angle=t,n.bullet_kind=this.canon_kind+1,n.lock_fish_id=e,a.default.getInstance().processShoot(n)},e.prototype.aminShoot=function(t,e,n){var o=this;switch(this.nodeGun.angle=t>1?-(180+e):-e,this.nodeGun.stopAllActions(),n){case 0:this.name_action="Gun1_actack",this.name_idle="Gun1_bt";break;case 1:this.name_action="Gun2_actack",this.name_idle="Gun2_bt";break;case 2:this.name_action="gun3_actack",this.name_idle="gun3_bt";break;case 3:this.name_action="gun4_actack",this.name_idle="gun4_bt";break;case 4:this.name_action="gun5_actack",this.name_idle="gun5_bt"}this.spr_money.string=this.list_frame[n],this.nodeGun.runAction(cc.sequence(cc.callFunc(function(){o.nodeGun.children[0].getComponent(sp.Skeleton).setAnimation(0,o.name_action,!1)}),cc.delayTime(.2),cc.callFunc(function(){o.nodeGun.children[0].getComponent(sp.Skeleton).setAnimation(0,o.name_idle,!0)})))},e.prototype.onBtnChangeGold=function(t,e){if(this.battleControl.is_sound&&cc.audioEngine.playEffect(this.Audio_click,!1),null==s.default.getInstance().lock_fish_target&&!s.default.getInstance().BATTLECONFIG.is_auto_shoot){switch(e){case"LEFT":if(3==this.canon_kind){this.canon_kind=2;break}if(0==this.canon_kind){this.canon_kind=3;break}if(1==this.canon_kind){this.canon_kind=0;break}if(4==this.canon_kind){this.canon_kind=1;break}if(2==this.canon_kind){this.canon_kind=4;break}case"RIGHT":if(3==this.canon_kind){this.canon_kind=0;break}if(0==this.canon_kind){this.canon_kind=1;break}if(1==this.canon_kind){this.canon_kind=4;break}if(4==this.canon_kind){this.canon_kind=2;break}if(2==this.canon_kind){this.canon_kind=3;break}default:return}switch(this.canon_kind){case 0:this.name_idle="Gun1_bt";break;case 1:this.name_idle="Gun2_bt";break;case 2:this.name_idle="gun3_bt";break;case 3:this.name_idle="gun4_bt";break;case 4:this.name_idle="gun5_bt"}this.spr_money.string=this.list_frame[this.canon_kind],this.nodeGun.children[0].getComponent(sp.Skeleton).setAnimation(0,this.name_idle,!0)}},e.prototype.onDestroy=function(){},i([u(cc.Node)],e.prototype,"nodeBullet",void 0),i([u(cc.Node)],e.prototype,"nodeMainPlayer",void 0),i([u(cc.Node)],e.prototype,"boxMoney",void 0),i([u(cc.Node)],e.prototype,"nodeGun",void 0),i([u(cc.Label)],e.prototype,"lbMoney",void 0),i([u(cc.Label)],e.prototype,"lbUserName",void 0),i([u(sp.Skeleton)],e.prototype,"animshowMain",void 0),i([u(cc.Node)],e.prototype,"node_model",void 0),i([u(cc.AudioClip)],e.prototype,"Audio_click",void 0),i([u(cc.Label)],e.prototype,"spr_money",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","./BanCaData":"BanCaData","./BanCaHandler":"BanCaHandler"}],PopTXThongKe:[function(t,e,n){"use strict";cc._RF.push(e,"567f0klW1ZCTbHZSi5mi9me","PopTXThongKe");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TaiXiuHandler"),c=t("../../Common/Data/Constants"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeDice1=null,e.nodeDice2=null,e.nodeDice3=null,e.nodeDiceSum=null,e.nodeSoiCau=null,e.nodeThongKe=null,e.lbGameSession=null,e.iconTai=null,e.iconXiu=null,e.iconXX1=null,e.iconXX2=null,e.iconXX3=null,e.btnRight=null,e.drawSum=null,e.drawDice1=null,e.drawDice2=null,e.drawDice3=null,e.countPage=0,e.maxCau=26,e.distance=36,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(c.default.EVENT_TAIXIU.TAIXIU_HANDLER+"soicau",this.initSoiCau.bind(this),this),this.drawSum=this.nodeDiceSum.addComponent(cc.Graphics),this.drawDice1=this.nodeDice1.addComponent(cc.Graphics),this.drawDice2=this.nodeDice2.addComponent(cc.Graphics),this.drawDice3=this.nodeDice3.addComponent(cc.Graphics),a.default.getInstance().soicau.length>0&&this.initSoiCau()},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},e.prototype.initSoiCau=function(){this.thongKe()},e.prototype.onBtnPage=function(t,e){"RIGHT"==e&&this.countPage>-1&&this.countPage--,"LEFT"==e&&this.countPage<100-this.maxCau-5&&this.countPage++,this.proccesPage()},e.prototype.proccesPage=function(){this.countPage>=0?(this.nodeThongKe.active=!0,this.nodeSoiCau.active=!1,this.btnRight.active=!0,this.thongKe()):(this.nodeThongKe.active=!1,this.nodeSoiCau.active=!0,this.btnRight.active=!1)},e.prototype.showSoiCau=function(){this.nodeThongKe.active=!1,this.nodeSoiCau.active=!0},e.prototype.thongKe=function(){if(this.nodeThongKe.active){var t=a.default.getInstance().soicau;if(this.nodeDiceSum.removeAllChildren(!0),this.nodeDice1.removeAllChildren(!0),this.nodeDice2.removeAllChildren(!0),this.nodeDice3.removeAllChildren(!0),t.length>0){this.lbGameSession.string="Phi\xean: #"+t[this.countPage].session_id,this.lbResult.string=(1==t[this.countPage].winLocal?"SMALL(":"BIG(")+t[this.countPage].dice1+"+"+t[this.countPage].dice2+"+"+t[this.countPage].dice3+")";for(var e=this.countPage;e<this.maxCau+this.countPage;e++){var n=new cc.Node;n.name=e+"",n.addComponent(cc.Sprite).spriteFrame=1==t[e].winLocal?this.iconXiu:this.iconTai;var o=new cc.Node;o.color=1==t[e].winLocal?cc.Color.BLACK:cc.Color.WHITE,o.y=-12;var i=o.addComponent(cc.Label);i.fontSize=15,i.string=t[e].dice_sum,n.addChild(o),n.x=0-this.distance*(e-this.countPage),n.y=0+13*(t[e].dice_sum-3),this.nodeDiceSum.addChild(n);for(var c=0;c<3;c++){var s=new cc.Node;s.name=e+"";var r=s.addComponent(cc.Sprite);switch(s.x=0-this.distance*(e-this.countPage),c){case 0:s.y=0+this.distance*t[e].dice1,r.spriteFrame=this.iconXX1,this.nodeDice1.addChild(s);break;case 1:s.y=0+this.distance*t[e].dice2,r.spriteFrame=this.iconXX2,this.nodeDice2.addChild(s);break;case 2:s.y=0+this.distance*t[e].dice3,r.spriteFrame=this.iconXX3,this.nodeDice3.addChild(s)}}}this.drawLineTK()}}},e.prototype.drawLineTK=function(){this.drawSum.clear(),this.drawSum.lineWidth=2,this.drawSum.strokeColor=cc.Color.RED,this.drawDice1.clear(),this.drawDice1.lineWidth=2,this.drawDice1.strokeColor=cc.color(255,208,44),this.drawDice2.clear(),this.drawDice2.lineWidth=2,this.drawDice2.strokeColor=cc.color(21,203,255),this.drawDice3.clear(),this.drawDice3.lineWidth=2,this.drawDice3.strokeColor=cc.color(255,0,186);for(var t=this.countPage;t<this.maxCau-1+this.countPage;t++){var e=this.nodeDiceSum.getChildByName(t.toString()),n=this.nodeDiceSum.getChildByName(t+1+"");this.drawSum.moveTo(e.x,e.y),this.drawSum.lineTo(n.x,n.y),this.drawSum.stroke();for(var o=1;o<=3;o++)switch(o){case 1:e=this.nodeDice1.getChildByName(t.toString()),n=this.nodeDice1.getChildByName(t+1+"");this.drawDice1.moveTo(e.x,e.y),this.drawDice1.lineTo(n.x,n.y),this.drawDice1.stroke();break;case 2:e=this.nodeDice2.getChildByName(t.toString()),n=this.nodeDice2.getChildByName(t+1+"");this.drawDice2.moveTo(e.x,e.y),this.drawDice2.lineTo(n.x,n.y),this.drawDice2.stroke();break;case 3:e=this.nodeDice3.getChildByName(t.toString()),n=this.nodeDice3.getChildByName(t+1+"");this.drawDice3.moveTo(e.x,e.y),this.drawDice3.lineTo(n.x,n.y),this.drawDice3.stroke()}}},e.prototype.onCheckBox=function(t,e){switch(e){case"SUM":this.nodeDiceSum.active=!this.nodeDiceSum.active;break;case"DICE1":this.nodeDice1.active=!this.nodeDice1.active;break;case"DICE2":this.nodeDice2.active=!this.nodeDice2.active;break;case"DICE3":this.nodeDice3.active=!this.nodeDice3.active}},i([l(cc.Node)],e.prototype,"nodeDice1",void 0),i([l(cc.Node)],e.prototype,"nodeDice2",void 0),i([l(cc.Node)],e.prototype,"nodeDice3",void 0),i([l(cc.Node)],e.prototype,"nodeDiceSum",void 0),i([l(cc.Node)],e.prototype,"nodeSoiCau",void 0),i([l(cc.Node)],e.prototype,"nodeThongKe",void 0),i([l(cc.Label)],e.prototype,"lbGameSession",void 0),i([l(cc.Label)],e.prototype,"lbResult",void 0),i([l(cc.SpriteFrame)],e.prototype,"iconTai",void 0),i([l(cc.SpriteFrame)],e.prototype,"iconXiu",void 0),i([l(cc.SpriteFrame)],e.prototype,"iconXX1",void 0),i([l(cc.SpriteFrame)],e.prototype,"iconXX2",void 0),i([l(cc.SpriteFrame)],e.prototype,"iconXX3",void 0),i([l(cc.Node)],e.prototype,"btnRight",void 0),e=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","./TaiXiuHandler":"TaiXiuHandler"}],PopupController:[function(t,e,n){"use strict";cc._RF.push(e,"b8caaihR2VNrq6xP4WhgZiq","PopupController");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./PhongThanThemKNB"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.holderButton=null,e.holderContent=[],e}return o(e,t),e.prototype.onBtnMenuLeft=function(t,e){for(var n in this.holderButton.children)n==e?(this.holderButton.children[n].opacity=255,this.holderContent[n].active=!0):(this.holderButton.children[n].opacity=0,this.holderContent[n].active=!1)},e.prototype.onDiemDanh=function(){var t=this;this.onBtnMenuLeft(null,"4"),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){t.holderContent[4].getComponent(a.default).onBtnMenuTop(null,"2")})))},i([r(cc.Node)],e.prototype,"holderButton",void 0),i([r(cc.Node)],e.prototype,"holderContent",void 0),e=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./PhongThanThemKNB":"PhongThanThemKNB"}],PopupHistory:[function(t,e,n){"use strict";cc._RF.push(e,"33b3fYI5T1Ed6zq5AJu242y","PopupHistory");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./ThinhKinhHandler"),c=t("../../Common/Utilities/Utility"),s=t("../../Common/Data/GameConfigs"),r=t("../../Lobby/Scripts/LoadingManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.historyCell=null,e.content=null,e}return o(e,t),e.prototype.onLoad=function(){r.default.getInstance().show(),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){a.ThinhKinhHandler.getInstance().sendMessHistory()}))),cc.systemEvent.on(s.GameConfigs.WSGameName.ThinhKinh+"History",this.initHistory.bind(this),this)},e.prototype.initHistory=function(t){var e=a.ThinhKinhHandler.getInstance().listHistory;for(var n in e){var o=cc.instantiate(this.historyCell);parseInt(n)%2==0?o.getChildByName("layout").active=!1:o.getChildByName("layout1").active=!1,o.getChildByName("Session").getComponent(cc.Label).string=e[n].spinId,o.getChildByName("Time").getComponent(cc.Label).string=e[n].createDate,o.getChildByName("Room").getComponent(cc.Label).string=this.parseRoomID(e[n].roomId),o.getChildByName("Bet").getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(e[n].totalBet),o.getChildByName("Win").getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(e[n].totalPrize),o.setPosition(0,-25-43*parseInt(n)),this.content.addChild(o)}this.content.height=43*e.length,r.default.getInstance().hide()},e.prototype.parseRoomID=function(t){switch(t){case 1:return"100";case 2:return"1.000";case 3:return"5.000";case 4:return"10.000"}},e.prototype.optimizeString=function(t,e){if((t=t.replace(/;/g,",")).length>=e){for(;","!=t[e];)--e;return t=t.substring(0,e)+"\n"+(t=t.substring(e,t.length))}return t},e.prototype.onBtnClose=function(t){this.node.removeFromParent(),this.node.destroy()},i([p(cc.Prefab)],e.prototype,"historyCell",void 0),i([p(cc.Node)],e.prototype,"content",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./ThinhKinhHandler":"ThinhKinhHandler"}],PopupInterface:[function(t,e,n){"use strict";cc._RF.push(e,"9764eKZ2RJFFYGFSYjSywMF","PopupInterface");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Data/Constants"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scale=1,e.popupEffect=null,e._windowsSize=null,e.callback=null,e}return o(e,t),e.prototype.onLoad=function(){this.showPopup()},e.prototype.onEnable=function(){cc.systemEvent.emit("LANGUAGE"),this._windowsSize=new cc.Size(1440,960)},e.prototype.updateZLocal=function(){var t=this;cc.systemEvent.on("updateZLocal",function(e){e.getUserData();t.node.name?t.node.zIndex=1e4:t.node.zIndex=1e3},this)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},e.prototype.addTouchMove=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){cc.systemEvent.emit("updateZLocal",t.node.name),cc.systemEvent.emit(a.default.EVENT_LOBBY.CHOSE_MINI,t.node.name)}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){var n=e.getDelta();t.node.x+=n.x,t.node.y+=n.y})},e.prototype.showPopup=function(){this.popupEffect?(this.popupEffect.scale=.5,this.popupEffect.opacity=0,this.popupEffect.runAction(cc.spawn(cc.fadeTo(.3,255),cc.scaleTo(.3,this.scale)))):(this.node.scale=0,this.node.runAction(cc.scaleTo(.2,this.scale)))},e.prototype.closePopup=function(){var t=this;this.popupEffect?this.popupEffect.runAction(cc.sequence(cc.scaleTo(.2,.1),cc.callFunc(function(){t.node.destroy()}))):this.node.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy()}))),this.callback&&this.callback()},e.prototype.lockInScene=function(){Math.abs(this.node.x)>this._windowsSize.width/2&&(this.node.x=this.node.x>0?this._windowsSize.width/2:0-this._windowsSize.width/2),Math.abs(this.node.y)>this._windowsSize.height/2&&(this.node.y=this.node.y>0?this._windowsSize.height/2:0-this._windowsSize.height/2)},i([r(cc.Float)],e.prototype,"scale",void 0),i([r(cc.Node)],e.prototype,"popupEffect",void 0),e=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../Data/Constants":"Constants"}],PopupListHu:[function(t,e,n){"use strict";cc._RF.push(e,"5a1b7b/4ddGf7T0c9Hl6CyV","PopupListHu");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./BanCaHandler"),c=t("../../Common/Utilities/Utility"),s=t("../../Lobby/Scripts/LoadingManager"),r=t("./BanCaData"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listHuCell=null,e.click=null,e.content=null,e.isSound=!0,e.callback=null,e.popupEffect=null,e}return o(e,t),e.prototype.onLoad=function(){this.isSound=r.default.getInstance().BATTLECONFIG.is_Sound,s.default.getInstance().show(),a.default.getInstance().processTopJackpot(),a.default.getInstance().onTopJackpot=this.onTopJP.bind(this)},e.prototype.onTopJP=function(t){for(var e in s.default.getInstance().hide(),t){var n=cc.instantiate(this.listHuCell);n.getChildByName("line").active=!!(parseInt(e)%2),n.getChildByName("time").getComponent(cc.Label).string=t[e].date_time,n.getChildByName("player").getComponent(cc.Label).string=t[e].nick,n.getChildByName("room").getComponent(cc.Label).string=c.Utility.getInstance().add_commas(t[e].room_value),n.getChildByName("win").getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(t[e].jackot_value),this.content.addChild(n)}},e.prototype.closePopup=function(){var t=this;this.isSound&&cc.audioEngine.playEffect(this.click,!1),this.popupEffect?this.popupEffect.runAction(cc.sequence(cc.scaleTo(.22,0),cc.callFunc(function(){t.node.destroy(),cc.removeSelf(!1)}))):this.node.runAction(cc.sequence(cc.scaleTo(.22,0),cc.callFunc(function(){t.node.destroy()}))),this.callback&&this.callback()},i([p(cc.Prefab)],e.prototype,"listHuCell",void 0),i([p({type:cc.AudioClip})],e.prototype,"click",void 0),i([p(cc.Node)],e.prototype,"content",void 0),i([p(cc.Node)],e.prototype,"popupEffect",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./BanCaData":"BanCaData","./BanCaHandler":"BanCaHandler"}],PopupMoney:[function(t,e,n){"use strict";cc._RF.push(e,"1cb62r8+K5JmJLSQ1oIKTcv","PopupMoney");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./BanCaHandler"),c=t("../../Common/Utilities/Utility"),s=t("../../Common/Data/GameData"),r=t("./BattleControl"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_money=null,e.edit_box_money=null,e.check_box_money=null,e.slider=null,e.node_load=null,e.btn_done=null,e.control=null,e.Audio_Click=null,e.is_login=!0,e}return o(e,t),e.prototype.onLoad=function(){this.lb_money.string=c.Utility.getInstance().add_commas(s.default.getInstance().UserData.balance)},e.prototype.onEnable=function(){this.btn_done.interactable=!0},e.prototype.onBtnMoneyDone=function(){var t=this;cc.audioEngine.playEffect(this.Audio_Click,!1),this.btn_done.interactable=!1,c.Utility.getInstance().moneytoNumber(this.edit_box_money.string)<1e3?cc.find("BattleControl").getComponent(r.default).showMessageInBattle("min 1.000K",2,function(){t.btn_done.interactable=!0}):this.is_login?a.default.getInstance().processJoinGame(c.Utility.getInstance().moneytoNumber(this.edit_box_money.string)):a.default.getInstance().processBuyMoney(c.Utility.getInstance().moneytoNumber(this.edit_box_money.string))},e.prototype.onBtnClose=function(){cc.audioEngine.playEffect(this.Audio_Click,!1),this.control.getComponent(r.default).onBtnQuit()},e.prototype.onCheckBox=function(){cc.audioEngine.playEffect(this.Audio_Click,!1)},e.prototype.onSlice=function(){var t=c.Utility.getInstance().add_commas(5e5*parseFloat(this.slider.progress.toFixed(2)));this.edit_box_money.string="0"==t?"1.000":t,this.node_load.width=20+this.slider.progress*this.slider.node.width},i([p(cc.Label)],e.prototype,"lb_money",void 0),i([p(cc.Label)],e.prototype,"edit_box_money",void 0),i([p(cc.Toggle)],e.prototype,"check_box_money",void 0),i([p(cc.Slider)],e.prototype,"slider",void 0),i([p(cc.Node)],e.prototype,"node_load",void 0),i([p(cc.Button)],e.prototype,"btn_done",void 0),i([p(cc.Node)],e.prototype,"control",void 0),i([p({type:cc.AudioClip})],e.prototype,"Audio_Click",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/GameData":"GameData","../../Common/Utilities/Utility":"Utility","./BanCaHandler":"BanCaHandler","./BattleControl":"BattleControl"}],PopupPokerHistory:[function(t,e,n){"use strict";cc._RF.push(e,"da54eutPU1D/J/xLJGNbTr9","PopupPokerHistory");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utilities/Utility"),c=t("../../Lobby/Scripts/LoadingManager"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.historyCell=null,e.contentHistory=null,e.cardAtlas=null,e.delegate=null,e}return o(e,t),e.prototype.onLoad=function(){c.default.getInstance().show(),cc.systemEvent.on("HISTORYMINIPOKER",this.processHistory,this)},e.prototype.processHistory=function(t){this.cardAtlas=t.cardAtlas;var e=t.listHistory;for(var n in e){var o=cc.instantiate(this.historyCell);parseInt(n)%2==0?o.getChildByName("layout").active=!1:o.getChildByName("layout1").active=!1,o.y=-43*(parseInt(n)+1),this.updateData(e[n],o),this.contentHistory.addChild(o)}this.contentHistory.setContentSize(885,43*e.length),c.default.getInstance().hide()},e.prototype.updateData=function(t,e){e.getChildByName("lblSpinId").getComponent(cc.Label).string=t._spinId,e.getChildByName("lbTime").getComponent(cc.Label).string=t._createTime,e.getChildByName("lbBet").getComponent(cc.Label).string=a.Utility.getInstance().numberToCurrency(t._betValue),e.getChildByName("lbWin").getComponent(cc.Label).string=a.Utility.getInstance().numberToCurrency(t._prizeValue),e.getChildByName("lbType").getComponent(cc.Label).string=this.resultType(parseInt(t._cardType));var n=e.getChildByName("CardType").children;for(var o in n)n[o].getComponent(cc.Sprite).spriteFrame=this.cardAtlas.getSpriteFrame(t._slotData[o])},e.prototype.resultType=function(t){switch(t){case 1:return"Royal Flush";case 2:return"Straight Flush";case 3:return"Four of a Kind";case 4:return"Full House";case 5:return"Flush";case 6:return"Straight";case 7:return"Three of a Kind";case 8:return"Two Pair";case 9:return"Jack or better";case 12:return"Royal Flush J+";case 13:return"Royal Flush J_";default:return""}},i([l(cc.Prefab)],e.prototype,"historyCell",void 0),i([l(cc.Node)],e.prototype,"contentHistory",void 0),e=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager"}],PopupPokerHonor:[function(t,e,n){"use strict";cc._RF.push(e,"e28fc8GR3NDA4kAoIkJ1WpN","PopupPokerHonor");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utilities/Utility"),c=t("./HandlerMinipoker"),s=t("../../Lobby/Scripts/LoadingManager"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.HonorCell=null,e.contentHonor=null,e.cardAtlas=null,e.delegate=null,e}return o(e,t),e.prototype.onLoad=function(){s.default.getInstance().show(),cc.systemEvent.on("HONORMINIPOKER",this.processHonor,this),this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){c.default.getInstance().processHonor()})))},e.prototype.processHonor=function(t){this.cardAtlas=t.cardAtlas;var e=t.listHonor;for(var n in e){var o=cc.instantiate(this.HonorCell);parseInt(n)%2==0?o.getChildByName("layout").active=!1:o.getChildByName("layout1").active=!1,o.y=-43*(parseInt(n)+1),this.updateData(e[n],o),this.contentHonor.addChild(o)}this.contentHonor.setContentSize(885,43*e.length),s.default.getInstance().hide()},e.prototype.updateData=function(t,e){e.getChildByName("lbName").getComponent(cc.Label).string=t._userName,e.getChildByName("lbTime").getComponent(cc.Label).string=t._createTime,e.getChildByName("lbBet").getComponent(cc.Label).string=a.Utility.getInstance().numberToCurrency(t._betValue),e.getChildByName("lbWin").getComponent(cc.Label).string=a.Utility.getInstance().numberToCurrency(t._prizeValue),e.getChildByName("lbType").getComponent(cc.Label).string=this.resultType(parseInt(t._typeHonor));var n=e.getChildByName("CardType").children;for(var o in n)n[o].getComponent(cc.Sprite).spriteFrame=this.cardAtlas.getSpriteFrame(t._slotData[o])},e.prototype.formatDate=function(t){var e=t.split(" ");return e[0].substr(0,5)+" "+e[1].substr(0,5)},e.prototype.resultType=function(t){switch(t){case 1:return"Royal Flush";case 2:return"Straight Flush";case 3:return"Four of a Kind";case 4:return"Full House";case 5:return"Flush";case 6:return"Straight";case 7:return"Three of a Kind";case 8:return"Two Pair";case 9:return"Jack or better";case 12:return"Royal Flush J+";case 13:return"Royal Flush J_";default:return""}},i([u(cc.Prefab)],e.prototype,"HonorCell",void 0),i([u(cc.Node)],e.prototype,"contentHonor",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./HandlerMinipoker":"HandlerMinipoker"}],PopupRateFish:[function(t,e,n){"use strict";cc._RF.push(e,"f2911fhajxGmpl3Jv7i7X3T","PopupRateFish");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./BanCaData"),c=t("./BanCaHandler"),s=t("../../Common/Utilities/Utility"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeListFish=null,e.click=null,e.isSound=!0,e.callback=null,e.popupEffect=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.isSound=a.default.getInstance().BATTLECONFIG.is_Sound,c.default.getInstance().config_fish.forEach(function(e){if(18!=e.kind){var n=e.kind>=10?"fish_"+e.kind:"fish_0"+e.kind;t.nodeListFish.getChildByName(n).children[2].getComponent(cc.Label).string="x"+s.Utility.getInstance().add_commas(e.multiple)}})},e.prototype.closePopup=function(){var t=this;this.isSound&&cc.audioEngine.playEffect(this.click,!1),this.popupEffect?this.popupEffect.runAction(cc.sequence(cc.scaleTo(.22,0),cc.callFunc(function(){t.node.destroy(),cc.removeSelf(!1)}))):this.node.runAction(cc.sequence(cc.scaleTo(.22,0),cc.callFunc(function(){t.node.destroy()}))),this.callback&&this.callback()},i([u(cc.Node)],e.prototype,"nodeListFish",void 0),i([u({type:cc.AudioClip})],e.prototype,"click",void 0),i([u(cc.Node)],e.prototype,"popupEffect",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","./BanCaData":"BanCaData","./BanCaHandler":"BanCaHandler"}],PopupTXEvent:[function(t,e,n){"use strict";cc._RF.push(e,"a44bdMubXlCJLU+mreQw30u","PopupTXEvent");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e=i([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],PopupTXHelp:[function(t,e,n){"use strict";cc._RF.push(e,"a877dxJpxxNvooTGEvoO0Kc","PopupTXHelp");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){},e=i([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],PopupTXHistory:[function(t,e,n){"use strict";cc._RF.push(e,"5badaQJcgdIrYaIgxauhZc/","PopupTXHistory");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TaiXiuHandler"),c=t("../../Common/Data/Constants"),s=t("../../Common/Utilities/Utility"),r=t("../../Common/Data/LabelHelperConfigs"),l=t("../../Common/Data/GameData"),u=t("../../Lobby/Scripts/LoadingManager"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentScv=null,e.historyCell=null,e.language=null,e}return o(e,t),e.prototype.onLoad=function(){u.default.getInstance().show(),this.language=r.TextData[l.default.getInstance().UserData.textPackage],a.default.getInstance().processHistory(),cc.systemEvent.on(c.default.EVENT_TAIXIU.TAIXIU_HANDLER+"history",this.renderHistory.bind(this),this)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},e.prototype.renderHistory=function(){var t=a.default.getInstance().listHistory;for(var e in t){var n=cc.instantiate(this.historyCell);n.y=-23-43*parseInt(e),parseInt(e)%2==0?n.getChildByName("lay").active=!1:n.getChildByName("lay").active=!0,this.historyData(t[e],n),this.contentScv.addChild(n)}this.contentScv.setContentSize(1050,43*t.length),u.default.getInstance().hide()},e.prototype.historyData=function(t,e){e.getChildByName("lbGameSession").getComponent(cc.Label).string=t.session_id,e.getChildByName("lbTime").getComponent(cc.Label).string=t.creatDate,e.getChildByName("lbBetType").getComponent(cc.Label).string=2==t.winLocal?this.language.big:this.language.small;var n=(2==t.locationResult?this.language.big:this.language.small)+"("+t.dice1+"-"+t.dice2+"-"+t.dice3+")";e.getChildByName("lbWinType").getComponent(cc.Label).string=n,e.getChildByName("lbBetValue").getComponent(cc.Label).string=s.Utility.getInstance().add_commas(t.betValue),e.getChildByName("lbReturnValue").getComponent(cc.Label).string=s.Utility.getInstance().add_commas(t.refundValue),e.getChildByName("lbWinValue").getComponent(cc.Label).string=s.Utility.getInstance().add_commas(t.prizeValue)},i([h(cc.Node)],e.prototype,"contentScv",void 0),i([h(cc.Prefab)],e.prototype,"historyCell",void 0),e=i([d],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./TaiXiuHandler":"TaiXiuHandler"}],PopupTXSession:[function(t,e,n){"use strict";cc._RF.push(e,"9ae35Rj0YhJhaFnNm69LSEH","PopupTXSession");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TaiXiuHandler"),c=t("../../Common/Data/Constants"),s=t("../../Common/Utilities/Utility"),r=t("../../Lobby/Scripts/LoadingManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sessionCell=null,e.nodeTai=null,e.nodeXiu=null,e.labelSumBetTai=null,e.labelSumRefundTai=null,e.labelSumXiu=null,e.labelSumRefundXiu=null,e.pageLabel=null,e.sessionLabel=null,e.listNodeDice=[],e.diceAtlas=null,e.labelNut=null,e.session=0,e.currentSession=0,e.listTai=[],e.listXiu=[],e.pageIndex=1,e.indexRowTai=0,e.indexRowXiu=0,e.totalPage=0,e.listUser=[],e}return o(e,t),e.prototype.onLoad=function(){r.default.getInstance().show(),cc.systemEvent.on(c.default.EVENT_TAIXIU.TAIXIU_HANDLER+"sessionhistory",this.renderSessionHistory.bind(this),this)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},e.prototype.resetDefault=function(){this.listTai=[],this.listXiu=[],this.indexRowTai=0,this.indexRowXiu=0,this.totalPage=0,this.pageIndex=1,this.nodeTai.removeAllChildren(!0),this.nodeXiu.removeAllChildren(!0)},e.prototype.renderSessionHistory=function(){if(this.resetDefault(),this.listUser=a.default.getInstance().listSessionHistory,this.sessionLabel.string="#"+this.session,this.generateDice(),0!=this.listUser.length){for(var t in this.listUser)1==this.listUser[t].locationID?this.listXiu.push(this.listUser[t]):this.listTai.push(this.listUser[t]);this.Sumlabel(),this.splitColumn(this.pageIndex),this.totalPage=this.compareList()?Math.ceil(this.listTai.length/10):Math.ceil(this.listXiu.length/10),this.pageLabel.string=this.pageIndex+"",r.default.getInstance().hide()}else r.default.getInstance().hide()},e.prototype.generateDice=function(){for(var t=a.default.getInstance().infoSessionHistory,e=0;e<3;e++){var n=s.Utility.getInstance().randomInt(1,4),o=t["dice"+(e+1)]+""+n;this.listNodeDice[e].getComponent(cc.Sprite).spriteFrame=this.diceAtlas.getSpriteFrame(o),this.listNodeDice[e].scale=.5}var i=t.dice1+t.dice2+t.dice3;this.labelNut.node.x=i>10?-120:110,this.labelNut.string=i.toString(),this.labelSumRefundTai.string=s.Utility.getInstance().numberToCurrency(t.total_refund2),this.labelSumRefundXiu.string=s.Utility.getInstance().numberToCurrency(t.total_refund1)},e.prototype.compareList=function(){return this.listTai.length>this.listXiu.length},e.prototype.Sumlabel=function(){var t=a.default.getInstance().infoSessionHistory;this.labelSumBetTai.string=s.Utility.getInstance().numberToCurrency(t.money_balance),this.labelSumXiu.string=s.Utility.getInstance().numberToCurrency(t.money_balance)},e.prototype.splitColumn=function(t){this.indexRowTai=0,this.indexRowXiu=0,this.nodeTai.removeAllChildren(!0),this.nodeXiu.removeAllChildren(!0);for(var e=t-1,n=10*e;n<10*e+10&&!(n>=this.listTai.length);n++){var o=cc.instantiate(this.sessionCell);this.historyData(this.listTai[n],o),this.nodeTai.addChild(o),this.indexRowTai++}for(n=10*e;n<10*e+10&&!(n>=this.listXiu.length);n++){var i=cc.instantiate(this.sessionCell);this.historyData(this.listXiu[n],i),this.nodeXiu.addChild(i),this.indexRowXiu++}},e.prototype.historyData=function(t,e){var n=t.createTimeStr.length,o=t.createTimeStr.substring(0,n-3);o=o.replace(" - ","-"),e.getChildByName("Time").getComponent(cc.Label).string=o,e.getChildByName("Player").getComponent(cc.Label).string=t.nickName;var i=s.Utility.getInstance().add_commas(Math.round(t.betValue/1e3));e.getChildByName("Bet").getComponent(cc.Label).string=0!=parseInt(i)?i+"K":i;var a=s.Utility.getInstance().add_commas(Math.round(t.refundValue/1e3));e.getChildByName("RePaid").getComponent(cc.Label).string=0!=parseInt(a)?a+"K":a},e.prototype.onBtnNextPrev=function(t,e){if(0!=this.listUser.length){if(1==parseInt(e)){if(this.pageIndex==this.totalPage)return;this.pageIndex++}else{if(1==this.pageIndex)return;this.pageIndex--}this.splitColumn(this.pageIndex),this.pageLabel.string=this.pageIndex+""}},e.prototype.onBtnLast=function(t,e){0!=this.listUser.length&&(1==parseInt(e)?(this.pageIndex=this.totalPage,this.splitColumn(this.pageIndex),this.pageLabel.string=this.pageIndex+""):(this.pageIndex=1,this.splitColumn(this.pageIndex),this.pageLabel.string=this.pageIndex+""))},e.prototype.onBtnNextSession=function(t,e){a.default.getInstance().soicau;if(1==parseInt(e)){if(this.session>=this.currentSession)return;a.default.getInstance().processSessionHistory((++this.session).toString())}else a.default.getInstance().processSessionHistory((--this.session).toString())},i([p(cc.Prefab)],e.prototype,"sessionCell",void 0),i([p(cc.Node)],e.prototype,"nodeTai",void 0),i([p(cc.Node)],e.prototype,"nodeXiu",void 0),i([p(cc.Label)],e.prototype,"labelSumBetTai",void 0),i([p(cc.Label)],e.prototype,"labelSumRefundTai",void 0),i([p(cc.Label)],e.prototype,"labelSumXiu",void 0),i([p(cc.Label)],e.prototype,"labelSumRefundXiu",void 0),i([p(cc.Label)],e.prototype,"pageLabel",void 0),i([p(cc.Label)],e.prototype,"sessionLabel",void 0),i([p(cc.Node)],e.prototype,"listNodeDice",void 0),i([p(cc.SpriteAtlas)],e.prototype,"diceAtlas",void 0),i([p(cc.Label)],e.prototype,"labelNut",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./TaiXiuHandler":"TaiXiuHandler"}],PopupTXSoiCau:[function(t,e,n){"use strict";cc._RF.push(e,"b41ddjO4KVJRqA7KjFhlacV","PopupTXSoiCau");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TaiXiuHandler"),c=t("../../Lobby/Scripts/LoadingManager"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soiCauTren=null,e.soiCauDuoi=null,e.listCauDuoi=[],e.iconTai=null,e.iconXiu=null,e.iconCurrentTai=null,e.iconCurrentXiu=null,e.lbTaiTren=null,e.lbXiuTren=null,e.lbTaiDuoi=null,e.lbXiuDuoi=null,e}return o(e,t),e.prototype.onLoad=function(){c.default.getInstance().show()},e.prototype.onEnable=function(){this.soiCauTren.removeAllChildren(!0),this.soiCauDuoi.removeAllChildren(!0),this.proccessSoicauTren(),this.proccessSoicauDuoi()},e.prototype.proccessSoicauDuoi=function(){this.listCauDuoi=[];for(var t=a.default.getInstance().soicau,e=0,n=0,o=0;o<=4;o++){for(var i=0-35*o,s=0;s<19;s++){if(""==t[20*o+s]||void 0==t[20*o+s])return;e=o%2==0?-10-43*s:43*s-730,(r=new cc.Node).name=o+s+"",r.scale=.9,r.addComponent(cc.Sprite).spriteFrame=1==t[20*o+s].winLocal?this.iconXiu:this.iconTai,this.soiCauDuoi.addChild(r),r.x=e,r.y=i,2==t[20*o+s].winLocal&&n++}if(o>0)this.soiCauDuoi.getChildByName("0").runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.3),cc.scaleTo(.5,1.1))))}for(o=0;o<2;o++){(r=new cc.Node).scale=.9,r.addComponent(cc.Sprite).spriteFrame=1==t[30+40*o+9].winLocal?this.iconXiu:this.iconTai,this.soiCauDuoi.addChild(r),r.x=30,r.y=-70-70*o}for(o=0;o<2;o++){var r;(r=new cc.Node).scale=.9,r.addComponent(cc.Sprite).spriteFrame=1==t[10+40*o+9].winLocal?this.iconXiu:this.iconTai,this.soiCauDuoi.addChild(r),r.x=-770,r.y=-35-70*o}this.lbTaiDuoi.string=n+"",this.lbXiuDuoi.string=100-n+"",c.default.getInstance().hide()},e.prototype.proccessSoicauTren=function(){for(var t=a.default.getInstance().soicau,e=0,n=0,o=0,i=0,c=!0;c;){if(0!=e){if(void 0==t[e])return;t[e].winLocal==t[e-1].winLocal?-180==i?(o-=36,i=0):i-=36:(o-=36,i=0)}if(o<-864||99==e){c=!1;break}var s=new cc.Node;s.name=e+"",s.scale=1,s.addComponent(cc.Sprite).spriteFrame=1==t[e].winLocal?this.iconXiu:this.iconTai,this.soiCauTren.addChild(s),s.x=o,s.y=i;var r=new cc.Node,l=r.addComponent(cc.Label);if(l.fontSize=18,l.string=t[e].dice_sum+"",1==t[e].winLocal?l.node.color=cc.Color.BLACK:l.node.color=cc.Color.WHITE,s.addChild(r),r.y=-12,2==t[e].winLocal&&n++,e>0)this.soiCauTren.getChildByName("0").runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.1),cc.scaleTo(.5,1))));e++}this.lbTaiTren.string=n+"",this.lbXiuTren.string=e-n+""},i([l(cc.Node)],e.prototype,"soiCauTren",void 0),i([l(cc.Node)],e.prototype,"soiCauDuoi",void 0),i([l(cc.SpriteFrame)],e.prototype,"iconTai",void 0),i([l(cc.SpriteFrame)],e.prototype,"iconXiu",void 0),i([l(cc.SpriteFrame)],e.prototype,"iconCurrentTai",void 0),i([l(cc.SpriteFrame)],e.prototype,"iconCurrentXiu",void 0),i([l(cc.Label)],e.prototype,"lbTaiTren",void 0),i([l(cc.Label)],e.prototype,"lbXiuTren",void 0),i([l(cc.Label)],e.prototype,"lbTaiDuoi",void 0),i([l(cc.Label)],e.prototype,"lbXiuDuoi",void 0),e=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Lobby/Scripts/LoadingManager":"LoadingManager","./TaiXiuHandler":"TaiXiuHandler"}],PopupTXTopWinner:[function(t,e,n){"use strict";cc._RF.push(e,"a40a9jyRvlOkKGPw83b+pgW","PopupTXTopWinner");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TaiXiuHandler"),c=t("../../Common/Data/Constants"),s=t("../../Common/Utilities/Utility"),r=t("../../Lobby/Scripts/LoadingManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentScv=null,e.winnerCell=null,e}return o(e,t),e.prototype.onLoad=function(){r.default.getInstance().show(),a.default.getInstance().processTopWiner(),cc.systemEvent.on(c.default.EVENT_TAIXIU.TAIXIU_HANDLER+"honor",this.renderTopWinner.bind(this),this)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},e.prototype.renderTopWinner=function(t){for(var e=a.default.getInstance().listHonor,n=0;n<10;n++){var o=cc.instantiate(this.winnerCell);o.y=-20-43*n,o.getChildByName("lay").active=n%2!=0,+n<3?o.getChildByName("rank_"+n).active=!0:o.getChildByName("lbRank").getComponent(cc.Label).string=n+1+"",o.getChildByName("lbName").getComponent(cc.Label).string=e[n].nickName,o.getChildByName("lbWin").getComponent(cc.Label).string=s.Utility.getInstance().add_commas(e[n].prizeValue),this.contentScv.addChild(o)}this.contentScv.setContentSize(1050,430),r.default.getInstance().hide()},i([p(cc.Node)],e.prototype,"contentScv",void 0),i([p(cc.Prefab)],e.prototype,"winnerCell",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./TaiXiuHandler":"TaiXiuHandler"}],PopupTopJackpot:[function(t,e,n){"use strict";cc._RF.push(e,"6862fOFcopFk477/uYzF0da","PopupTopJackpot");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./ThinhKinhHandler"),c=t("../../Common/Utilities/Utility"),s=t("../../Common/Data/GameConfigs"),r=t("../../Lobby/Scripts/LoadingManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TopJackpotCell=null,e.content=null,e}return o(e,t),e.prototype.onLoad=function(){r.default.getInstance().show(),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){a.ThinhKinhHandler.getInstance().sendMessTopJackpot()}))),cc.systemEvent.on(s.GameConfigs.WSGameName.ThinhKinh+"TopJackpot",this.initTopJackpot.bind(this),this)},e.prototype.initTopJackpot=function(t){var e=a.ThinhKinhHandler.getInstance().listJackpot;for(var n in e){var o=cc.instantiate(this.TopJackpotCell);parseInt(n)%2==0?o.getChildByName("layout").active=!1:o.getChildByName("layout1").active=!1,o.getChildByName("Time").getComponent(cc.Label).string=e[n].createDate,o.getChildByName("NickName").getComponent(cc.Label).string=e[n].nickName,o.getChildByName("Room").getComponent(cc.Label).string=this.parseRoomID(e[n].roomId),o.getChildByName("Win").getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(e[n].prizeValue),o.setPosition(0,-25-43*+n),this.content.addChild(o)}this.content.height=43*e.length,r.default.getInstance().hide()},e.prototype.parseRoomID=function(t){switch(t){case 1:return"100";case 2:return"1.000";case 3:return"5.000";case 4:return"10.000"}},e.prototype.onBtnClose=function(t){this.node.removeFromParent(),this.node.destroy()},i([p(cc.Prefab)],e.prototype,"TopJackpotCell",void 0),i([p(cc.Node)],e.prototype,"content",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./ThinhKinhHandler":"ThinhKinhHandler"}],PopupTopWinner:[function(t,e,n){"use strict";cc._RF.push(e,"57eeezwx5pGTrBKejZQUOow","PopupTopWinner");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./ThinhKinhHandler"),c=t("../../Common/Utilities/Utility"),s=t("../../Common/Data/GameConfigs"),r=t("../../Lobby/Scripts/LoadingManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.honorCell=null,e.content=null,e}return o(e,t),e.prototype.onLoad=function(){r.default.getInstance().show(),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){a.ThinhKinhHandler.getInstance().sendMessHonor()}))),cc.systemEvent.on(s.GameConfigs.WSGameName.ThinhKinh+"Honor",this.initHonor.bind(this),this)},e.prototype.initHonor=function(t){var e=a.ThinhKinhHandler.getInstance().listHonor;for(var n in e){var o=cc.instantiate(this.honorCell);parseInt(n)%2==0?o.getChildByName("layout").active=!1:o.getChildByName("layout1").active=!1,o.getChildByName("Time").getComponent(cc.Label).string=e[n].createDate,o.getChildByName("NickName").getComponent(cc.Label).string=e[n].nickName,o.getChildByName("Room").getComponent(cc.Label).string=this.parseRoomID(e[n].roomId),o.getChildByName("Win").getComponent(cc.Label).string=c.Utility.getInstance().numberToCurrency(e[n].prizeValue),o.getChildByName("Detail").getComponent(cc.Label).string=e[n].description,o.setPosition(0,-21.5-43*+n),this.content.addChild(o)}this.content.height=43*e.length,r.default.getInstance().hide()},e.prototype.parseRoomID=function(t){switch(t){case 1:return"100";case 2:return"1.000";case 3:return"5.000";case 4:return"10.000"}},e.prototype.onBtnClose=function(t){this.node.removeFromParent(),this.node.destroy()},i([p(cc.Prefab)],e.prototype,"honorCell",void 0),i([p(cc.Node)],e.prototype,"content",void 0),e=i([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/LoadingManager":"LoadingManager","./ThinhKinhHandler":"ThinhKinhHandler"}],PresentBox:[function(t,e,n){"use strict";cc._RF.push(e,"73d32LB4+9Ez42tb7NzzItv","PresentBox");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.award=null,e.holderMain=null,e.nodeMain=null,e.nodeOption=null,e.notiPrefab=null,e.popupCard=null,e.getGCPrefab=null,e}return o(e,t),i([s(cc.Prefab)],e.prototype,"award",void 0),i([s(cc.Node)],e.prototype,"holderMain",void 0),i([s(cc.Node)],e.prototype,"nodeMain",void 0),i([s(cc.Node)],e.prototype,"nodeOption",void 0),i([s(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([s(cc.Prefab)],e.prototype,"popupCard",void 0),i([s(cc.Prefab)],e.prototype,"getGCPrefab",void 0),e=i([c],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],RecconnetPopup:[function(t,e,n){"use strict";cc._RF.push(e,"b24cbUHHWxAtIjj1dX1MhuT","RecconnetPopup");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./WsHandler"),c=t("../Data/GameConfigs"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnOK=null,e.lbContetn=null,e.isUpdating=!1,e.isGameClose=!1,e.isAPiClose=!1,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.start=function(){this.Hide()},e.prototype.OnReconnectClick=function(){this.isUpdating=!0,this.btnOK.active=!1,this.lbContetn.string="\u0110ang k\u1ebft n\u1ed1i v\u1edbi m\xe1y ch\u1ee7 ...",this.isGameClose&&a.WsHandler.getInstance().ws.connectWS(c.GameConfigs.server_config.link_ws),this.isAPiClose&&a.WsHandler.getInstance().wsApi.connectWS(c.GameConfigs.server_config.link_authen)},e.prototype.Show=function(){this.Reset(),this.node.active=!0},e.prototype.Hide=function(){this.node.active=!1,this.Reset()},e.prototype.ReconectFailed=function(){this.Reset()},e.prototype.Reset=function(){this.isUpdating=!1,this.btnOK.active=!0,this.lbContetn.string="B\u1ea1n v\u1eeba m\u1ea5t k\u1ebft n\u1ed1i, vui l\xf2ng th\u1eed l\u1ea1i"},e.Instance=null,i([l(cc.Node)],e.prototype,"btnOK",void 0),i([l(cc.Label)],e.prototype,"lbContetn",void 0),e=n=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Data/GameConfigs":"GameConfigs","./WsHandler":"WsHandler"}],Register:[function(t,e,n){"use strict";cc._RF.push(e,"3d388rE3nBBSozZOpTpAqJr","Register");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameData"),c=t("../../Common/Network/ConnectHandler"),s=t("../../Common/Data/Constants"),r=t("../../Common/Data/LabelHelperConfigs"),l=t("./LoadingManager"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userID=null,e.userPass=null,e.userRePass=null,e.captcha=null,e.sprCaptcha=null,e.notiPrefab=null,e.lbError=null,e.nameUser="",e.passUser="",e.captchaVerify="",e.callback=function(t){},e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(s.default.EVENT_API.REGISTER,this.onRegisterResponse.bind(this),this),cc.systemEvent.on(s.default.EVENT_API.LOGIN,this.onLoginResponse.bind(this),this),cc.systemEvent.on(s.default.EVENT_API.GET_CAPTCHA,this.onGetCaptchaResponse.bind(this),this)},e.prototype.onGetCaptchaResponse=function(t){this.captchaVerify=t.data.captchaVerify;var e="data:image/png;base64,"+t.data.captchaImage,n=new Image;n.src=e;var o=new cc.Texture2D;o.initWithElement(n),o.handleLoadedTexture(),this.sprCaptcha.spriteFrame=new cc.SpriteFrame(o)},e.prototype.onLoginResponse=function(t){l.default.getInstance().hide(),0!=t.status?this.lbError.string=c.default.getInstance().statusApiError(t.status)+"":(cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.OS_ANDROID?(cc.sys.localStorage.setItem("username",this.nameUser),cc.sys.localStorage.setItem("password",this.passUser)):cc.sys.localStorage.setItem("username",this.nameUser),cc.systemEvent.emit(s.default.EVENT_LOBBY.LOGIN_DONE))},e.prototype.onRegisterResponse=function(t){0!=t.status?(l.default.getInstance().hide(),this.lbError.string=c.default.getInstance().statusApiError(t.status)+"",this.captcha.string="",this.refreshCaptcha(),gtag&&gtag("event","Reg_Failed")):(this.lbError.node.color=cc.Color.GREEN,c.default.getInstance().processLogin(this.nameUser,this.passUser),this.node.destroy(),this.node.removeFromParent(!0),gtag&&gtag("event","Reg"))},e.prototype.start=function(){this.refreshCaptcha()},e.prototype.onClickRegister=function(){this.lbError.node.color=cc.Color.RED;var t=r.TextData[a.default.getInstance().UserData.textPackage];if(this.nameUser=this.userID.string.trim(),this.nameUser.length<1)this.lbError.string=t.null_username;else if(this.nameUser.length<6||this.nameUser.length>15)this.lbError.string=t.limit_username;else if(/[^a-zA-Z0-9]/.test(this.nameUser))this.lbError.string="T\xean \u0111\u0103ng nh\u1eadp ch\u1ec9 ch\u1ee9a k\xfd t\u1ef1 v\xe0 s\u1ed1";else if(this.passUser=this.userPass.string.trim(),0!=this.passUser.length)if(this.passUser.length>15||this.passUser.length<6)this.lbError.string=t.limit_password;else{var e=this.userRePass.string.trim();if(e.length<1)this.lbError.string=t.null_confirm_password;else if(this.passUser==e){var n=this.captcha.string.trim();n.length<1?this.lbError.string=t.null_captcha:(this.lbError.string="",l.default.getInstance().show(),c.default.getInstance().processRegister(this.nameUser,this.passUser,this.captchaVerify,n))}else this.lbError.string=t.confirm_pass_fail}else this.lbError.string=t.null_password},e.prototype.refreshCaptcha=function(){c.default.getInstance().processGetCaptcha()},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([d(cc.EditBox)],e.prototype,"userID",void 0),i([d(cc.EditBox)],e.prototype,"userPass",void 0),i([d(cc.EditBox)],e.prototype,"userRePass",void 0),i([d(cc.EditBox)],e.prototype,"captcha",void 0),i([d(cc.Sprite)],e.prototype,"sprCaptcha",void 0),i([d(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([d(cc.Label)],e.prototype,"lbError",void 0),e=i([p],e)}(cc.Component);n.RegisterController=h,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","./LoadingManager":"LoadingManager"}],RemoteResources:[function(t,e,n){"use strict";cc._RF.push(e,"998e8ztjn9M6LNx9DdRTXmB","RemoteResources");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.customManifestStr=JSON.stringify({packageUrl:"http://lhui.rongho.top/remote-assets/",remoteManifestUrl:"http://lhui.rongho.top/remote-assets/project.manifest",remoteVersionUrl:"http://lhui.rongho.top/remote-assets/version.manifest",version:"2.0.0",assets:{},searchPaths:[]}),e.lbDesc=null,e.perFile=null,e.perDown=null,e.lbEventCode=null,e.manifestUrl=null,e.retryBtn=null,e.updateBtn=null,e.complete=null,e.waiting=null,e.versionCompareHandle=function(t,e){},e.am=null,e.updating=!1,e.canRetry=!1,e.failCount=0,e.log="",e.Isverify=!1,e._count=0,e._downLoadFile=0,e._totalFile=0,e._alreadyVersion=!1,e.cbReady=function(){},e}return o(e,t),e.prototype.onLoad=function(){if(cc.sys.isBrowser)this.EndUpdate();else{for(this.init();!this.Isverify;)cc.log("Verifying HotUpdate ...."),this.lbDesc.string="Verifying HotUpdate ....";this.checkUpdate()}},e.prototype.start=function(){this.lbDesc.string="",this.waiting.active=!1},e.prototype.EndUpdate=function(){cc.sys.isBrowser||this.cbReady&&this.cbReady()},e.prototype.checkCb=function(t){switch(this.lbEventCode.string="Event Code: "+t.getEventCode(),t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.lbDesc.string="No local manifest file found, hot update skipped.";break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.lbDesc.string="Fail to download manifest file, hot update skipped.";break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.lbDesc.string="Already up to date with the latest remote version.",this.EndUpdate();break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:this.lbDesc.string="New version found, please try to update.",this.updateBtn.active=!0;break;default:return}this.am.setEventCallback(null),this.updating=!1,cc.log("false updating")},e.prototype.updateCb=function(t){var e=!1,n=!1;if(null!==t.getEventCode()&&void 0!==t.getEventCode()){switch(this.lbEventCode.string="Event Code: "+t.getEventCode(),t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.lbDesc.string="No local manifest file found, hot update skipped.",n=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:this.perFile.string=t.getDownloadedFiles()+" / "+t.getTotalFiles(),this.perDown.string=t.getDownloadedBytes()+" / "+t.getTotalBytes(),this._downLoadFile=t.getDownloadedFiles(),this._totalFile=t.getTotalFiles(),(o=t.getMessage())&&(this.lbDesc.string="Updated file: "+o),this.lbDesc.string="Updated file: "+o;break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:var o;this.lbDesc.string="Error to download manifest file, hot update skipped. Update",(o=t.getMessage())&&(this.lbDesc.string="Error file: "+o),n=!0;break;case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.lbDesc.string="Fail to download manifest file, hot update skipped. Update",n=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:this.lbDesc.string="Update finished. "+t.getMessage(),e=!0,n=!1;break;case jsb.EventAssetsManager.ASSET_UPDATED:this.lbDesc.string=t.getMessage()+"   "+t.getDownloadedFiles()+"/"+this._totalFile,this._downLoadFile=t.getDownloadedFiles();break;case jsb.EventAssetsManager.UPDATE_FAILED:this.lbDesc.string="Update failed. "+t.getMessage(),this.updating=!1,this.canRetry=!0,this.retryBtn.active=!0;break;case jsb.EventAssetsManager.ERROR_UPDATING:this._count++,this.lbDesc.string="Asset update error: "+t.getAssetId()+", "+t.getMessage()+" Count: "+this._count.toString();break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:this.lbDesc.string=t.getMessage(),this.lbDesc.string="Decompress error: "+t.getAssetId()+", "+t.getMessage()}if(n&&(this.am.setEventCallback(function(t){}),this._updateListener=null,this.updating=!1),e&&this._downLoadFile==this._totalFile){this.am.setEventCallback(function(t){}),this.lbDesc.string="setEventCallback",this._updateListener=null,this.lbDesc.string="_updateListener";var i=jsb.fileUtils.getSearchPaths();this.lbDesc.string="searchPaths: "+i;var a=this.am.getLocalManifest().getSearchPaths();this.lbDesc.string="newPaths: "+a,this.lbDesc.string="newPaths: "+JSON.stringify(a),Array.prototype.unshift.apply(i,a),this.lbDesc.string="unshift: ",cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(i)),this.lbDesc.string="HotUpdateSearchPaths: ",jsb.fileUtils.setSearchPaths(i),this.lbDesc.string="setSearchPaths: "+i,cc.sys.localStorage.setItem("VerifyMyUser",1),this.lbDesc.string="VerifyMyUser: "+cc.sys.localStorage.getItem("VerifyMyUser"),cc.audioEngine.stopAll(),this.lbDesc.string="RESTING GAME.....",this.complete.active=!0,this.waiting.active=!1}}},e.prototype.loadCustomManifest=function(){if(this.am.getState()===jsb.AssetsManager.State.UNINITED){var t=new jsb.Manifest(this.customManifestStr,this._storagePath);this.am.loadLocalManifest(t,this._storagePath),this.lbDesc.string="Using custom manifest"}},e.prototype.retry=function(){!this.updating&&this.canRetry&&(this.waiting.active=!0,this.retryBtn.active=!1,this.canRetry=!1,this.lbDesc.string="Retry failed Assets...",this.am.downloadFailedAssets())},e.prototype.checkUpdate=function(){if(this.updating)this.lbDesc.string="Checking or updating ...";else{if(this.am.getState()===jsb.AssetsManager.State.UNINITED){var t=this.manifestUrl.nativeUrl;cc.log("checkUpdate: "+t),cc.loader.md5Pipe&&(t=cc.loader.md5Pipe.transformURL(t)),this.am.loadLocalManifest(t)}this.am.getLocalManifest()&&this.am.getLocalManifest().isLoaded()?(this.am.setEventCallback(this.checkCb.bind(this)),this.am.checkUpdate(),this.updating=!0,cc.log("checkUpdate")):this.lbDesc.string="Failed to load local manifest ..."}},e.prototype.hotUpdate=function(){if(this.am&&!this.updating){if(this.waiting.active=!0,this.am.setEventCallback(this.updateCb.bind(this)),this.am.getState()===jsb.AssetsManager.State.UNINITED){var t=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(t=cc.loader.md5Pipe.transformURL(t)),this.am.loadLocalManifest(t)}this.failCount=0,this.am.update(),this.updateBtn.active=!1,this.updating=!0}},e.prototype.init=function(){var t=this;cc.log("Storage"),cc.sys.isNative&&(this._storagePath=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"remote-asset",cc.log("Storage path for remote asset : "+this._storagePath),this.versionCompareHandle=function(t,e){cc.log("JS Custom Version Compare: version A is "+t+", version B is "+e);for(var n=t.split("."),o=e.split("."),i=0;i<n.length;++i){var a=parseInt(n[i]),c=parseInt(o[i]||0);if(a!==c)return a-c}return o.length>n.length?-1:0},this.am=new jsb.AssetsManager("",this._storagePath,this.versionCompareHandle),this.am.setVerifyCallback(function(e,n){var o=n.compressed,i=n.md5,a=n.path;n.size;return o?(t.lbDesc.string="Verification passed : "+a,!0):(t.lbDesc.string="Verification passed : "+a+" ("+i+")",!0)}),this.Isverify=!0,this.lbDesc.string="Hot update is ready, please check or directly update.",cc.sys.os===cc.sys.OS_ANDROID&&(this.am.setMaxConcurrentTask(10),this.lbDesc.string="Max concurrent tasks count have been limited to 2"))},e.prototype.onBtnComplete=function(){this.complete.active=!1,cc.sys.os==cc.sys.OS_ANDROID?cc.game.end():cc.game.restart()},e.prototype.onDestroy=function(){this._updateListener&&(this.am.setEventCallback(null),this._updateListener=null)},i([s(cc.Label)],e.prototype,"lbDesc",void 0),i([s(cc.Label)],e.prototype,"perFile",void 0),i([s(cc.Label)],e.prototype,"perDown",void 0),i([s(cc.Label)],e.prototype,"lbEventCode",void 0),i([s({type:cc.Asset})],e.prototype,"manifestUrl",void 0),i([s(cc.Node)],e.prototype,"retryBtn",void 0),i([s(cc.Node)],e.prototype,"updateBtn",void 0),i([s(cc.Node)],e.prototype,"complete",void 0),i([s(cc.Node)],e.prototype,"waiting",void 0),e=i([c],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],RichTextLocalize:[function(t,e,n){"use strict";cc._RF.push(e,"6384eWLvIxHip9P6xDaFg/q","RichTextLocalize");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textkey="",e}return o(e,t),e.prototype.start=function(){cc.sys.isMobile&&null!=this.font&&(this.useSystemFont=!0,this.fontFamily="UTM-Cafeta")},i([s()],e.prototype,"textkey",void 0),e=i([c],e)}(cc.RichText);n.default=r,cc._RF.pop()},{}],SceneManager:[function(t,e,n){"use strict";cc._RF.push(e,"3d7dePWrH5H3oRr423p498k","SceneManager");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property;(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading_bar=null,e.background=null,e.sprLoadingBar=null,e.sprBar=null,e.backgroundNormal=null,e.backgroundWukong=null,e.backgroundNW=null,e.bgLoadingBarNW=null,e.bgBarNW=null,e.bgLoadingBar=null,e.bgBar=null,e.backgroundPhongThan=null,e._timeIntervel=0,e._isLoaded=!1,e._speed=0,e._isLoadScene=!1,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this,cc.game.addPersistRootNode(this.node)},e.prototype.start=function(){this.node.active=!1},e.prototype.update=function(){var t=this;this.loading_bar.progress=0,this._timeIntervel+=this._speed;var e=this._timeIntervel/210;this.loading_bar&&(this.loading_bar.progress=e),this._timeIntervel>210&&this._isLoaded&&(this._timeIntervel=0,this._isLoadScene=!1,this._isLoaded=!1,cc.director.loadScene(this._scene_name,function(){t._callback&&t._callback(),t.node.active=!1}))},e.prototype.LoadScene=function(t,e){var n=this;this._isLoadScene||(this._scene_name=t,this._callback=e,this._isLoadScene=!0,this.node.active=!0,this._timeIntervel=0,this._isLoaded=!1,this._speed=3,this.background.spriteFrame=this.backgroundNormal,this.sprBar.spriteFrame=this.bgBar,this.sprLoadingBar.spriteFrame=this.bgLoadingBar,cc.director.preloadScene(t,function(t,e,n){},function(t,e){t||(n._isLoaded=!0)}))},e.prototype.LoadSceneNW=function(t,e){var n=this;this._isLoadScene||(this._scene_name=t,this._callback=e,this._isLoadScene=!0,this.node.active=!0,this._timeIntervel=0,this._isLoaded=!1,this._speed=3,this.background.spriteFrame=this.backgroundNW,this.sprBar.spriteFrame=this.bgBarNW,this.sprLoadingBar.spriteFrame=this.bgLoadingBarNW,cc.director.preloadScene(t,function(t,e,n){},function(t,e){t||(n._isLoaded=!0)}))},e.prototype.LoadSceneWukong=function(t,e){var n=this;this._isLoadScene||(this._scene_name=t,this._callback=e,this._isLoadScene=!0,this.node.active=!0,this._timeIntervel=0,this._isLoaded=!1,this._speed=3,this.background.spriteFrame=this.backgroundWukong,this.sprBar.spriteFrame=this.bgBar,this.sprLoadingBar.spriteFrame=this.bgLoadingBar,cc.director.preloadScene(t,function(t,e,n){},function(t,e){t||(n._isLoaded=!0)}))},e.prototype.LoadScenePhongThan=function(t,e){var n=this;this._isLoadScene||(this._scene_name=t,this._callback=e,this._isLoadScene=!0,this.node.active=!0,this._timeIntervel=0,this._isLoaded=!1,this._speed=3,this.background.spriteFrame=this.backgroundPhongThan,this.sprBar.spriteFrame=this.bgBar,this.sprLoadingBar.spriteFrame=this.bgLoadingBar,cc.director.preloadScene(t,function(t,e,n){},function(t,e){t||(n._isLoaded=!0)}))},e.prototype.RandomBackground=function(){},e.Instance=null,i([s(cc.ProgressBar)],e.prototype,"loading_bar",void 0),i([s(cc.Sprite)],e.prototype,"background",void 0),i([s(cc.Sprite)],e.prototype,"sprLoadingBar",void 0),i([s(cc.Sprite)],e.prototype,"sprBar",void 0),i([s(cc.SpriteFrame)],e.prototype,"backgroundNormal",void 0),i([s(cc.SpriteFrame)],e.prototype,"backgroundWukong",void 0),i([s(cc.SpriteFrame)],e.prototype,"backgroundNW",void 0),i([s(cc.SpriteFrame)],e.prototype,"bgLoadingBarNW",void 0),i([s(cc.SpriteFrame)],e.prototype,"bgBarNW",void 0),i([s(cc.SpriteFrame)],e.prototype,"bgLoadingBar",void 0),i([s(cc.SpriteFrame)],e.prototype,"bgBar",void 0),i([s(cc.SpriteFrame)],e.prototype,"backgroundPhongThan",void 0),e=n=i([c],e)}(cc.Component);t.SceneManager=e})(n.clientdev||(n.clientdev={})),cc._RF.pop()},{}],Scroll:[function(t,e,n){"use strict";cc._RF.push(e,"f18eeB+wUlEfZeaU/Q6ErtX","Scroll");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./ThinhKinhHandler"),c=t("../../Common/Utilities/Utility"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollContent=null,e.scrollViewItem=null,e.spaceBetweenItem=0,e.scrollIndex=0,e.frameItem=[],e.timeDelaySpin=0,e.isScrolling=!1,e}return o(e,t),e.prototype.onLoad=function(){this.init()},e.prototype.init=function(){this.timeDelaySpin=.25*this.scrollIndex,this.scrollContent.height=30*this.spaceBetweenItem;for(var t=0;t<30;t++){var e=new cc.Node,n=e.addComponent(cc.Sprite);e.name=t+"",e.y=-70-this.spaceBetweenItem*t;var o=this.frameItem[c.Utility.getInstance().randomInt(0,4)];n.spriteFrame=o,this.scrollContent.addChild(e)}this.scrollViewItem.node.on("scroll-ended",this.eventScroll,this)},e.prototype.onEnable=function(){this.isScrolling&&(this.scrollContent.stopAllActions(),this.eventScroll())},e.prototype.setSpinFast=function(t){this.timeDelaySpin=t?0:.3*this.scrollIndex},e.prototype.ScrollItem=function(t){this.isScrolling=!0;var e=cc.sequence(cc.delayTime(this.timeDelaySpin),cc.moveBy(.1,cc.v2(0,15)));this.scrollContent.runAction(cc.sequence(e,cc.callFunc(function(){this.scrollViewItem.scrollToBottom(t,!1)},this)))},e.prototype.eventScroll=function(){null!=this.callBackEnd&&this.callBackEnd(),this.resetScroll(),this.scrollContent.runAction(cc.sequence(cc.moveBy(.1,cc.v2(0,15)),cc.moveBy(.1,cc.v2(0,-15))))},e.prototype.resetScroll=function(){this.isScrolling=!1,this.scrollContent.y=195;for(var t=this.scrollIndex,e=a.ThinhKinhHandler.getInstance().spinData.slotData,n=0;n<3;n++){this.scrollContent.getChildByName(n.toString()).getComponent(cc.Sprite).spriteFrame=this.frameItem[e[t]-1],t+=3}},i([l(cc.Node)],e.prototype,"scrollContent",void 0),i([l(cc.ScrollView)],e.prototype,"scrollViewItem",void 0),i([l(cc.Integer)],e.prototype,"spaceBetweenItem",void 0),i([l(cc.Integer)],e.prototype,"scrollIndex",void 0),i([l(cc.SpriteFrame)],e.prototype,"frameItem",void 0),e=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Common/Utilities/Utility":"Utility","./ThinhKinhHandler":"ThinhKinhHandler"}],SecurityFirst:[function(t,e,n){"use strict";cc._RF.push(e,"4a1431ZiodIZZ+3JsYgYYiV","SecurityFirst");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/Notification"),c=t("../../Common/Data/GameConfigs"),s=t("../../Common/Data/LabelHelperConfigs"),r=t("../../Common/Data/GameData"),l=t("./LoadingManager"),u=t("../../Common/Network/ConnectHandler"),p=t("../../Common/Data/Constants"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notiPrefab=null,e.eboxOTP=null,e.lbError=null,e.language=null,e}return o(e,t),e.prototype.onLoad=function(){this.language=s.TextData[r.default.getInstance().UserData.textPackage],cc.systemEvent.on(p.default.EVENT_API.LOGIN,this.onSecurityResponse.bind(this),this)},e.prototype.onSecurityResponse=function(t){l.default.getInstance().hide(),0==t.status?(this.lbError.node.color=cc.Color.GREEN,cc.systemEvent.emit(p.default.EVENT_LOBBY.LOGIN_DONE),this.node.destroy(),this.node.removeFromParent(!0)):(this.lbError.node.color=cc.Color.RED,this.lbError.string=u.default.getInstance().statusApiError(t.status))},e.prototype.onBtnOTP=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent(a.default).showOTP(),t.getComponent(a.default).activePhone=!0,t.getComponent(a.default).setContent(this.language.noti_get_otp),cc.director.getScene().addChild(t,c.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnLogin=function(){if(this.lbError.node.color=cc.Color.RED,0!=this.eboxOTP.string.length){var t=cc.sys.localStorage.getItem("username"),e=cc.sys.localStorage.getItem("password");l.default.getInstance().show(),u.default.getInstance().processLoginSecurity(t,e,this.eboxOTP.string)}else this.lbError.string="Vui l\xf2ng nh\u1eadp OTP"},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([f(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([f(cc.EditBox)],e.prototype,"eboxOTP",void 0),i([f(cc.Label)],e.prototype,"lbError",void 0),e=i([h],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/UI/Notification":"Notification","./LoadingManager":"LoadingManager"}],SecurityLogin:[function(t,e,n){"use strict";cc._RF.push(e,"648e5iGM4JE8Y1R202pcZ+H","SecurityLogin");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameData"),c=t("../../Common/Data/LabelHelperConfigs"),s=t("../../Common/Network/ConnectHandler"),r=t("./LoadingManager"),l=t("../../Common/Data/GameConfigs"),u=t("../../Common/Utilities/Utility"),p=t("../../Common/Data/Constants"),d=t("../../Common/UI/Notification"),h=t("./Security"),f=cc._decorator,_=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbPhone=null,e.lbStatus=null,e.eboxMinBalance=null,e.eboxOTP=null,e.notiPrefab=null,e.btnRemove=null,e.btnReg=null,e.lbMinBalance=null,e.nodeMinBalance=null,e.nodeStep=[],e.security=null,e.language=null,e.option=0,e}return o(e,t),e.prototype.onLoad=function(){this.language=c.TextData[a.default.getInstance().UserData.textPackage],cc.systemEvent.on(p.default.EVENT_API.SECURITY,this.onSecurityResponse.bind(this),this)},e.prototype.onEnable=function(){""==a.default.getInstance().UserData.phone?(this.nodeStep[0].active=!1,this.nodeStep[1].active=!0,this.lbPhone.string=this.language.blank):(this.nodeStep[0].active=!0,this.nodeStep[1].active=!1,this.lbPhone.string=this.optimizePhone(a.default.getInstance().UserData.phone)),1==a.default.getInstance().UserData.security?this.resetActive():this.resetDeactive()},e.prototype.resetActive=function(){this.lbStatus.string=this.language.active,this.lbStatus.node.color=cc.Color.RED,this.nodeMinBalance.active=!1,this.btnRemove.active=!0,this.btnReg.active=!1,this.lbMinBalance.string=u.Utility.getInstance().numberToCurrency(a.default.getInstance().UserData.min_balance)},e.prototype.resetDeactive=function(){this.lbStatus.string=this.language.in_active,this.lbStatus.node.color=cc.color(68,13,13,255),this.nodeMinBalance.active=!0,this.btnRemove.active=!1,this.btnReg.active=!0},e.prototype.onSecurityResponse=function(t){r.default.getInstance().hide(),null!=t?(0==this.option?(this.enableNoti(s.default.getInstance().statusApiError(t.status)),0==t.status&&(a.default.getInstance().UserData.security=1,a.default.getInstance().UserData.min_balance=u.Utility.getInstance().moneytoNumber(this.eboxMinBalance.string),this.resetActive())):(this.enableNoti(s.default.getInstance().statusApiError(t.status)),0==t.status&&(a.default.getInstance().UserData.security=0,a.default.getInstance().UserData.min_balance=0,this.resetDeactive())),this.eboxOTP.string=""):this.enableNoti(this.language.system_busy)},e.prototype.onTextChangeMinBalance=function(){if(this.eboxMinBalance.string=this.eboxMinBalance.string.replace(/[^0-9]/g,""),/\d/.test(this.eboxMinBalance.string)){var t=this.eboxMinBalance.string.replace(/[.]/g,"");this.eboxMinBalance.string=u.Utility.getInstance().numberToCurrency(t)}},e.prototype.optimizePhone=function(t){var e="****"+t.substr(t.length-2,t.length);return t.substr(0,t.length-6)+e},e.prototype.onBtnRegister=function(){if(0!=this.eboxMinBalance.string.length){var t=this.eboxMinBalance.string.replace(/[.]/g,"");+t<1e4?this.enableNoti(this.language.min_transfer):0!=this.eboxOTP.string.length?(r.default.getInstance().show(),this.option=0,s.default.getInstance().processSecurityLogin(t,0,this.eboxOTP.string)):this.enableNoti(this.language.null_otp)}else this.enableNoti(this.language.null_min_balance)},e.prototype.onBtnRemove=function(){0!=this.eboxOTP.string.length?(r.default.getInstance().show(),this.option=1,s.default.getInstance().processSecurityLogin(0,1,this.eboxOTP.string)):this.enableNoti(this.language.null_otp)},e.prototype.onBtnOTP=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent(d.default).showOTP(),t.getComponent(d.default).setContent(this.language.noti_get_otp),cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnRegisterOTP=function(){this.security.onBtnLeft(null,0)},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent("Notification").setContent(t),e.getComponent("Notification").showDialog(2),cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([g(cc.Label)],e.prototype,"lbPhone",void 0),i([g(cc.Label)],e.prototype,"lbStatus",void 0),i([g(cc.EditBox)],e.prototype,"eboxMinBalance",void 0),i([g(cc.EditBox)],e.prototype,"eboxOTP",void 0),i([g(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([g(cc.Node)],e.prototype,"btnRemove",void 0),i([g(cc.Node)],e.prototype,"btnReg",void 0),i([g(cc.Label)],e.prototype,"lbMinBalance",void 0),i([g(cc.Node)],e.prototype,"nodeMinBalance",void 0),i([g(cc.Node)],e.prototype,"nodeStep",void 0),i([g(h.default)],e.prototype,"security",void 0),e=i([_],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/UI/Notification":"Notification","../../Common/Utilities/Utility":"Utility","./LoadingManager":"LoadingManager","./Security":"Security"}],Security:[function(t,e,n){"use strict";cc._RF.push(e,"0fd44wC0lZDlo3HEeuj03JT","Security");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listTopButton=[],e.listNode=[],e}return o(e,t),e.prototype.onEnable=function(){this.onBtnLeft(this.listTopButton[0],0)},e.prototype.onBtnLeft=function(t,e){for(var n in this.listTopButton)parseInt(n)==e?(this.listNode[n].active=!0,this.listTopButton[n].interactable=!1):(this.listNode[n].active=!1,this.listTopButton[n].interactable=!0)},e.prototype.setToUpdatePhone=function(){this.onBtnLeft(this.listTopButton[0],0)},e.prototype.setToUpdateBMDN=function(){this.onBtnLeft(this.listTopButton[1],1)},i([s(cc.Button)],e.prototype,"listTopButton",void 0),i([s(cc.Node)],e.prototype,"listNode",void 0),e=i([c],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],Shake:[function(t,e,n){"use strict";cc._RF.push(e,"a2d05ud6uFA259Q/gC6soqT","Shake");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./Utility"),c=cc._decorator,s=c.ccclass,r=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shaking=!1,e}return o(e,t),e.prototype.shake=function(t){var e=this;if(!this.shaking){this.shaking=!0;var n=this.node,o=0,i=setInterval(function(){n.setPosition(0+a.Utility.getInstance().randomInt(-10,10),0+a.Utility.getInstance().randomInt(-10,10)),(o+=100)>1e3*t&&(e.shaking=!1,clearInterval(i),n.position=cc.v2(0,0))},100)}},e=i([s],e)}(cc.Component));n.default=r,cc._RF.pop()},{"./Utility":"Utility"}],THBonusItem:[function(t,e,n){"use strict";cc._RF.push(e,"662bfUDlYxMyopk3L2xwCEv","THBonusItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Data/Constants"),s=t("./THHandler"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeResult=[],e.lbMoneyWin=null,e.clickWin=null,e.clickLose=null,e.click=null,e.isSound=!0,e}var n;return o(e,t),n=e,e.prototype.start=function(){this.isSound=s.THHandler.getInstance().isSound},e.prototype.onBtnPresent=function(t){cc.systemEvent.emit(c.default.EVENT_TIENHIEP.STOP_COUNT_DOWN_20),this.node.getComponent(cc.Button).interactable=!1,this.isSound&&cc.audioEngine.playEffect(this.click,!1);for(var e=++s.THHandler.getInstance().bonusInfo.count,n=--s.THHandler.getInstance().bonusInfo.totalStep,o=s.THHandler.getInstance().bonusInfo.listStep,i=s.THHandler.getInstance().bonusInfo.listPrize,a=o.length,r=0;r<a;r++)e==o[r]&&this.showEffectWin(n,i[r])},e.prototype.showEffectWin=function(t,e){n.totalWin+=parseInt(e),t>=0&&cc.systemEvent.emit(c.default.EVENT_TIENHIEP.BONUS_20,{Step:t,TotalWin:n.totalWin}),this.nodeResult[0].active=!1,this.nodeResult[parseInt(e)>0?1:2].active=!0,parseInt(e)>0&&this.lbMoneyWin.runNumber(e,!0),this.isSound&&parseInt(e)>0&&cc.audioEngine.playEffect(this.clickWin,!1),this.isSound&&0==parseInt(e)&&cc.audioEngine.playEffect(this.clickLose,!1),0==t&&s.THHandler.getInstance().finishBonus()},e.totalWin=0,i([u(cc.Node)],e.prototype,"nodeResult",void 0),i([u(a.default)],e.prototype,"lbMoneyWin",void 0),i([u(cc.AudioClip)],e.prototype,"clickWin",void 0),i([u(cc.AudioClip)],e.prototype,"clickLose",void 0),i([u(cc.AudioClip)],e.prototype,"click",void 0),e=n=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/UI/NumberRun":"NumberRun","./THHandler":"THHandler"}],THBonus:[function(t,e,n){"use strict";cc._RF.push(e,"b0dbeV4MwtG0YTp/qINOHmW","THBonus");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Data/Constants"),s=t("./THBonusItem"),r=t("./THHandler"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelCountDown=null,e.labelTurn=null,e.labelTotalWin=null,e.book=null,e.bookHolder=null,e.bonusMusic=null,e.ListBG=[],e.BGBonus=null,e.musicBackground=null,e.countDown=0,e}return o(e,t),e.prototype.onLoad=function(){this.BGBonus.spriteFrame=this.ListBG[r.THHandler.getInstance().accountInfo.roomId-1],cc.systemEvent.on(c.default.EVENT_TIENHIEP.BONUS_20,this.onCheckBonus.bind(this),this),cc.systemEvent.on(c.default.EVENT_TIENHIEP.STOP_COUNT_DOWN_20,this.onStopCountDown.bind(this),this)},e.prototype.onEnable=function(){s.default.totalWin=0,r.THHandler.getInstance().isSound&&cc.audioEngine.playMusic(this.bonusMusic,!0),this.countDown=c.default.EVENT_TIENHIEP.COUNT_DOWNX2;for(var t=0;t<18;t++){var e=cc.instantiate(this.book);this.bookHolder.addChild(e)}r.THHandler.getInstance().bonusInfo.count=0,this.labelTurn.string=r.THHandler.getInstance().bonusInfo.totalStep.toString(),this.labelCountDown.string=this.countDown.toString(),this.labelTotalWin.string="0",this.RunAction()},e.prototype.onDisable=function(){s.default.totalWin=0,cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.musicBackground,!0),this.labelTotalWin.string="0",this.bookHolder.removeAllChildren()},e.prototype.onStopCountDown=function(t){this.countDown=10,this.labelCountDown.string=this.countDown.toString(),this.node.stopAllActions(),this.RunAction()},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},e.prototype.RunAction=function(){var t=this;this.node.runAction(cc.repeat(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.countDown--,t.countDown<0?(t.node.stopAllActions(),r.THHandler.getInstance().finishBonus()):t.labelCountDown.string=t.countDown.toString()})),11))},e.prototype.onCheckBonus=function(t){this.labelTurn.string=t.Step.toString(),this.labelTotalWin.runNumber(t.TotalWin,!0)},i([p(cc.Label)],e.prototype,"labelCountDown",void 0),i([p(cc.Label)],e.prototype,"labelTurn",void 0),i([p(a.default)],e.prototype,"labelTotalWin",void 0),i([p(cc.Prefab)],e.prototype,"book",void 0),i([p(cc.Node)],e.prototype,"bookHolder",void 0),i([p(cc.AudioClip)],e.prototype,"bonusMusic",void 0),i([p(cc.SpriteFrame)],e.prototype,"ListBG",void 0),i([p(cc.Sprite)],e.prototype,"BGBonus",void 0),i([p(cc.AudioClip)],e.prototype,"musicBackground",void 0),e=i([u],e)}(cc.Component);n.THBonus=d,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/UI/NumberRun":"NumberRun","./THBonusItem":"THBonusItem","./THHandler":"THHandler"}],THChooseLineDialog:[function(t,e,n){"use strict";cc._RF.push(e,"aee18WjLn1Aq5vSLWETYk78","THChooseLineDialog");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/PopupInterface"),c=t("./THChooseLineItem"),s=t("./THHandler"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lineBtners=null,e.notiPrefab=null,e.click=null,e.listBtn=[],e.delegate=null,e.isSound=!0,e}return o(e,t),e.prototype.start=function(){this.isSound=s.THHandler.getInstance().isSound;for(var t=0,e=this.lineBtners.children;t<e.length;t++){var n=e[t].getComponent(c.THChooseLineItem);n.unSeclect(),this.listBtn.push(n)}for(var o=0,i=s.THHandler.getInstance().accountInfo.lineString.split(",");o<i.length;o++){var a=i[o];void 0!=this.listBtn[+a-1]&&this.listBtn[+a-1].seclect()}},e.prototype.onEventClicked=function(t){this.isSound&&cc.audioEngine.playEffect(this.click,!1);for(var e=0,n=this.listBtn;e<n.length;e++){n[e].updateByMode(!0)}},e.prototype.onOldClicked=function(t){this.isSound&&cc.audioEngine.playEffect(this.click,!1);for(var e=0,n=this.listBtn;e<n.length;e++){n[e].updateByMode(!1)}},e.prototype.onAllClicked=function(t){this.isSound&&cc.audioEngine.playEffect(this.click,!1);for(var e=0,n=this.listBtn;e<n.length;e++){n[e].seclect()}},e.prototype.onUnSelectClicked=function(t){this.isSound&&cc.audioEngine.playEffect(this.click,!1);for(var e=0,n=this.listBtn;e<n.length;e++){n[e].unSeclect()}this.listBtn[0].seclect()},e.prototype.onCloseClicked=function(){for(var t="",e=0,n=0,o=this.listBtn;n<o.length;n++){var i=o[n];i.isActive&&(t+=""==t?i.lineId:","+i.lineId,e++)}this.isSound&&cc.audioEngine.playEffect(this.click,!1),0==e?(this.listBtn[0].seclect(),this.onCloseClicked()):(s.THHandler.getInstance().accountInfo.lineString=t,s.THHandler.getInstance().accountInfo.totalLine=e,cc.log(this.delegate),this.delegate&&this.delegate.onCloseChooseLine(),this.node.getComponent(a.default).closePopup())},i([u(cc.Node)],e.prototype,"lineBtners",void 0),i([u(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([u(cc.AudioClip)],e.prototype,"click",void 0),e=i([l],e)}(cc.Component);n.THChooseLineDialog=p,cc._RF.pop()},{"../../Common/UI/PopupInterface":"PopupInterface","./THChooseLineItem":"THChooseLineItem","./THHandler":"THHandler"}],THChooseLineItem:[function(t,e,n){"use strict";cc._RF.push(e,"41a9b4JlgBAxpskAS3+pk0t","THChooseLineItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./THHandler"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isActive=!0,e.Audio_click=null,e.lineId=0,e.Is_sound=!0,e}return o(e,t),e.prototype.start=function(){this.Is_sound=a.THHandler.getInstance().isSound},e.prototype.updateClicked=function(){var t=this.isActive;this.isActive=!t,this.isActive?this.node.color=cc.color(255,255,255):this.node.color=cc.color(100,100,100)},e.prototype.onClickButton=function(t,e){this.updateClicked(),this.Is_sound&&cc.audioEngine.playEffect(this.Audio_click,!1)},e.prototype.unSeclect=function(){this.isActive=!1,this.node.color=cc.color(100,100,100)},e.prototype.seclect=function(){this.isActive=!0,this.node.color=cc.color(255,255,255)},e.prototype.updateByMode=function(t){this.isActive=!1,this.node.color=cc.color(100,100,100);var e=this.lineId%2;t&&0==e&&this.seclect(),t||1!=e||this.seclect()},i([r(cc.AudioClip)],e.prototype,"Audio_click",void 0),i([r],e.prototype,"lineId",void 0),e=i([s],e)}(cc.Component);n.THChooseLineItem=l,cc._RF.pop()},{"./THHandler":"THHandler"}],THController:[function(t,e,n){"use strict";cc._RF.push(e,"644d1QBWRRIHb3WG/la/K/d","THController");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Data/GameData"),s=t("../../Common/Utilities/Utility"),r=t("../../Common/Data/Constants"),l=t("../../Common/Data/GameConfigs"),u=t("../../Common/Data/LabelHelperConfigs"),p=t("./THScroll"),d=t("./THModule"),h=t("./THX2"),f=t("./THHandler"),_=t("./THDataTryMode"),g=t("./THChooseLineDialog"),m=t("../../Common/UI/Notification"),y=t("../../Common/Network/WsHandler"),v=t("../../scenemanager/scripts/SceneManager"),b=cc._decorator,C=b.ccclass,T=b.property,I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TIME_GOT_SPIN_RESULT=.3,e.TIME_GOT_JACKPOT=5,e.TIME_GOT_BIGWIN=4,e.TIME_DELAY_AUTO=.5,e.SPIN_NORMAL=1.25,e.SPIN_FAST=.2,e.TIME_SHOW_FREE=1,e.spinId=0,e.jackpotLabel=null,e.jackpotUsdLabel=null,e.balanceLabel=null,e.totalLineLabel=null,e.totalBetLabel=null,e.roomValueLabel=null,e.moneyWinLabel=null,e.winBG=null,e.winEffect=null,e.scrollerMasker=null,e.fastSpinButton=null,e.Autobtn=null,e.stopFastButton=null,e.x2Button1=null,e.chooseLineButton=null,e.backButton=null,e.background=null,e.liners=null,e.chooseLinePrefab=null,e.helpPrefab=null,e.topjackpotPrefab=null,e.rankPrefab=null,e.historyPrefab=null,e.x2UI=null,e.bonusUI=null,e.content_all=null,e.freeLabel=null,e.lbSession=null,e.notiPrefab=null,e.notiPrefab2=null,e.BonusAnim=null,e.bonusFreeAnim=null,e.normal=null,e.btnSpin=null,e.freebonusHolder=null,e.uiFree=null,e.winParticle=null,e.statusTrySpin=null,e.nodeEffectItem=null,e.jackportFx=null,e.jackportFx1K=null,e.jackportFx100=null,e.bigwinFx=null,e.megaFx=null,e.free_vqmm=null,e.musicBackground=null,e.jackpotAC=null,e.bigwinAC=null,e.megaWinAC=null,e.click=null,e.moneyAC=null,e.gotBonusFree=null,e.Audio_Spin=null,e.Audio_Auto_Spin=null,e.Audio_MaxSpeep=null,e.sound=[],e.heroAtlas=null,e.listScrolls=[],e.listLine=[],e.gameState=d.THModule.GAME_STATE.PREPARE,e.spinMode=d.THModule.SPIN_MODE.NORMAL,e.curRoomId=1,e.totalBet=0,e.requestTime=0,e.autoTime=0,e.listRoomValue=[1e4,100,1e3,1e4],e.listItemSf=[],e.changeRoom=!0,e.spinDone=!1,e.timeShowFree=e.TIME_SHOW_FREE,e.isWin_AftBonus=!1,e.moneyWinFX=0,e.openSetting=!1,e.isSound=!0,e.isNormal=!0,e.isSpin=!1,e.language=null,e.intervalAuto=null,e.parseAccDone=!1,e.balanceTrySpin=5e7,e.jackpotTrySpin=5e7,e.lineItem={1:[6,7,8,9,10],2:[1,2,3,4,5],3:[11,12,13,14,15],4:[6,7,3,9,10],5:[6,7,13,9,10],6:[1,2,8,4,5],7:[11,12,8,14,15],8:[1,12,3,14,5],9:[11,2,13,4,15],10:[6,2,13,4,10],11:[11,7,3,9,15],12:[1,7,13,9,5],13:[6,12,8,4,10],14:[6,2,8,14,10],15:[11,7,8,9,15],16:[1,7,8,9,5],17:[6,12,13,14,10],18:[6,2,3,4,10],19:[11,12,8,4,5],20:[1,2,8,14,15]},e}return o(e,t),e.prototype.onLoad=function(){this.isSound=f.THHandler.getInstance().isSound,this.parseAccDone=f.THHandler.getInstance().parseAccDone,this.curRoomId=f.THHandler.getInstance().accountInfo.roomId,this.language=u.TextData[c.default.getInstance().UserData.textPackage]},e.prototype.checkFree_vqmm=function(){!this.isFreeTurn()&&f.THHandler.getInstance().free_vqmm>0?(this.updateRoom(),this.free_vqmm.active=!0,this.chooseLineButton.interactable=!1,this.free_vqmm.getChildByName("text").getComponent(cc.Label).string=f.THHandler.getInstance().free_vqmm+""):this.free_vqmm.active=!1},e.prototype.start=function(){var t=this;cc.audioEngine.playMusic(this.musicBackground,!0);for(var e=0,n=this.scrollerMasker.children;e<n.length;e++){var o=n[e].getComponent(p.THScroll);this.listScrolls.push(o),4==o.scrollId&&(o.delegate=this)}for(var i=1;i<21;i++){var a=this.liners.getChildByName(i+"");this.listLine.push(a),a.active=!0,a.opacity=0}var u=c.default.getInstance().UserData.balance;this.balanceLabel.string=s.Utility.getInstance().add_commas(u),this.updateLineDefault(),this.updateRoom(),f.THHandler.getInstance().onPushPlay=this.onPushPlay.bind(this),f.THHandler.getInstance().onPushAccountInfo=this.onPushAccountInfo.bind(this),f.THHandler.getInstance().onPushFinishBonus=this.onPlayBonusDone.bind(this),f.THHandler.getInstance().onPushPlayBonus=this.onPushPlayBonus.bind(this),f.THHandler.getInstance().onPushSpin=this.onPushSpin.bind(this),cc.systemEvent.on(l.GameConfigs.JPName.TienHiep,this.onPushJackpot.bind(this),this),cc.systemEvent.on(r.default.EVENT_TIENHIEP.STOP_X2,this.onPlayX2Done.bind(this),this),cc.systemEvent.on(r.default.EVENT_LOBBY.UPDATE_BALANCE,this.onUpdateGloabalBalance.bind(this),this);for(var h=0,_=y.WsHandler.getInstance().listJPAll;h<_.length;h++){var g=_[h];if(g.name==l.GameConfigs.JPName.TienHiep){this.onPushJackpot(g.value.split(","));break}}if(f.THHandler.getInstance().isTryMode)setTimeout(function(){t.gameState=d.THModule.GAME_STATE.PREPARE,t.chooseLineButton.interactable=!1,t.balanceTrySpin=5e7,t.jackpotTrySpin=5e7,t.balanceLabel.string=s.Utility.getInstance().add_commas(t.balanceTrySpin),t.jackpotLabel.money=t.jackpotTrySpin,0!=c.default.getInstance().UserData.ratio_usd&&t.jackpotUsdLabel.runNumberPrefix(t.jackpotTrySpin/c.default.getInstance().UserData.ratio_usd,!0),t.fastSpinButton.interactable=!1},200);var m=this.curRoomId;0==m&&(this.curRoomId=3,m=3,this.statusTrySpin.active=!0);for(var v=0,b=this.heroAtlas.getSpriteFrames();v<b.length;v++){var C=b[v];if(C.name.indexOf("item"+m)>-1&&(this.listItemSf.push(C),C.name=="item"+m+"7"))for(var T=0,I=this.listScrolls;T<I.length;T++){I[T].updateSkin(this.listItemSf)}}f.THHandler.getInstance().onPushJackpot=this.onPushJackpot.bind(this);for(var P=0,N=this.background.children;P<N.length;P++){N[P].active=!1}f.THHandler.getInstance().isTryMode?this.background.getChildByName("try").active=!0:this.background.getChildByName(m+"").active=!0,1==f.THHandler.getInstance().accountInfo.roomId&&this.checkFree_vqmm()},e.prototype.onPushAccountInfo=function(t){t&&(this.parseAccDone=!0,this.updateRoom())},e.prototype.onDetroy=function(){f.THHandler.getInstance().clearCallback(),cc.systemEvent.targetOff(this)},e.prototype.update=function(t){var e=this;this.gameState==d.THModule.GAME_STATE.PREPARE&&(this.spinMode==d.THModule.SPIN_MODE.AUTO||this.spinMode==d.THModule.SPIN_MODE.FAST||this.isFreeNextTurn()||f.THHandler.getInstance().free_vqmm>0&&1==this.curRoomId)&&(this.autoTime+=t,this.isWin_AftBonus?this.autoTime>=2.5&&(this.onSpinClicked(null),this.autoTime=0):this.autoTime>=this.TIME_DELAY_AUTO&&this.isFreeNextTurn()?(this.node.runAction(cc.sequence(cc.delayTime(1.1),cc.callFunc(function(){e.onSpinClicked(null)}))),this.autoTime=0):this.autoTime>=this.TIME_DELAY_AUTO&&!this.isFreeNextTurn()&&(this.onSpinClicked(null),this.autoTime=0)),this.gameState==d.THModule.GAME_STATE.REQUESTING&&(this.requestTime+=t,this.requestTime>30&&(this.requestTime=0,this.updateUIAfterPlay(),this.spinMode=d.THModule.SPIN_MODE.NORMAL,this.fastSpinButton.node.active=!0,this.stopFastButton.node.active=!1,this.gameState=d.THModule.GAME_STATE.PREPARE))},e.prototype.updateLineDefault=function(){var t=f.THHandler.getInstance();t.accountInfo.totalLine=20,t.accountInfo.lineString="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20"},e.prototype.updateUIRequestPlay=function(){this.winEffect.targetValue=0,this.winBG.active=!1,this.fastSpinButton.interactable=!1,this.Autobtn.interactable=!1,this.btnSpin.interactable=!1,this.x2Button1.interactable=!1,this.chooseLineButton.interactable=!1,this.backButton.interactable=!1,this.moneyWinLabel.string="",this.hideAllLine()},e.prototype.enableAllButtons=function(){this.fastSpinButton.interactable=!0,this.Autobtn.interactable=!0,this.btnSpin.interactable=!0,this.chooseLineButton.interactable=!0,this.chooseLineButton.node.children[0].active=!0,this.backButton.interactable=!0},e.prototype.updateUIAfterPlay=function(){this.winBG.scale=1,this.spinMode!=d.THModule.SPIN_MODE.NORMAL||this.isFreeEnd()||this.enableAllButtons();var t=f.THHandler.getInstance();if(t.spinInfo.startX2>0&&t.spinInfo.totalPrize>0&&!t.isTryMode&&3!=t.accountInfo.gameStatus&&f.THHandler.getInstance().pre_vqmm<=0?this.x2Button1.interactable=!0:this.x2Button1.interactable=!1,t.isTryMode){if(this.chooseLineButton.interactable=!1,this.fastSpinButton.interactable=!1,t.spinInfo.jackpotWinner>0){var e=t.spinInfo.totalPrize-5e7+this.jackpotTrySpin;this.balanceTrySpin+=e,this.balanceLabel.string=s.Utility.getInstance().add_commas(this.balanceTrySpin),this.moneyWinLabel.string=s.Utility.getInstance().add_commas(e),this.jackpotTrySpin=5e7,this.jackpotLabel.money=this.jackpotTrySpin}else this.balanceTrySpin+=t.spinInfo.totalPrize,this.balanceLabel.string=s.Utility.getInstance().add_commas(this.balanceTrySpin),this.jackpotTrySpin+=this.totalBet/100,this.jackpotLabel.money=this.jackpotTrySpin;0!=c.default.getInstance().UserData.ratio_usd&&this.jackpotUsdLabel.runNumberPrefix(this.jackpotTrySpin/c.default.getInstance().UserData.ratio_usd,!0)}1==f.THHandler.getInstance().accountInfo.roomId&&this.checkFree_vqmm()},e.prototype.updateBalanceRequestPlay=function(){var t=f.THHandler.getInstance();if(t.isTryMode){t.demoInfo.balance-=this.totalBet;var e=t.demoInfo.balance;this.balanceLabel.string=s.Utility.getInstance().add_commas(e),t.demoInfo.jackpot+=this.totalBet/100,this.jackpotLabel.string=s.Utility.getInstance().add_commas(t.demoInfo.jackpot)}},e.prototype.updateBalanceAfterPlay=function(){if(0==f.THHandler.getInstance().isTryMode){var t=f.THHandler.getInstance().spinInfo.balance;c.default.getInstance().UserData.balance=t,this.balanceLabel.string=s.Utility.getInstance().add_commas(t)}},e.prototype.isEnoughMoney=function(){return!(c.default.getInstance().UserData.balance<this.totalBet&&!f.THHandler.getInstance().isTryMode&&f.THHandler.getInstance().free_vqmm<=0)},e.prototype.requesPlay=function(){if(this.spinId++,this.spinDone=!1,this.winParticle.node.active=!1,this.isWin_AftBonus=!1,this.isSpin=!0,this.isFreeNextTurn())return this.updateUIRequestPlay(),f.THHandler.getInstance().play(this.curRoomId),void(this.gameState=d.THModule.GAME_STATE.REQUESTING);this.isEnoughMoney()?(this.updateUIRequestPlay(),this.updateBalanceRequestPlay(),f.THHandler.getInstance().play(this.curRoomId),this.gameState=d.THModule.GAME_STATE.REQUESTING):(this.spinMode=d.THModule.SPIN_MODE.NORMAL,this.fastSpinButton.node.active=!0,this.showNotMoney(),this.stopFastButton.node.active=!1,this.enableAllButtons(),this.resetSpinTurn())},e.prototype.resetSpinTurn=function(){for(var t=0,e=this.listScrolls;t<e.length;t++){e[t].resetScroll()}this.gameState==d.THModule.GAME_STATE.HANDLE_RESULT&&(this.gameState=d.THModule.GAME_STATE.PREPARE)},e.prototype.showLineWin=function(){var t=this,e=f.THHandler.getInstance().spinInfo.listLineWin,n=function(n){var i=1.5*+n;o.spinMode!=d.THModule.SPIN_MODE.AUTO&&o.spinMode!=d.THModule.SPIN_MODE.FAST||(i=0);for(var a=e[+n]-1,c=o.listLine[a],s=cc.delayTime(i),r=o.lineItem[e[n]],l=0,u=o.nodeEffectItem.children;l<u.length;l++){u[l].active=!1}c.runAction(cc.sequence(s,cc.callFunc(function(){for(var e in c.opacity=255,r)t.nodeEffectItem.getChildByName(""+r[e]).active=!0}),cc.delayTime(1.5),cc.callFunc(function(){c.opacity=0;for(var e=0,n=t.nodeEffectItem.children;e<n.length;e++){n[e].active=!1}})))},o=this;for(var i in e)n(i)},e.prototype.hideAllLine=function(){for(var t=0,e=this.listLine;t<e.length;t++){var n=e[t];n.stopAllActions(),n.opacity=0}for(var o=0,i=this.nodeEffectItem.children;o<i.length;o++){i[o].active=!1}},e.prototype.caKCulatorSpecialResult=function(){var t=.7,e=f.THHandler.getInstance();if(f.THHandler.getInstance().accountInfo.eventBonus>0&&(t=2),e.spinInfo.jackpotWinner>0){this.onStopAutoSpinClicked(null),this.onStopFastSpinClicked(null),t=this.TIME_GOT_JACKPOT,this.winBG.active=!1;var n=void 0;3==this.curRoomId&&(n=cc.instantiate(this.jackportFx)),2==this.curRoomId&&(n=cc.instantiate(this.jackportFx1K)),1==this.curRoomId&&(n=cc.instantiate(this.jackportFx100)),n.getComponent("THEffect").money=this.moneyWinFX,this.node.addChild(n)}else if(e.spinInfo.totalPrize>=(0==e.spinInfo.bet_value?100*e.accountInfo.totalLine*10:e.accountInfo.totalLine*e.spinInfo.bet_value*10)){t=this.TIME_GOT_BIGWIN,this.winBG.active=!1,(n=cc.instantiate(this.megaFx)).getComponent("THEffect").money=this.moneyWinFX,this.node.addChild(n),this.isSound&&cc.audioEngine.playEffect(this.megaWinAC,!1)}else if(e.spinInfo.totalPrize>=(0==e.spinInfo.bet_value?100*e.accountInfo.totalLine*10:e.accountInfo.totalLine*e.spinInfo.bet_value*10)){t=this.TIME_GOT_BIGWIN,this.winBG.active=!1,(n=cc.instantiate(this.bigwinFx)).getComponent("THEffect").money=this.moneyWinFX,this.node.addChild(n),this.isSound&&cc.audioEngine.playEffect(this.bigwinAC,!1)}return 0==e.spinInfo.totalPrize&&(t=this.TIME_GOT_SPIN_RESULT),this.moneyWinFX=0,t},e.prototype.handlerAfterSpinDone=function(){this.resetSpinTurn()},e.prototype.updateRoom=function(){this.x2Button1.interactable=!1;var t=f.THHandler.getInstance(),e=t.accountInfo.totalLine;t.isTryMode&&(e=t.demoInfo.totalLine),t.accountInfo.freeNumber>0&&(e=t.accountInfo.line),t.accountInfo.betValue=this.listRoomValue[this.curRoomId],this.totalBet=e*t.accountInfo.betValue,this.totalBetLabel.string=s.Utility.getInstance().add_commas(e*t.accountInfo.betValue),this.roomValueLabel.string=s.Utility.getInstance().add_commas(t.accountInfo.betValue),this.totalLineLabel.string=e.toString(),this.moneyWinLabel.string=""},e.prototype.updateWinFX=function(t){var e=this;if(0!=t){this.winBG.active=!0,this.moneyWinFX=t,this.winEffect.runNumber(t,!0,.8);var n=setTimeout(function(){e.moneyWinLabel.string=s.Utility.getInstance().add_commas(f.THHandler.getInstance().spinInfo.totalPrize),clearTimeout(n)},1e3);this.winParticle.resetSystem(),this.winParticle.node.active=!0,this.isSound&&cc.audioEngine.playEffect(this.moneyAC,!1)}},e.prototype.isFreeTurn=function(){return f.THHandler.getInstance().accountInfo.isFree},e.prototype.isFreeEnd=function(){return f.THHandler.getInstance().accountInfo.isFreeEnd},e.prototype.isFreeNextTurn=function(){var t=f.THHandler.getInstance().accountInfo.freeNumber;if(t>0){if(this.timeShowFree--,0==this.timeShowFree){this.isSound&&cc.audioEngine.playEffect(this.gotBonusFree,!1);var e=cc.instantiate(this.bonusFreeAnim);this.freebonusHolder.addChild(e);var n=setTimeout(function(){e.destroy(),e.removeFromParent(),clearTimeout(n)},1100)}return this.freeLabel.string=t+"",this.uiFree.active=!0,this.x2Button1.interactable=!1,this.backButton.interactable=!1,!0}return this.timeShowFree=this.TIME_SHOW_FREE,this.uiFree.active=!1,!1},e.prototype.onUpdateGloabalBalance=function(t){0==f.THHandler.getInstance().isTryMode&&(this.balanceLabel.string=s.Utility.getInstance().add_commas(c.default.getInstance().UserData.balance))},e.prototype.onPushJackpot=function(t){t&&t[this.curRoomId-1]&&!f.THHandler.getInstance().isTryMode&&(this.jackpotLabel.money=t[this.curRoomId-1],0!=c.default.getInstance().UserData.ratio_usd&&this.jackpotUsdLabel.runNumberPrefix(t[this.curRoomId-1]/c.default.getInstance().UserData.ratio_usd,!0))},e.prototype.onPlayDone=function(){var t=f.THHandler.getInstance();this.gameState=d.THModule.GAME_STATE.HANDLE_RESULT,3==t.accountInfo.gameStatus?f.THHandler.getInstance().playBonus():this.executePlayDone()},e.prototype.executePlayDone=function(){var t=this,e=f.THHandler.getInstance();e.isTryMode&&e.spinInfo.jackpotWinner>0?this.updateWinFX(e.spinInfo.totalPrize-5e7+this.jackpotTrySpin):this.updateWinFX(e.spinInfo.totalPrize),this.showLineWin();var n=this.caKCulatorSpecialResult(),o=cc.delayTime(.5),i=cc.delayTime(n-.5);this.node.runAction(cc.sequence(o,cc.callFunc(function(){t.updateBalanceAfterPlay()}),i,cc.callFunc(function(){t.handlerAfterSpinDone(),t.autoTime=0,t.spinDone=!0,0==e.spinInfo.totalPrize&&(t.autoTime=t.TIME_DELAY_AUTO),t.updateUIAfterPlay()})))},e.prototype.onPushPlay=function(t){if(t){if(this.requestTime=0,this.gameState=d.THModule.GAME_STATE.SPINING,f.THHandler.getInstance().isTryMode||(this.lbSession.string="#"+f.THHandler.getInstance().spinInfo.spinId),f.THHandler.getInstance().spinInfo.totalPrize>0?this.TIME_DELAY_AUTO=1:this.TIME_DELAY_AUTO=.1,this.hideAllLine(),this.listScrolls)for(var e=0,n=this.listScrolls;e<n.length;e++){var o=n[e];this.spinMode==d.THModule.SPIN_MODE.FAST?o.setSpinFast(!0):o.setSpinFast(!1),o.startScroll(this.spinMode==d.THModule.SPIN_MODE.FAST?this.SPIN_FAST:this.SPIN_NORMAL)}if(f.THHandler.getInstance().isTryMode);else if(!(this.isFreeTurn()||f.THHandler.getInstance().free_vqmm>0&&1==this.curRoomId||f.THHandler.getInstance().pre_vqmm>0&&1==this.curRoomId)){c.default.getInstance().UserData.balance-=this.totalBet;var i=c.default.getInstance().UserData.balance;this.balanceLabel.string=s.Utility.getInstance().add_commas(i)}}else-104==f.THHandler.getInstance().spinInfo.execResult&&(this.showNotMoney(),this.enableAllButtons(),this.spinMode=d.THModule.SPIN_MODE.NORMAL),-102==f.THHandler.getInstance().spinInfo.execResult&&(this.showNoti("T\xe0i kho\u1ea3n b\u1ecb kh\xf3a"),this.spinMode=d.THModule.SPIN_MODE.NORMAL),-103==f.THHandler.getInstance().spinInfo.execResult?(this.showNoti("\u0110\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c ch\u01a1i game!"),this.spinMode=d.THModule.SPIN_MODE.NORMAL):(this.showNoti(this.language.system_busy),this.spinMode=d.THModule.SPIN_MODE.NORMAL)},e.prototype.showNoti=function(t){var e=this;this.gameState=d.THModule.GAME_STATE.PREPARE;var n=cc.instantiate(this.notiPrefab);n.getChildByName("content").getChildByName("status").getComponent(cc.Label).string=t,n.name="th_noti_popup",n.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){e.enableAllButtons();var t=cc.director.getScene().getChildByName("th_noti_popup");t&&t.destroy()})));var o=cc.winSize;n.setPosition(o.width/2,o.height/2),cc.director.getScene().addChild(n,l.GameConfigs.zOderGame.NOTI)},e.prototype.onPushPlayBonus=function(t){var e=this;if(t){this.gameState=d.THModule.GAME_STATE.PLAYBONUS,this.isSound&&cc.audioEngine.playEffect(this.gotBonusFree,!1);var n=cc.instantiate(this.BonusAnim);this.freebonusHolder.addChild(n);var o=setTimeout(function(){n.destroy(),n.removeFromParent(),e.bonusUI.active=!0,clearTimeout(o)},2e3)}},e.prototype.onCloseChooseLine=function(){this.updateRoom()},e.prototype.onPlayX2Done=function(){this.x2Button1.interactable=!1,this.normal.active=!0,this.x2UI.node.active=!1,this.gameState=d.THModule.GAME_STATE.PREPARE;var t=f.THHandler.getInstance().x2Info.balance;this.balanceLabel.string=s.Utility.getInstance().add_commas(t)},e.prototype.onPushSpin=function(t){this.isSpin&&(this.spinMode==d.THModule.SPIN_MODE.AUTO&&this.onAutoSpinClicked(null),this.spinMode==d.THModule.SPIN_MODE.FAST&&this.onFastSpinClicked(null))},e.prototype.onPlayBonusDone=function(){var t=this,e=f.THHandler.getInstance(),n=e.bonusInfo.bonusPrize,o=n+e.spinInfo.totalPrize;this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){t.bonusUI.runAction(cc.callFunc(function(){t.bonusUI.active=!1,t.content_all.active=!0,t.content_all.scaleX=1,t.content_all.runAction(cc.sequence(cc.scaleTo(.05,1,1),cc.callFunc(function(){t.showNoti("Ch\xfac m\u1eebng!B\u1ea1n th\u1eafng Bonus \n"+s.Utility.getInstance().numberToCurrency(n))})))}))}),cc.delayTime(0),cc.callFunc(function(){t.gameState=d.THModule.GAME_STATE.PREPARE,t.resetSpinTurn(),t.updateUIAfterPlay(),t.isWin_AftBonus=!0}))),this.moneyWinLabel.string=s.Utility.getInstance().numberToCurrency(o),c.default.getInstance().UserData.balance=f.THHandler.getInstance().bonusInfo.balance,this.balanceLabel.string=s.Utility.getInstance().numberToCurrency(c.default.getInstance().UserData.balance.toString())},e.prototype.onBackClicked=function(t){this.isFreeNextTurn()||this.gameState!=d.THModule.GAME_STATE.PREPARE||(this.isSound&&cc.audioEngine.playEffect(this.click,!1),cc.systemEvent.targetOff(this),f.THHandler.getInstance().clearCallback(),v.clientdev.SceneManager.Instance.LoadScene(l.GameConfigs.SceneName.TienHiep,function(){}),cc.audioEngine.stopMusic())},e.prototype.onSpinClicked=function(t){f.THHandler.getInstance().isTryMode&&(f.THHandler.getInstance().parseSpin(_.default.listData[s.Utility.getInstance().randomInt(0,12)]),this.spinDone=!1,this.balanceTrySpin-=this.totalBet,this.balanceLabel.string=s.Utility.getInstance().add_commas(this.balanceTrySpin),this.updateUIRequestPlay(),this.isSound&&cc.audioEngine.playEffect(this.Audio_Spin,!1)),this.gameState==d.THModule.GAME_STATE.PREPARE&&(this.requesPlay(),this.isSound&&!this.isFreeNextTurn()&&this.isNormal&&cc.audioEngine.playEffect(this.Audio_Spin,!1))},e.prototype.onAutoSpinClicked=function(t){this.parseAccDone?(f.THHandler.getInstance().isTryMode&&(f.THHandler.getInstance().parseSpin(_.default.listData[s.Utility.getInstance().randomInt(0,12)]),this.spinDone=!1,this.spinMode=d.THModule.SPIN_MODE.AUTO,this.Autobtn.node.active=!1,this.balanceTrySpin-=this.totalBet,this.balanceLabel.string=s.Utility.getInstance().add_commas(this.balanceTrySpin),this.updateUIRequestPlay(),this.isSound&&cc.audioEngine.playEffect(this.Audio_Auto_Spin,!1)),this.gameState==d.THModule.GAME_STATE.PREPARE&&(this.spinMode=d.THModule.SPIN_MODE.AUTO,this.isEnoughMoney()&&(this.Autobtn.node.active=!1),this.isNormal=!1,this.requesPlay(),this.isSound&&cc.audioEngine.playEffect(this.Audio_Auto_Spin,!1))):this.showNoti(this.language.system_busy)},e.prototype.onStopAutoSpinClicked=function(t){this.isSpin=!1,this.Autobtn.node.active=!0,this.spinMode=d.THModule.SPIN_MODE.NORMAL,this.isNormal=!0,this.spinDone&&this.enableAllButtons(),this.isSound&&cc.audioEngine.playEffect(this.click,!1)},e.prototype.onFastSpinClicked=function(t){this.parseAccDone?this.gameState==d.THModule.GAME_STATE.PREPARE&&(this.fastSpinButton.node.active=!1,this.stopFastButton.node.active=!0,this.isNormal=!1,this.spinMode=d.THModule.SPIN_MODE.FAST,this.requesPlay(),this.isSound&&cc.audioEngine.playEffect(this.Audio_MaxSpeep,!1)):this.showNoti(this.language.system_busy)},e.prototype.onStopFastSpinClicked=function(t){this.isSpin=!1,this.fastSpinButton.node.active=!0,this.stopFastButton.node.active=!1,this.spinMode=d.THModule.SPIN_MODE.NORMAL,this.isNormal=!0,this.spinDone&&this.enableAllButtons(),this.isSound&&cc.audioEngine.playEffect(this.click,!1)},e.prototype.onX2Clicked=function(t){this.gameState==d.THModule.GAME_STATE.PREPARE&&(this.normal.active=!1,this.x2UI.node.active=!0,this.winParticle.node.active=!1,this.x2UI.resetTurn(),this.gameState=d.THModule.GAME_STATE.PLAYX2,this.isSound&&cc.audioEngine.playEffect(this.click,!1))},e.prototype.onChooseLineClicked=function(t){var e=cc.instantiate(this.chooseLinePrefab);e.getComponent(g.THChooseLineDialog).delegate=this,cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP),this.isSound&&cc.audioEngine.playEffect(this.click,!1)},e.prototype.onTopClicked=function(t){var e=cc.instantiate(this.topjackpotPrefab);cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP),this.isSound&&cc.audioEngine.playEffect(this.click,!1)},e.prototype.onRankClicked=function(t){var e=cc.instantiate(this.rankPrefab);cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP),this.isSound&&cc.audioEngine.playEffect(this.click,!1)},e.prototype.onHistoryClicked=function(t){var e=cc.instantiate(this.historyPrefab);cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP),this.isSound&&cc.audioEngine.playEffect(this.click,!1)},e.prototype.onHelpClicked=function(t){var e=cc.instantiate(this.helpPrefab);cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP),this.isSound&&cc.audioEngine.playEffect(this.click,!1)},e.prototype.onSoundClicked=function(t,e){f.THHandler.getInstance().isSound?(this.isSound=!1,f.THHandler.getInstance().isSound=!1,this.sound[0].active=!1,this.sound[1].active=!0,cc.audioEngine.stopAll()):(this.isSound=!0,f.THHandler.getInstance().isSound=!0,this.sound[0].active=!0,this.sound[1].active=!1,cc.audioEngine.playMusic(this.musicBackground,!0))},e.prototype.showNotMoney=function(){var t=cc.instantiate(this.notiPrefab2);t.getComponent(m.default).setContent(this.language.no_enough_balance),t.getComponent(m.default).showNotMoney(),cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},i([T(a.default)],e.prototype,"jackpotLabel",void 0),i([T(a.default)],e.prototype,"jackpotUsdLabel",void 0),i([T(cc.Label)],e.prototype,"balanceLabel",void 0),i([T(cc.Label)],e.prototype,"totalLineLabel",void 0),i([T(cc.Label)],e.prototype,"totalBetLabel",void 0),i([T(cc.Label)],e.prototype,"roomValueLabel",void 0),i([T(cc.Label)],e.prototype,"moneyWinLabel",void 0),i([T(cc.Node)],e.prototype,"winBG",void 0),i([T(a.default)],e.prototype,"winEffect",void 0),i([T(cc.Node)],e.prototype,"scrollerMasker",void 0),i([T(cc.Button)],e.prototype,"fastSpinButton",void 0),i([T(cc.Button)],e.prototype,"Autobtn",void 0),i([T(cc.Button)],e.prototype,"stopFastButton",void 0),i([T(cc.Button)],e.prototype,"x2Button1",void 0),i([T(cc.Button)],e.prototype,"chooseLineButton",void 0),i([T(cc.Button)],e.prototype,"backButton",void 0),i([T(cc.Node)],e.prototype,"background",void 0),i([T(cc.Node)],e.prototype,"liners",void 0),i([T(cc.Prefab)],e.prototype,"chooseLinePrefab",void 0),i([T(cc.Prefab)],e.prototype,"helpPrefab",void 0),i([T(cc.Prefab)],e.prototype,"topjackpotPrefab",void 0),i([T(cc.Prefab)],e.prototype,"rankPrefab",void 0),i([T(cc.Prefab)],e.prototype,"historyPrefab",void 0),i([T(h.THX2)],e.prototype,"x2UI",void 0),i([T(cc.Node)],e.prototype,"bonusUI",void 0),i([T(cc.Node)],e.prototype,"content_all",void 0),i([T(cc.Label)],e.prototype,"freeLabel",void 0),i([T(cc.Label)],e.prototype,"lbSession",void 0),i([T(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([T(cc.Prefab)],e.prototype,"notiPrefab2",void 0),i([T(cc.Prefab)],e.prototype,"BonusAnim",void 0),i([T(cc.Prefab)],e.prototype,"bonusFreeAnim",void 0),i([T(cc.Node)],e.prototype,"normal",void 0),i([T(cc.Button)],e.prototype,"btnSpin",void 0),i([T(cc.Node)],e.prototype,"freebonusHolder",void 0),i([T(cc.Node)],e.prototype,"uiFree",void 0),i([T(cc.ParticleSystem)],e.prototype,"winParticle",void 0),i([T(cc.Node)],e.prototype,"statusTrySpin",void 0),i([T(cc.Node)],e.prototype,"nodeEffectItem",void 0),i([T(cc.Prefab)],e.prototype,"jackportFx",void 0),i([T(cc.Prefab)],e.prototype,"jackportFx1K",void 0),i([T(cc.Prefab)],e.prototype,"jackportFx100",void 0),i([T(cc.Prefab)],e.prototype,"bigwinFx",void 0),i([T(cc.Prefab)],e.prototype,"megaFx",void 0),i([T(cc.Node)],e.prototype,"free_vqmm",void 0),i([T(cc.AudioClip)],e.prototype,"musicBackground",void 0),i([T(cc.AudioClip)],e.prototype,"jackpotAC",void 0),i([T(cc.AudioClip)],e.prototype,"bigwinAC",void 0),i([T(cc.AudioClip)],e.prototype,"megaWinAC",void 0),i([T(cc.AudioClip)],e.prototype,"click",void 0),i([T(cc.AudioClip)],e.prototype,"moneyAC",void 0),i([T(cc.AudioClip)],e.prototype,"gotBonusFree",void 0),i([T(cc.AudioClip)],e.prototype,"Audio_Spin",void 0),i([T(cc.AudioClip)],e.prototype,"Audio_Auto_Spin",void 0),i([T(cc.AudioClip)],e.prototype,"Audio_MaxSpeep",void 0),i([T(cc.Node)],e.prototype,"sound",void 0),i([T(cc.SpriteAtlas)],e.prototype,"heroAtlas",void 0),e=i([C],e)}(cc.Component);n.THController=I,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/WsHandler":"WsHandler","../../Common/UI/Notification":"Notification","../../Common/UI/NumberRun":"NumberRun","../../Common/Utilities/Utility":"Utility","../../scenemanager/scripts/SceneManager":"SceneManager","./THChooseLineDialog":"THChooseLineDialog","./THDataTryMode":"THDataTryMode","./THHandler":"THHandler","./THModule":"THModule","./THScroll":"THScroll","./THX2":"THX2"}],THDataTryMode:[function(t,e,n){"use strict";cc._RF.push(e,"eb5daxbu0pM1ozbI/H3PmEg","THDataTryMode");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.listData=[{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"5,5,3,2,5,4,4,5,5,6,5,6,6,5,5",prize_string:"2,5,300;3,5,300;6,5,1500;7,5,1500;8,5,300;9,5,300;11,5,300;12,5,300;14,5,300;15,5,1500;16,5,1500;17,6,200;19,5,300;20,5,20000",position_string:"1,2,5;11,14,15;1,2,8,5;11,8,14,15;1,14,5;11,2,15;11,9,15;1,9,5;2,8,14;11,8,9,15;1,8,9,5;12,13,10;11,8,5;1,2,8,14,15",bet_value:100,total_bet:2e7,total_prize:286e4,total_free:0,bonus_prize:0,balance:112832922,start_x2:28600,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"2,3,2,5,6,5,5,5,5,5,7,7,6,7,5",prize_string:"1,5,20000;4,5,1500;5,5,1500;10,5,300;11,5,300;13,5,1500;14,5,300;15,5,1500;16,5,300;18,5,300",position_string:"6,7,8,9,10;6,7,9,10;6,7,9,10;6,4,10;7,9,15;6,8,4,10;6,8,10;7,8,9,15;7,8,9;6,4,10",bet_value:100,total_bet:2e7,total_prize:275e4,total_free:0,bonus_prize:0,balance:114245582,start_x2:27500,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"5,7,6,7,7,3,6,7,6,6,6,6,4,6,6",prize_string:"1,6,200;3,6,1000;4,6,1000;5,6,200;6,7,600;7,6,1000;8,6,200;11,6,7500;15,6,1000;17,6,200",position_string:"7,9,10;11,12,14,15;7,3,9,10;7,9,10;2,8,4,5;11,12,14,15;12,3,14;11,7,3,9,15;11,7,9,15;12,14,10",bet_value:100,total_bet:2e7,total_prize:129e4,total_free:0,bonus_prize:0,balance:112329222,start_x2:12900,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"2,3,2,5,5,6,6,6,6,6,7,7,6,7,5",prize_string:"1,6,7500;4,6,1000;5,6,7500;10,6,200;12,6,200;13,6,200;14,6,200;15,6,200;16,6,200;17,6,200",position_string:"6,7,8,9,10;6,7,9,10;6,7,13,9,10;6,13,10;7,13,9;6,8,10;6,8,10;7,8,9;7,8,9;6,13,10",bet_value:100,total_bet:2e5,total_prize:174e4,total_free:0,bonus_prize:0,balance:112448022,start_x2:17400,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"5,5,5,5,6,5,6,1,2,5,4,4,1,5,6",prize_string:"2,5,1500;4,5,300;6,5,300;8,5,300;10,5,1500;13,5,300;14,5,1500;17,5,300;18,5,20000;20,5,300",position_string:"1,2,3,4;6,3,10;1,2,4;1,3,14;6,2,4,10;6,4,10;6,2,14,10;6,14,10;6,2,3,4,10;1,2,14",bet_value:100,total_bet:2e5,total_prize:263e4,total_free:0,bonus_prize:0,balance:112623422,start_x2:26300,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"2,3,2,5,6,5,5,5,5,5,7,7,6,7,5",prize_string:"1,5,20000;4,5,1500;5,5,1500;10,5,300;11,5,300;13,5,1500;14,5,300;15,5,1500;16,5,300;18,5,300",position_string:"6,7,8,9,10;6,7,9,10;6,7,9,10;6,4,10;7,9,15;6,8,4,10;6,8,10;7,8,9,15;7,8,9;6,4,10",bet_value:100,total_bet:2e5,total_prize:275e4,total_free:0,bonus_prize:0,balance:112588622,start_x2:27500,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:3,spin_id:28306,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"2,5,3,1,1,5,6,1,6,2,1,1,3,5,6",prize_string:"6,1,50000;7,1,50000;11,6,20000;13,1,50000;14,5,30000;15,6,20000;19,1,0",position_string:"8,4,5;11,12,8;7,9,15;12,8,4;6,2,14;7,9,15;11,12,8,4,5",bet_value:1e4,total_bet:2e5,total_prize:50222e3,total_free:0,bonus_prize:0,balance:250595347,start_x2:0,jackpot_count:1,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:3,spin_id:28408,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"1,4,2,3,1,5,1,6,1,5,2,3,1,5,6",prize_string:"5,1,50000;12,1,0;14,5,30000;16,1,300000;17,5,30000",position_string:"7,13,9;1,7,13,9,5;6,14,10;1,7,9,5;6,14,10",bet_value:1e4,total_bet:2e5,total_prize:50412e3,total_free:0,bonus_prize:0,balance:300807347,start_x2:0,jackpot_count:1,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"6,6,6,6,6,4,4,4,4,1,6,6,6,6,5",prize_string:"1,4,2000;2,6,7500;3,6,1000;4,4,400;5,4,400;6,6,1000;7,6,200;8,6,7500;9,6,1000;10,6,200;12,6,200;15,4,400;16,4,400;17,6,200;18,6,200;19,6,1000;20,6,200",position_string:"6,7,8,9;1,2,3,4,5;11,12,13,14;6,7,9;6,7,9;1,2,4,5;11,12,14;1,12,3,14,5;11,2,13,4;2,13,4;1,13,5;7,8,9;7,8,9;12,13,14;2,3,4;11,12,4,5;1,2,14",bet_value:100,total_bet:2e5,total_prize:238e4,total_free:0,bonus_prize:0,balance:112972822,start_x2:23800,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"2,1,3,5,6,2,3,4,5,6,4,4,1,4,4",prize_string:"3,4,2000;7,4,50000;15,4,400;19,4,400;20,4,400",position_string:"11,12,14,15;11,12,8,14,15;11,8,15;11,12,8;8,14,15",bet_value:100,total_bet:2e5,total_prize:532e4,total_free:0,bonus_prize:0,balance:112542022,start_x2:53200,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"6,6,3,5,6,6,1,2,3,6,5,6,6,6,6",prize_string:"2,6,200;3,6,1000;5,6,200;6,6,200;7,6,200;8,6,1000;9,6,200;10,6,1000;12,6,200;13,6,200;14,6,1000;17,6,7500;18,6,200;20,6,1000",position_string:"1,2,5;12,13,14,15;6,13,10;1,2,5;12,14,15;1,12,14,5;2,13,15;6,2,13,10;1,13,5;6,12,10;6,2,14,10;6,12,13,14,10;6,2,10;1,2,14,15",bet_value:100,total_bet:2e5,total_prize:141e4,total_free:0,bonus_prize:0,balance:114821382,start_x2:14100,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"5,5,5,5,5,5,1,2,3,5,2,1,3,5,6",prize_string:"2,5,20000;4,5,300;6,5,1500;8,5,1500;10,5,1500;13,5,300;14,5,1500;17,5,300;18,5,20000;20,5,300",position_string:"1,2,3,4,5;6,3,10;1,2,4,5;1,3,14,5;6,2,4,10;6,4,10;6,2,14,10;6,14,10;6,2,3,4,10;1,2,14",bet_value:100,total_bet:2e5,total_prize:472e4,total_free:0,bonus_prize:0,balance:114805582,start_x2:47200,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0},{game_status:1,room_id:1,spin_id:0,line_string:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",slot_string:"4,4,4,4,6,2,4,3,5,6,4,4,4,4,4",prize_string:"2,4,2000;3,4,50000;6,4,400;7,4,2000;8,4,2000;9,4,50000;10,4,400;11,4,2000;12,4,400;15,4,400;17,4,400;18,4,400;19,4,400;20,4,2000",position_string:"1,2,3,4;11,12,13,14,15;1,2,4;11,12,14,15;1,12,3,14;11,2,13,4,15;2,13,4;11,7,3,15;1,7,13;11,7,15;12,13,14;2,3,4;11,12,4;1,2,14,15",bet_value:100,total_bet:2e5,total_prize:1128e4,total_free:0,bonus_prize:0,balance:115746782,start_x2:112800,jackpot_count:0,free_vqmm:0,rank:0,count:0,is_bonus_event:0,exec:0}],e=i([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],THEffect:[function(t,e,n){"use strict";cc._RF.push(e,"a0821oQ1Y1FYoYigSAZqOzI","THEffect");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moneyRun=null,e.money=0,e}return o(e,t),e.prototype.onLoad=function(){this.moneyRun.runNumber(this.money,!0)},i([r(a.default)],e.prototype,"moneyRun",void 0),e=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../Common/UI/NumberRun":"NumberRun"}],THHandler:[function(t,e,n){"use strict";cc._RF.push(e,"ac541uQaMBHap0XqGNGqPIS","THHandler");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Common/Utilities/Utility"),a=t("../../Common/Network/WsHandler"),c=t("../../Common/Data/GameConfigs"),s=t("./THModule"),r=t("../../Common/Data/GameData"),l=cc._decorator,u=l.ccclass,p=(l.property,function(){function t(){this.onPushPlay=function(t){},this.onPushAccountInfo=function(t){},this.onPushAccountInfoDemo=function(t){},this.onPushJoinRoom=function(t){},this.onPushPlayX2=function(t){},this.onPushPlayBonus=function(t){},this.onPushFinishX2=function(t){},this.onPushFinishBonus=function(t){},this.onPushTopJackpot=function(t){},this.onPushRank=function(t){},this.onPushHistory=function(t){},this.onPushJackpot=function(t){},this.onPushSpin=function(t){},this.accountInfo=new s.THModule.AccountInfo,this.spinInfo=new s.THModule.SpinInfo,this.x2Info=new s.THModule.X2Info,this.demoInfo=new s.THModule.DemoInfo,this.bonusInfo=new s.THModule.BonusInfo,this.isTryMode=!1,this.listJackpot=[],this.listHonor=[],this.listHistory=[],this.listJackpotHistory=[],this.listBonus=[],this.parseAccDone=!1,this.isSound=!0,this.preFree_vqmm=0,this.free_vqmm=0,this.pre_vqmm=0}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e,this.Instance.init()),this.Instance},t.prototype.init=function(){cc.systemEvent.on(c.GameConfigs.WSGameName.TienHiep,this.parseDataGame.bind(this),this)},t.prototype.parseDataGame=function(t){try{var e=null,n=null;if(cc.log("[Server -> Client]  "+t),null!=t&&t.hasOwnProperty("data")&&(e=t.cmd,n=t.data),null!=n&&null!=e){if("INFO"==e&&this.parseAccountInfo(n),"JACKPOT"==e&&n){var o=n.split(",");this.onPushJackpot(o)}"PLAY_SPIN"==e&&this.parseSpin(n),"PLAY_X2"==e&&this.parsePlayX2(n),"FINISH_X2"==e&&this.onPushFinishX2(!0),"PLAY_BONUS"==e&&this.parsePlayBonus(n),"FINISH_BONUS"==e&&this.parseFinishBonus(n),"GET_TOP_WIN"==e&&this.parseHonor(n),"GET_HISTORY"==e&&this.parseHistory(n),"GET_TOP_JACKPOT"==e&&this.parseTopJackpot(n)}}catch(t){}},t.prototype.clearCallback=function(){this.onPushPlay=function(t){},this.onPushAccountInfo=function(t){},this.onPushAccountInfoDemo=function(t){},this.onPushJoinRoom=function(t){},this.onPushPlayX2=function(t){},this.onPushFinishX2=function(t){},this.onPushFinishBonus=function(t){},this.onPushTopJackpot=function(t){},this.onPushRank=function(t){},this.onPushHistory=function(t){},this.onPushJackpot=function(t){}},t.prototype.connect=function(){a.WsHandler.getInstance().joinGame(c.GameConfigs.WSGameName.TienHiep)},t.prototype.close=function(){a.WsHandler.getInstance().leaveGame(c.GameConfigs.WSGameName.TienHiep)},t.prototype.play=function(t){var e='{"room_id":'+t+',"line_string":"'+this.accountInfo.lineString+'"}';this.callWS("PLAY_SPIN",e)},t.prototype.playX2=function(){this.callWS("PLAY_X2","0")},t.prototype.playBonus=function(){this.callWS("PLAY_BONUS","0")},t.prototype.finishBonus=function(){this.callWS("FINISH_BONUS","0")},t.prototype.finishX2=function(){this.callWS("FINISH_X2","0")},t.prototype.getTopJackpot=function(){this.callWS("GET_TOP_JACKPOT","0")},t.prototype.getRank=function(){this.callWS("GET_TOP_WIN","0")},t.prototype.getHistory=function(){this.callWS("GET_HISTORY","0")},t.prototype.callWS=function(t,e){var n='{"cmd":"'+t+'","data":'+e+"}";a.WsHandler.getInstance().playGame(c.GameConfigs.WSGameName.TienHiep,n)},t.prototype.parseAccountInfo=function(t){void 0!=t&&null!=t?(this.parseAccDone=!0,this.accountInfo.gameStatus=t.game_status,this.accountInfo.roomId=t.room_id,this.accountInfo.isFree=t.total_free>0,this.free_vqmm=t.free_vqmm,this.isTryMode=0==this.accountInfo.roomId,this.accountInfo.line=t.line_string.split(",").length,this.accountInfo.freeNumber=t.total_free,2==this.accountInfo.gameStatus&&(cc.log("KIM CUONG: Finish X2"),this.finishX2()),3==this.accountInfo.gameStatus&&(cc.log("KIM CUONG: Start Play Bonus"),this.finishBonus()),this.onPushAccountInfo(!0)):this.onPushAccountInfo(!1)},t.prototype.parseSpin=function(t){if(this.spinInfo.execResult=t.exec,this.spinInfo.execResult<0)return cc.log("KIM CUONG PushPlay Failed"),void this.onPushPlay(!1);if(this.spinInfo.slotData=[[]],this.spinInfo.listPrizeWin=[],this.spinInfo.listLineWin=[],this.spinInfo.listItemInLineWin=[[]],this.listBonus=[],this.pre_vqmm=this.preFree_vqmm,this.spinInfo.spinId=t.spin_id,this.spinInfo.lineString=t.line_string,this.spinInfo.totolBet=t.total_bet,this.spinInfo.totalPrize=t.total_prize,this.spinInfo.jackpotWinner=t.jackpot_count,this.x2Info.startBet=t.start_x2,this.spinInfo.balance=t.balance,this.spinInfo.bonusPrize=t.bonus_prize,this.spinInfo.startX2=t.start_x2,this.spinInfo.bet_value=t.bet_value,this.accountInfo.isFree=this.accountInfo.prevFreeNumber>0,this.accountInfo.isFreeEnd=t.total_free>0,this.accountInfo.prevFreeNumber=t.total_free,this.accountInfo.freeNumber=t.total_free,this.accountInfo.eventRank=t.current_rank,this.accountInfo.eventPoint=t.max_count,this.accountInfo.eventBonus=t.is_x2_count,this.accountInfo.gameStatus=t.game_status,this.isTryMode&&(this.demoInfo.balance+=t.totalPrizeValue+t.jackpot-t.totalBetValue,this.demoInfo.jackpot=t.jackpotFund),t.slot_string){for(var e=0;e<5;e++){this.spinInfo.slotData.push([])}var n=t.slot_string.split(",");for(var o in n)this.spinInfo.slotData[+o%5].push(n[+o])}if(t.position_string)for(var i=0,a=n=t.position_string.split(";");i<a.length;i++){var c=a[i].split(",");this.spinInfo.listItemInLineWin.push(c)}if(t.prize_string)for(var s=0,r=n=t.prize_string.split(";");s<r.length;s++){c=r[s].split(",");this.spinInfo.listPrizeWin.push(c[c.length-1]),this.spinInfo.listLineWin.push(c[0])}this.preFree_vqmm=t.free_vqmm,this.free_vqmm=this.preFree_vqmm,this.onPushPlay(!0)},t.prototype.parsePlayX2=function(t){if(t.exec_result<0)return cc.log("KIM CUONG Push Play X2 Failed"),void this.finishX2();this.x2Info.step=t.step,this.x2Info.startBet=t.bet_value,this.x2Info.winValue=t.win_prize,this.x2Info.balance=t.balance,t.balance>0&&(r.default.getInstance().UserData.balance=t.balance),this.onPushPlayX2(!0)},t.prototype.parsePlayBonus=function(t){if(t.exec<0)return cc.log("KIM CUONG Push Play Bonus Failed"),void this.finishBonus();this.bonusInfo.listStep=[],this.bonusInfo.listPrize=[],this.bonusInfo.totalStep=t.total_step,this.bonusInfo.bonusPrize=t.bonus_prize;for(var e=t.bonus_string.split(";"),n=e.length,o=0;o<n;o++){var i=e[o].split(",");this.bonusInfo.listStep.push(i[0]),this.bonusInfo.listPrize.push(i[3])}this.bonusInfo.status=t.status,this.bonusInfo.exec=t.exec,cc.log("KIM CUONG PushPlayBonus Successfull"),this.onPushPlayBonus(!0)},t.prototype.parseFinishBonus=function(t){this.isTryMode?this.demoInfo.balance+=t.bonusPrizeValue:this.bonusInfo.balance=t.balance,this.onPushFinishBonus(!0)},t.prototype.parseTopJackpot=function(t){this.listJackpotHistory=[];for(var e=0;e<t.length;e++){var n="";1==t[e].room_id&&(n="H\u1eb1ng Nga"),2==t[e].room_id&&(n="Hoa Thi\xean C\u1ed1t"),3==t[e].room_id&&(n="C\u1eedu V\u1ef9 H\u1ed3");var o={time:t[e].create_time,room:n,userName:t[e].nick_name,winValue:i.Utility.getInstance().numberToCurrency(t[e].jackpot_prize)};this.listJackpotHistory.push(o)}this.onPushTopJackpot(!0)},t.prototype.parseHonor=function(t){this.listHonor=[];for(var e=0;e<t.length;e++){var n="";1==t[e].room_id&&(n="H\u1eb1ng Nga"),2==t[e].room_id&&(n="Hoa Thi\xean C\u1ed1t"),3==t[e].room_id&&(n="C\u1eedu V\u1ef9 H\u1ed3");var o={rank:e+1,time:t[e].create_time,userName:t[e].nick_name,roomid:n,isjackpot:t[e].is_jackpot,winValue:i.Utility.getInstance().numberToCurrency(t[e].win_prize)};this.listHonor.push(o)}this.onPushRank(!0)},t.prototype.parseHistory=function(t){this.listHistory=[];for(var e=0;e<t.length;e++){var n={session:t[e].spin_id,time:t[e].create_time,room:this.parseRoomID(t[e].bet_value),totalBet:i.Utility.getInstance().numberToCurrency(t[e].total_bet),winValue:i.Utility.getInstance().numberToCurrency(t[e].total_prize)};this.listHistory.push(n)}this.onPushHistory(!0)},t.prototype.parseRoomID=function(t){switch(parseInt(t)){case 100:return"H\u1eb1ng Nga";case 1e3:return"Hoa Thi\xean C\u1ed1t";case 1e4:return"C\u1eedu V\u1ef9 H\u1ed3"}},t.Instance=null,t=e=o([u],t)}());n.THHandler=p,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Network/WsHandler":"WsHandler","../../Common/Utilities/Utility":"Utility","./THModule":"THModule"}],THHelp:[function(t,e,n){"use strict";cc._RF.push(e,"3356avqtkVFs5oek36frdUS","THHelp");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./THHandler"),c=t("../../Common/UI/NumberRun"),s=t("../../Common/Data/GameConfigs"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSpr=[],e.jackpotLabel=null,e.popupEffect=null,e.click=null,e.isSound=!0,e.callback=null,e.curRoomId=1,e}return o(e,t),e.prototype.start=function(){this.isSound=a.THHandler.getInstance().isSound,this.curRoomId=a.THHandler.getInstance().accountInfo.roomId,cc.systemEvent.on(s.GameConfigs.JPName.TienHiep,this.onPushJackpot.bind(this),this);var t=a.THHandler.getInstance().accountInfo.roomId;0==t&&(t=3),this.listSpr[t-1].active=!0},e.prototype.onPushJackpot=function(t){t&&t[this.curRoomId-1]&&(this.jackpotLabel.money=t[this.curRoomId-1])},e.prototype.closePopup=function(){var t=this;this.isSound&&cc.audioEngine.playEffect(this.click,!1),this.popupEffect?this.popupEffect.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy(),cc.removeSelf(!1)}))):this.node.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy()}))),this.callback&&this.callback()},i([u([cc.Node])],e.prototype,"listSpr",void 0),i([u(c.default)],e.prototype,"jackpotLabel",void 0),i([u(cc.Node)],e.prototype,"popupEffect",void 0),i([u(cc.AudioClip)],e.prototype,"click",void 0),e=i([l],e)}(cc.Component);n.THHelp=p,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/UI/NumberRun":"NumberRun","./THHandler":"THHandler"}],THHistory:[function(t,e,n){"use strict";cc._RF.push(e,"3e8c2amIZtI34YgXoJdNOsV","THHistory");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./THHandler"),c=t("../../Lobby/Scripts/LoadingManager"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.contentSC=null,e.click=null,e.popupEffect=null,e.isSound=!0,e.callback=null,e}return o(e,t),e.prototype.start=function(){c.default.getInstance().show(),this.isSound=a.THHandler.getInstance().isSound,a.THHandler.getInstance().onPushHistory=this.onPushHistory.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.THHandler.getInstance().getHistory()})))},e.prototype.onDestroy=function(){cc.log("ThanTaiRank Destroyed")},e.prototype.onPushHistory=function(t){var e=43;a.THHandler.getInstance().listHistory.length<e&&(e=a.THHandler.getInstance().listHistory.length),this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);this.contentScroll.addChild(o),o.getChildByName("layout").active=n%2!=0,this.updateCell(o,a.THHandler.getInstance().listHistory[n],n)}this.contentSC.scrollToTop(),c.default.getInstance().hide()},e.prototype.updateCell=function(t,e,n){t.getChildByName("Session").getComponent(cc.Label).string=e.session,t.getChildByName("Time").getComponent(cc.Label).string=e.time,t.getChildByName("Room").getComponent(cc.Label).string=e.room,t.getChildByName("BetValue").getComponent(cc.Label).string=e.totalBet,t.getChildByName("Detail").getComponent(cc.Label).string=e.winValue},e.prototype.oncLickClose=function(t){this.node.destroy()},e.prototype.closePopup=function(){var t=this;this.isSound&&cc.audioEngine.playEffect(this.click,!1),this.popupEffect?this.popupEffect.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy(),cc.removeSelf(!1)}))):this.node.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy()}))),this.callback&&this.callback()},i([l(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([l(cc.Node)],e.prototype,"contentScroll",void 0),i([l(cc.ScrollView)],e.prototype,"contentSC",void 0),i([l(cc.AudioClip)],e.prototype,"click",void 0),i([l(cc.Node)],e.prototype,"popupEffect",void 0),e=i([r],e)}(cc.Component);n.THHistory=u,cc._RF.pop()},{"../../Lobby/Scripts/LoadingManager":"LoadingManager","./THHandler":"THHandler"}],THItem:[function(t,e,n){"use strict";cc._RF.push(e,"968e86gBEBFvLc6Z/fUs7kA","THItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./THHandler"),c=cc._decorator,s=c.ccclass,r=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.start=function(){},e.prototype.updateSkin=function(t){for(var e=0,n=0,o=this.node.children;n<o.length;n++){var i=o[n];if(0==e||1==e||2==e){for(var c=1;c<4;c++)i.getChildByName(c+"").active=!1;var s=a.THHandler.getInstance().accountInfo.roomId;0==s&&(s=3),i.getChildByName(s+"").active=!0}else{i.getComponent(cc.Sprite).spriteFrame=t[e]}e++}},e.prototype.updateItemById=function(t){for(var e in this.node.children)this.node.children[e].active=e==t},e=i([s],e)}(cc.Component));n.THItem=r,cc._RF.pop()},{"./THHandler":"THHandler"}],THModule:[function(t,e,n){"use strict";cc._RF.push(e,"330ffWdgapPZofprfFux8e/","THModule"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){(function(t){t[t.PREPARE=0]="PREPARE",t[t.PLAYING_EFFECT=1]="PLAYING_EFFECT",t[t.STOP=2]="STOP"})(t.SCROLL_STATE||(t.SCROLL_STATE={})),function(t){t[t.PREPARE=0]="PREPARE",t[t.REQUESTING=1]="REQUESTING",t[t.PLAYX2=2]="PLAYX2",t[t.PLAYBONUS=3]="PLAYBONUS",t[t.SPINING=4]="SPINING",t[t.HANDLE_RESULT=5]="HANDLE_RESULT"}(t.GAME_STATE||(t.GAME_STATE={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.AUTO=1]="AUTO",t[t.FAST=2]="FAST"}(t.SPIN_MODE||(t.SPIN_MODE={}));var e=function(){return function(){}}();t.SpinInfo=e;var n=function(){return function(){this.line=20,this.gameStatus=0,this.roomId=1,this.betValue=100,this.totalLine=20,this.lineString="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",this.isFree=!1,this.isFreeEnd=!1,this.freeNumber=0,this.prevFreeNumber=0,this.hasFree=!1,this.eventRank=0,this.eventPoint=0,this.eventBonus=0}}();t.AccountInfo=n;var o=function(){return function(){}}();t.X2Info=o;var i=function(){return function(){this.count=0,this.totalStep=0,this.listPrize=[100,300,400],this.listStep=[1,2,3],this.bonusPrize=0,this.status=0,this.exec=0,this.balance=0}}();t.BonusInfo=i;var a=function(){return function(){this.balance=5e7,this.jackpot=5e7,this.totalLine=20,this.lineString="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20"}}();t.DemoInfo=a}(n.THModule||(n.THModule={})),cc._RF.pop()},{}],THRank:[function(t,e,n){"use strict";cc._RF.push(e,"b87b4F88xNKK5oQCON8oZyI","THRank");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/LabelHelperConfigs"),c=t("../../Common/Data/GameData"),s=t("./THHandler"),r=t("../../Lobby/Scripts/LoadingManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.contentSC=null,e.popupEffect=null,e.click=null,e.isSound=!0,e.callback=null,e}return o(e,t),e.prototype.start=function(){r.default.getInstance().show(),this.isSound=s.THHandler.getInstance().isSound,s.THHandler.getInstance().onPushRank=this.onPushRank.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){s.THHandler.getInstance().getRank()})))},e.prototype.onDestroy=function(){cc.log("ThanTaiRank Destroyed")},e.prototype.onPushRank=function(t){var e=43;s.THHandler.getInstance().listHonor.length<e&&(e=s.THHandler.getInstance().listHonor.length),this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);this.contentScroll.addChild(o),o.getChildByName("layout").active=n%2!=0,this.updateCell(o,s.THHandler.getInstance().listHonor[n],n)}this.contentSC.scrollToTop(),r.default.getInstance().hide()},e.prototype.updateCell=function(t,e,n){var o=a.TextData[c.default.getInstance().UserData.textPackage];t.getChildByName("Time").getComponent(cc.Label).string=e.time,t.getChildByName("UserName").getComponent(cc.Label).string=e.userName,t.getChildByName("Room").getComponent(cc.Label).string=e.roomid,t.getChildByName("Win").getComponent(cc.Label).string=e.winValue,t.getChildByName("Detail").getComponent(cc.Label).string=0==e.isjackpot?o.bigwin:o.jackpot},e.prototype.oncLickClose=function(t){this.node.destroy()},e.prototype.closePopup=function(){var t=this;this.isSound&&cc.audioEngine.playEffect(this.click,!1),this.popupEffect?this.popupEffect.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy(),cc.removeSelf(!1)}))):this.node.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy()}))),this.callback&&this.callback()},i([p(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([p(cc.Node)],e.prototype,"contentScroll",void 0),i([p(cc.ScrollView)],e.prototype,"contentSC",void 0),i([p(cc.Node)],e.prototype,"popupEffect",void 0),i([p(cc.AudioClip)],e.prototype,"click",void 0),e=i([u],e)}(cc.Component);n.THRank=d,cc._RF.pop()},{"../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Lobby/Scripts/LoadingManager":"LoadingManager","./THHandler":"THHandler"}],THRoomItem:[function(t,e,n){"use strict";cc._RF.push(e,"8f3d3aER2pNHZHII/IV6Cnk","THRoomItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roomID=0,e.jackpotLabel=null,e.roomClickCallback=function(t){},e}return o(e,t),e.prototype.updateJackpot=function(t){this.jackpotLabel.money=t},e.prototype.onClicked=function(t){cc.log(this.roomID),this.roomClickCallback(this.roomID)},i([r()],e.prototype,"roomID",void 0),i([r(a.default)],e.prototype,"jackpotLabel",void 0),e=i([s],e)}(cc.Component);n.THRoomItem=l,cc._RF.pop()},{"../../Common/UI/NumberRun":"NumberRun"}],THRoom:[function(t,e,n){"use strict";cc._RF.push(e,"3cf9bfLLm9Do43i1gECW74I","THRoom");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameConfigs"),c=t("../../Common/UI/NumberRun"),s=t("./THHandler"),r=t("../../Common/Data/GameData"),l=t("../../Common/Network/WsHandler"),u=t("../../scenemanager/scripts/SceneManager"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listJP=[],e.listJP_USDT=[],e.click=null,e.musicBackground=null,e}return o(e,t),e.prototype.start=function(){cc.audioEngine.playMusic(this.musicBackground,!0),s.THHandler.getInstance().parseAccDone||s.THHandler.getInstance().connect(),cc.systemEvent.on(a.GameConfigs.JPName.TienHiep,this.onPushJackpot.bind(this),this);for(var t=0,e=l.WsHandler.getInstance().listJPAll;t<e.length;t++){var n=e[t];if(n.name==a.GameConfigs.JPName.TienHiep)return void this.onPushJackpot(n.value.split(","))}},e.prototype.onPushJackpot=function(t){if(t)for(var e=0;e<3;e++)this.listJP[e].runNumber(t[e],!0),0!=r.default.getInstance().UserData.ratio_usd&&this.listJP_USDT[e].runNumberPrefix(t[e]/r.default.getInstance().UserData.ratio_usd,!0)},e.prototype.onBtnRoom=function(t,e){cc.audioEngine.stopMusic(),r.default.getInstance().UserData.isSoundEnabled&&cc.audioEngine.playMusic(this.click,!1);var n=s.THHandler.getInstance().accountInfo;0==n.freeNumber&&0==s.THHandler.getInstance().free_vqmm&&(n.roomId=parseInt(e)),0==n.freeNumber&&s.THHandler.getInstance().free_vqmm>0&&(n.roomId=1),s.THHandler.getInstance().isTryMode=0==n.roomId,u.clientdev.SceneManager.Instance.LoadScene(a.GameConfigs.SceneName.TienHiep_Room,function(){})},e.prototype.onBackClicked=function(t){s.THHandler.getInstance().close(),s.THHandler.getInstance().parseAccDone=!1,u.clientdev.SceneManager.Instance.LoadScene(a.GameConfigs.SceneName.Lobby,function(){})},i([h(c.default)],e.prototype,"listJP",void 0),i([h(c.default)],e.prototype,"listJP_USDT",void 0),i([h(cc.AudioClip)],e.prototype,"click",void 0),i([h(cc.AudioClip)],e.prototype,"musicBackground",void 0),e=i([d],e)}(cc.Component);n.THRoom=f,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Network/WsHandler":"WsHandler","../../Common/UI/NumberRun":"NumberRun","../../scenemanager/scripts/SceneManager":"SceneManager","./THHandler":"THHandler"}],THScroll:[function(t,e,n){"use strict";cc._RF.push(e,"e4294GnOOJKEpKZgwYbB2o0","THScroll");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./THModule"),c=t("./THItem"),s=t("./THHandler"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effect=null,e.result=null,e.scrollAC=null,e.scroll_fast=null,e.scrollId=0,e.frame=[],e.state=a.THModule.SCROLL_STATE.PREPARE,e.listItems=[],e.startDelay=0,e.delegate=null,e.is_fast=!1,e}return o(e,t),e.prototype.start=function(){this.startDelay=.3*this.scrollId;var t=s.THHandler.getInstance().accountInfo.roomId-1;for(var e in-1==t&&(t=2),this.effect.node.getComponent(cc.Sprite).spriteFrame=this.frame[t],this.effect.node.active=!1,this.result.children){var n=this.result.children[e].getComponent(c.THItem);this.listItems.push(n)}},e.prototype.setSpinFast=function(t){this.startDelay=t?.15:.3*this.scrollId,this.is_fast=t},e.prototype.updateFx=function(t){this.effect.node.getComponent(cc.Sprite).spriteFrame=t},e.prototype.updateSkin=function(t){for(var e in this.result.children){this.result.children[e].getComponent(c.THItem).updateSkin(t)}},e.prototype.startScroll=function(t){var e=this,n=setTimeout(function(){e.state!=a.THModule.SCROLL_STATE.PREPARE&&(e.resetScroll(),void 0!=e.delegate&&e.delegate.onPlayDone()),clearTimeout(n)},5e3);if(this.state==a.THModule.SCROLL_STATE.PREPARE){this.state=a.THModule.SCROLL_STATE.PLAYING_EFFECT;var o=null;this.node.runAction(cc.sequence(cc.delayTime(this.startDelay),cc.callFunc(function(){e.result.getComponent(cc.Animation).play("updown"),s.THHandler.getInstance().isSound&&(o=e.is_fast?cc.audioEngine.playEffect(e.scroll_fast,!1):cc.audioEngine.playEffect(e.scrollAC,!1))}),cc.delayTime(.11),cc.callFunc(function(){e.result.active=!1,e.effect.node.active=!0,e.effect.play("scrolleffect"),e.updateResult()}),cc.delayTime(t),cc.callFunc(function(){e.effect.node.active=!1,e.result.active=!0,e.effect.stop("snscroll"),e.result.getComponent(cc.Animation).play("downup"),o&&(e.is_fast?e.node.runAction(cc.sequence(cc.delayTime(.3),cc.callFunc(function(){return cc.audioEngine.stopEffect(o)}))):cc.audioEngine.stopEffect(o))}),cc.delayTime(.11),cc.callFunc(function(){e.resetScroll(),clearTimeout(n),4==e.scrollId&&void 0!=e.delegate&&(cc.log("PLAYY DONEE 2"),e.delegate.onPlayDone())})))}},e.prototype.updateResult=function(){var t=s.THHandler.getInstance().spinInfo.slotData[this.scrollId];for(var e in this.listItems)this.listItems[+e].updateItemById(t[+e]-1)},e.prototype.resetScroll=function(){this.node.stopAllActions(),this.result.active=!0,this.effect.node.active=!1,this.state=a.THModule.SCROLL_STATE.PREPARE},i([u(cc.Animation)],e.prototype,"effect",void 0),i([u(cc.Node)],e.prototype,"result",void 0),i([u(cc.AudioClip)],e.prototype,"scrollAC",void 0),i([u(cc.AudioClip)],e.prototype,"scroll_fast",void 0),i([u],e.prototype,"scrollId",void 0),i([u(cc.SpriteFrame)],e.prototype,"frame",void 0),e=i([l],e)}(cc.Component);n.THScroll=p,cc._RF.pop()},{"./THHandler":"THHandler","./THItem":"THItem","./THModule":"THModule"}],THTop:[function(t,e,n){"use strict";cc._RF.push(e,"f79d6rqjppD6qGhd16RJ6Zr","THTop");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./THHandler"),c=t("../../Lobby/Scripts/LoadingManager"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.contentSC=null,e.popupEffect=null,e.click=null,e.isSound=!0,e.callback=null,e}return o(e,t),e.prototype.start=function(){c.default.getInstance().show(),this.isSound=a.THHandler.getInstance().isSound,a.THHandler.getInstance().onPushTopJackpot=this.onPushTopJackpot.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.THHandler.getInstance().getTopJackpot()})))},e.prototype.onDestroy=function(){cc.log("LC Top Destroyed")},e.prototype.onPushTopJackpot=function(t){var e=43;a.THHandler.getInstance().listJackpotHistory.length<e&&(e=a.THHandler.getInstance().listJackpotHistory.length),this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);this.contentScroll.addChild(o),o.getChildByName("layout").active=n%2!=0,this.updateCell(o,a.THHandler.getInstance().listJackpotHistory[n])}this.contentSC.scrollToTop(),c.default.getInstance().hide()},e.prototype.updateCell=function(t,e){t.getChildByName("Time").getComponent(cc.Label).string=e.time,t.getChildByName("UserName").getComponent(cc.Label).string=e.userName,t.getChildByName("Room").getComponent(cc.Label).string=e.room,t.getChildByName("WinValue").getComponent(cc.Label).string=e.winValue},e.prototype.oncLickClose=function(t){this.node.destroy()},e.prototype.closePopup=function(){var t=this;this.isSound&&cc.audioEngine.playEffect(this.click,!1),this.popupEffect?this.popupEffect.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy(),cc.removeSelf(!1)}))):this.node.runAction(cc.sequence(cc.scaleTo(.25,0),cc.callFunc(function(){t.node.destroy()}))),this.callback&&this.callback()},i([l(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([l(cc.Node)],e.prototype,"contentScroll",void 0),i([l(cc.ScrollView)],e.prototype,"contentSC",void 0),i([l(cc.Node)],e.prototype,"popupEffect",void 0),i([l(cc.AudioClip)],e.prototype,"click",void 0),e=i([r],e)}(cc.Component);n.KCTop=u,cc._RF.pop()},{"../../Lobby/Scripts/LoadingManager":"LoadingManager","./THHandler":"THHandler"}],THX2:[function(t,e,n){"use strict";cc._RF.push(e,"db8a8JZ/dZM26a9W33a0TBC","THX2");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utilities/Utility"),c=t("../../Common/Data/LabelHelperConfigs"),s=t("../../Common/Data/GameData"),r=t("../../Common/Data/Constants"),l=t("./THHandler"),u=t("../../Common/Data/GameConfigs"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStop=null,e.btnCont=null,e.lbWinValue=null,e.lbX2=null,e.nodeLeft=null,e.nodeRight=null,e.notiPrefab=null,e.click=null,e.clickCard=null,e.NotiLb=null,e.soundWin=null,e.soundLose=null,e.Audio_bgX2=null,e.Audio_bgGame=null,e.winBg=null,e.moneyWinLabel=null,e.card_no2=null,e.Card_next_not=null,e.Card_next_not2=null,e._cardChose=0,e.language=null,e.Win=!1,e.winValue=0,e.isFirstTime=!0,e.listCard=[],e}return o(e,t),e.prototype.onLoad=function(){l.THHandler.getInstance().onPushPlayX2=this.onPushPlayX2.bind(this),l.THHandler.getInstance().onPushFinishX2=this.onPushFinishX2.bind(this),this.language=c.TextData[s.default.getInstance().UserData.textPackage],this.onNotification()},e.prototype.start=function(){this.listCard=[this.nodeLeft,this.nodeRight]},e.prototype.onEnable=function(){this._isCanleClick=!0,cc.audioEngine.stopMusic(),l.THHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.Audio_bgX2,!0),this.resetTurn(),this.isFirstTime=!0;var t=l.THHandler.getInstance().spinInfo.startX2;this.lbWinValue.string=a.Utility.getInstance().add_commas(t),this.lbX2.string=a.Utility.getInstance().add_commas(Math.round(1.99*t)),this.btnStop.interactable=!1},e.prototype.onBtnCard=function(t,e){this._isCanleClick&&(l.THHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickCard,!1),this._isCanleClick=!1,this._cardChose=parseInt(e),this.btnStop.interactable=!1,this.btnCont.interactable=!1,this.isFirstTime?l.THHandler.getInstance().playX2():(this.nodeLeft.getChildByName("default").active=!1,this.nodeRight.getChildByName("default").active=!1,this.handleResult(this.Win,this.winValue)))},e.prototype.onBtnContinue=function(){l.THHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.click,!1),l.THHandler.getInstance().playX2(),this.btnStop.interactable=!1,this.lbWinValue.string=a.Utility.getInstance().add_commas(l.THHandler.getInstance().x2Info.startBet),this.lbX2.string=a.Utility.getInstance().add_commas(Math.floor(1.99*l.THHandler.getInstance().x2Info.startBet)),this.btnCont.interactable=!1,this.nodeLeft.getChildByName("default").active=!0,this.nodeLeft.getChildByName("win").active=!1,this.nodeLeft.getChildByName("lose").active=!1,this.nodeRight.getChildByName("default").active=!0,this.nodeRight.getChildByName("win").active=!1,this.nodeRight.getChildByName("lose").active=!1,this.AnimWinRight.node.active=!0,this.AnimWinleft.node.active=!0,this.AnimWinRight1.node.active=!0,this.AnimWinleft1.node.active=!0},e.prototype.onBtnStop=function(t){l.THHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.click,!1),this._isPlayX2?l.THHandler.getInstance().finishX2():cc.systemEvent.emit(r.default.EVENT_TIENHIEP.STOP_X2),this.AnimWinRight.node.active=!0,this.AnimWinleft.node.active=!0,this.AnimWinRight1.node.active=!0,this.AnimWinleft1.node.active=!0},e.prototype.resetTurn=function(){this._isPlayX2=!1,this.btnStop.interactable=!1,this.btnCont.interactable=!1,this.AnimWinRight.node.active=!0,this.AnimWinRight1.node.active=!0,this.AnimWinleft.node.active=!0,this.AnimWinleft1.node.active=!0,this.nodeLeft.getChildByName("default").active=!0,this.nodeLeft.getChildByName("win").active=!1,this.nodeLeft.getChildByName("lose").active=!1,this.nodeRight.getChildByName("default").active=!0,this.nodeRight.getChildByName("win").active=!1,this.nodeRight.getChildByName("lose").active=!1},e.prototype.onDisable=function(){this.isFirstTime=!0,cc.audioEngine.stopAllEffects(),l.THHandler.getInstance().isSound&&cc.audioEngine.playMusic(this.Audio_bgGame,!0)},e.prototype.onPushPlayX2=function(t){if(t)if(this._isCanleClick=!0,this._isPlayX2=!0,this.winValue=l.THHandler.getInstance().x2Info.winValue,this.winBg.active=!1,this.moneyWinLabel.string=a.Utility.getInstance().add_commas(l.THHandler.getInstance().x2Info.winValue),this.Win=this.winValue>0,this.isFirstTime)this.isFirstTime=!1,this.handleResult(this.Win,this.winValue);else{this.lbX2,this.lbWinValue.string=this.lbX2.string;var e=1.99*l.THHandler.getInstance().x2Info.startBet,n=parseInt(e.toString());this.lbX2.string=a.Utility.getInstance().add_commas(n)}},e.prototype.onNotification=function(){var t=this;this.NotiLb.string="Ch\u1ecdn 1 trong 2 nh\xe2n v\u1eadt d\u01b0\u1edbi, b\u1ea1n c\xf3 t\u1ed1i \u0111a 3 l\u01b0\u1ee3t ch\u1ecdn.",this.NotiLb.node.setPosition(650,0),this.NotiLb.node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(15,-650-this.NotiLb.node.getContentSize().width,0),cc.callFunc(function(){t.NotiLb.node.setPosition(650,0)}))))},e.prototype.onPushFinishX2=function(t){cc.systemEvent.emit(r.default.EVENT_TIENHIEP.STOP_X2)},e.prototype.RandomCard=function(t){var e=Math.floor(3*Math.random()+1)+t,n=0;n=e<4?e:e-4;var o=this.listCard[t];this.card_no2=this.listCard[n];var i=this.listCard.indexOf(o,0);i>-1&&this.listCard.splice(i,1);var a=this.listCard.indexOf(this.card_no2,0);a>-1&&this.listCard.splice(a,1),this.Card_next_not=this.listCard[0],this.Card_next_not2=this.listCard[1]},e.prototype.handleResult=function(t,e){var n=this;this.nodeLeft.getChildByName("default").active=!1,this.nodeRight.getChildByName("default").active=!1,this.node.runAction(cc.sequence(cc.callFunc(function(){0==n._cardChose&&(n.AnimWinRight.node.active=!1,n.AnimWinRight1.node.active=!1,t?(n.nodeLeft.getChildByName("win").active=!0,n.AnimWinleft1.play(),n.AnimWinleft.play(),n.nodeRight.getChildByName("lose").active=!0):(n.nodeLeft.getChildByName("lose").active=!0,n.nodeRight.getChildByName("win").active=!0)),1==n._cardChose&&(n.AnimWinleft.node.active=!1,n.AnimWinleft1.node.active=!1,t?(n.AnimWinRight.play(),n.AnimWinRight1.play(),n.nodeRight.getChildByName("win").active=!0,n.nodeLeft.getChildByName("lose").active=!0):(n.nodeRight.getChildByName("lose").active=!0,n.nodeLeft.getChildByName("win").active=!0)),l.THHandler.getInstance().isSound&&(t?cc.audioEngine.playEffect(n.soundWin,!1):cc.audioEngine.playEffect(n.soundLose,!1))}),cc.delayTime(1),cc.callFunc(function(){t?(n.lbX2.string=a.Utility.getInstance().numberToCurrency(e),n.showNoti("Ch\xfac m\u1eebng!\nB\u1ea1n th\u1eafng "+a.Utility.getInstance().numberToCurrency(e))):(n.lbWinValue.string="0",n.lbX2.string=a.Utility.getInstance().add_commas(l.THHandler.getInstance().x2Info.winValue),n.showNoti("R\u1ea5t ti\u1ebfc!\nCh\xfac b\u1ea1n may m\u1eafn l\u1ea7n sau"))}),cc.delayTime(2),cc.callFunc(function(){3!=l.THHandler.getInstance().x2Info.step?(n.btnStop.interactable=!0,t?n.btnCont.interactable=!0:cc.systemEvent.emit(r.default.EVENT_TIENHIEP.STOP_X2)):cc.systemEvent.emit(r.default.EVENT_TIENHIEP.STOP_X2)})))},e.prototype.showNoti=function(t){this.listCard=[this.nodeLeft,this.nodeRight];var e=cc.instantiate(this.notiPrefab);e.getChildByName("content").getChildByName("status").getComponent(cc.Label).string=t,e.name="th_noti_popup",e.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){var t=cc.director.getScene().getChildByName("th_noti_popup");t&&t.destroy()})));var n=cc.winSize;e.setPosition(n.width/2,n.height/2),cc.director.getScene().addChild(e,u.GameConfigs.zOderGame.NOTI)},i([h(cc.Button)],e.prototype,"btnStop",void 0),i([h(cc.Button)],e.prototype,"btnCont",void 0),i([h(cc.Label)],e.prototype,"lbWinValue",void 0),i([h(cc.Label)],e.prototype,"lbX2",void 0),i([h(cc.Node)],e.prototype,"nodeLeft",void 0),i([h(cc.Node)],e.prototype,"nodeRight",void 0),i([h(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([h(cc.AudioClip)],e.prototype,"click",void 0),i([h(cc.AudioClip)],e.prototype,"clickCard",void 0),i([h(cc.Label)],e.prototype,"NotiLb",void 0),i([h(cc.Animation)],e.prototype,"AnimWinleft",void 0),i([h(cc.Animation)],e.prototype,"AnimWinleft1",void 0),i([h(cc.Animation)],e.prototype,"AnimWinRight",void 0),i([h(cc.Animation)],e.prototype,"AnimWinRight1",void 0),i([h(cc.AudioClip)],e.prototype,"soundWin",void 0),i([h(cc.AudioClip)],e.prototype,"soundLose",void 0),i([h(cc.AudioClip)],e.prototype,"Audio_bgX2",void 0),i([h(cc.AudioClip)],e.prototype,"Audio_bgGame",void 0),i([h(cc.Node)],e.prototype,"winBg",void 0),i([h(cc.Label)],e.prototype,"moneyWinLabel",void 0),e=i([d],e)}(cc.Component);n.THX2=f,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Utilities/Utility":"Utility","./THHandler":"THHandler"}],TPBonusItem:[function(t,e,n){"use strict";cc._RF.push(e,"b1fe6y6+MVIgaYTgnRYfwSj","TPBonusItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Data/Constants"),s=t("./TPHandler"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnPresent=null,e.labelMoneyWin=null,e.item=null,e.win=null,e.lose=null,e.clickAC=null,e.winAC=null,e.defaultAnim="",e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){},e.prototype.onBtnPresent=function(t){cc.systemEvent.emit(c.default.EVENT_TaiPhu.RESET_CD_25),this.btnPresent.interactable=!1;for(var e=++s.TPHandler.getInstance().bonusInfo.count,n=--s.TPHandler.getInstance().bonusInfo.totalStep,o=s.TPHandler.getInstance().bonusInfo.listStep,i=s.TPHandler.getInstance().bonusInfo.listPrize,a=o.length,r=0;r<a;r++)e==o[r]&&this.showEffect(n,i[r])},e.prototype.showEffect=function(t,e){s.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickAC,!1),n.totalWin+=parseInt(e),t>=0&&cc.systemEvent.emit(c.default.EVENT_TaiPhu.BONUS_25,{Step:t,TotalWin:n.totalWin}),this.item.active=!1,0==e?this.lose.active=!0:(s.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.winAC,!1),this.win.active=!0),this.labelMoneyWin.node.active=!0,this.labelMoneyWin.runNumber(e,!0)},e.prototype.resetDefault=function(){n.totalWin=0,this.btnPresent.interactable=!0,this.labelMoneyWin.node.active=!1,this.labelMoneyWin.targetValue=0,this.item.active=!0,this.win.active=!1,this.lose.active=!1},e.totalWin=0,i([u(cc.Button)],e.prototype,"btnPresent",void 0),i([u(a.default)],e.prototype,"labelMoneyWin",void 0),i([u(cc.Node)],e.prototype,"item",void 0),i([u(cc.Node)],e.prototype,"win",void 0),i([u(cc.Node)],e.prototype,"lose",void 0),i([u({type:cc.AudioClip})],e.prototype,"clickAC",void 0),i([u({type:cc.AudioClip})],e.prototype,"winAC",void 0),e=n=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/UI/NumberRun":"NumberRun","./TPHandler":"TPHandler"}],TPBonus:[function(t,e,n){"use strict";cc._RF.push(e,"40e3agtlTJDAaa4a+iAMbyS","TPBonus");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=t("../../Common/Data/Constants"),s=t("./TPHandler"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelCountDown=null,e.labelTurn=null,e.labelTotalWin=null,e.bonusAll=null,e.bonusX=null,e.backgroundAC=null,e.clickXAC=null,e.bgMusic=null,e.isCountdown=!0,e.countDown=0,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(c.default.EVENT_TaiPhu.BONUS_25,this.onCheckBonus.bind(this),this),cc.systemEvent.on(c.default.EVENT_TaiPhu.RESET_CD_25,this.resetCd.bind(this),this)},e.prototype.onEnable=function(){for(var t in s.TPHandler.getInstance().isSound&&cc.audioEngine.playMusic(this.backgroundAC,!0),this.isCountdown=!0,this.countDown=c.default.EVENT_TaiPhu.COUNT_DOWNX2,this.bonusAll.children)this.bonusAll.children[t].getComponent("TPBonusItem").resetDefault();s.TPHandler.getInstance().bonusInfo.count=0,this.labelTurn.string=s.TPHandler.getInstance().bonusInfo.totalStep.toString(),this.labelCountDown.string=this.countDown.toString(),this.labelTotalWin.string="0",this.bonusAll.active=!0,this.bonusX.active=!1},e.prototype.update=function(t){this.isCountdown&&(this.countDown-=t,this.countDown<0?(this.isCountdown=!1,s.TPHandler.getInstance().finishBonus()):this.labelCountDown.string=Math.floor(this.countDown)+"")},e.prototype.onDisable=function(){cc.audioEngine.stopAll(),s.TPHandler.getInstance().isSound&&cc.audioEngine.playMusic(this.bgMusic,!0)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this),this.destroy()},e.prototype.onStopCountDown=function(t){this.isCountdown=!1},e.prototype.resetCd=function(t){this.countDown=10,this.labelCountDown.string=this.countDown.toString()},e.prototype.onCheckBonus=function(t){var e=this;if(this.labelTurn.string=t.Step.toString(),this.labelTotalWin.runNumber(t.TotalWin,!0),this.isCountdown=!0,0==s.TPHandler.getInstance().bonusInfo.totalStep)var n=setTimeout(function(){e.showSelectEgg(),clearTimeout(n)},1e3)},e.prototype.showSelectEgg=function(){this.bonusAll.active=!1,this.bonusX.active=!0,this.countDown=3,this.bonusX.children.forEach(function(t){"text"!=t.name&&(t.getComponent(cc.Button).interactable=!0,t.getChildByName("?").active=!0,t.getChildByName("bn_x_bg").active=!1,t.getChildByName("x1").active=!1,t.getChildByName("x2").active=!1,t.getChildByName("x3").active=!1,t.getChildByName("x4").active=!1,t.getChildByName("x5").active=!1,t.getChildByName("x1").color=cc.Color.WHITE,t.getChildByName("x2").color=cc.Color.WHITE,t.getChildByName("x3").color=cc.Color.WHITE,t.getChildByName("x4").color=cc.Color.WHITE,t.getChildByName("x5").color=cc.Color.WHITE)})},e.prototype.clickEgg=function(t,e){var n=s.TPHandler.getInstance().bonusInfo.xxx,o=[1,2,3,4,5,3,4].indexOf(n),i=o-Math.floor(Math.random()*Math.min(3,o+1)),a=[1,2,3,4,5,3,4].slice(i,i+3).filter(function(t){return t!=n}).sort(function(){return Math.random()-.5});s.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickXAC,!1),this.bonusX.children.forEach(function(t,o){if("text"!=t.name)if(t.getComponent(cc.Button).interactable=!1,t.getChildByName("?").active=!1,t.getChildByName("bn_x_bg").active=!0,e==o)t.getChildByName("x"+n).active=!0;else{var i=a.pop();t.getChildByName("x"+i).active=!0,t.getChildByName("x"+i).color=cc.Color.GRAY}}),this.isCountdown=!0,this.countDown=1},i([u(cc.Label)],e.prototype,"labelCountDown",void 0),i([u(cc.Label)],e.prototype,"labelTurn",void 0),i([u(a.default)],e.prototype,"labelTotalWin",void 0),i([u(cc.Node)],e.prototype,"bonusAll",void 0),i([u(cc.Node)],e.prototype,"bonusX",void 0),i([u({type:cc.AudioClip})],e.prototype,"backgroundAC",void 0),i([u({type:cc.AudioClip})],e.prototype,"clickXAC",void 0),i([u({type:cc.AudioClip})],e.prototype,"bgMusic",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/UI/NumberRun":"NumberRun","./TPHandler":"TPHandler"}],TPChooseLineDialog:[function(t,e,n){"use strict";cc._RF.push(e,"33107B1oTNJ4o2rz84/raJH","TPChooseLineDialog");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TPChooseLineItem"),c=t("./TPHandler"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lineBtners=null,e.clickAC=null,e.listBtn=[],e.delegate=null,e}return o(e,t),e.prototype.start=function(){for(var t=0,e=this.lineBtners.children;t<e.length;t++){var n=e[t].getComponent(a.TPChooseLineItem);n.unSeclect(),this.listBtn.push(n)}for(var o=0,i=c.TPHandler.getInstance().accountInfo.lineString.split(",");o<i.length;o++){var s=i[o];void 0!=this.listBtn[+s-1]&&this.listBtn[+s-1].seclect()}},e.prototype.onEventClicked=function(t){c.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickAC,!1);for(var e=0,n=this.listBtn;e<n.length;e++){n[e].updateByMode(!0)}},e.prototype.onOldClicked=function(t){c.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickAC,!1);for(var e=0,n=this.listBtn;e<n.length;e++){n[e].updateByMode(!1)}},e.prototype.onAllClicked=function(t){c.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickAC,!1);for(var e=0,n=this.listBtn;e<n.length;e++){n[e].seclect()}},e.prototype.onUnSelectClicked=function(t){c.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickAC,!1);for(var e=0,n=this.listBtn;e<n.length;e++){n[e].unSeclect()}this.listBtn[0].seclect()},e.prototype.onCloseClicked=function(){c.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickAC,!1);for(var t="",e=0,n=0,o=this.listBtn;n<o.length;n++){var i=o[n];i.isActive&&(t+=""==t?i.lineId:","+i.lineId,e++)}0==e&&(e=1,t="1"),c.TPHandler.getInstance().accountInfo.lineString=t,c.TPHandler.getInstance().accountInfo.totalLine=e,this.delegate&&this.delegate.onCloseChooseLine(),this.node.destroy()},i([l(cc.Node)],e.prototype,"lineBtners",void 0),i([l({type:cc.AudioClip})],e.prototype,"clickAC",void 0),e=i([r],e)}(cc.Component);n.TPChooseLineDialog=u,cc._RF.pop()},{"./TPChooseLineItem":"TPChooseLineItem","./TPHandler":"TPHandler"}],TPChooseLineItem:[function(t,e,n){"use strict";cc._RF.push(e,"8a608NNMotJ9pwwaJL9Zgjl","TPChooseLineItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TPHandler"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isActive=!0,e.lineId=0,e.clickAC=null,e}return o(e,t),e.prototype.start=function(){},e.prototype.updateClicked=function(){var t=this.isActive;this.isActive=!t,this.isActive?this.node.color=cc.color(255,255,255):this.node.color=cc.color(100,100,100)},e.prototype.onClickButton=function(t,e){a.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickAC,!1),this.updateClicked()},e.prototype.unSeclect=function(){this.isActive=!1,this.node.color=cc.color(100,100,100)},e.prototype.seclect=function(){this.isActive=!0,this.node.color=cc.color(255,255,255)},e.prototype.updateByMode=function(t){this.isActive=!1,this.node.color=cc.color(100,100,100);var e=this.lineId%2;t&&0==e&&this.seclect(),t||1!=e||this.seclect()},i([r],e.prototype,"lineId",void 0),i([r({type:cc.AudioClip})],e.prototype,"clickAC",void 0),e=i([s],e)}(cc.Component);n.TPChooseLineItem=l,cc._RF.pop()},{"./TPHandler":"TPHandler"}],TPController:[function(t,e,n){"use strict";cc._RF.push(e,"cfbd1rASP1KPZLxn5yBekBB","TPController");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/Constants"),c=t("../../Common/Data/GameConfigs"),s=t("../../Common/Data/GameData"),r=t("../../Common/Data/LabelHelperConfigs"),l=t("../../Common/UI/Notification"),u=t("../../Common/UI/NumberRun"),p=t("../../Common/Utilities/Utility"),d=t("./TPChooseLineDialog"),h=t("./TPHandler"),f=t("./TPHelp"),_=t("./TPItem"),g=t("./TPModule"),m=t("./TPScroll"),y=t("./TPX2"),v=t("../../Common/Network/WsHandler"),b=t("./TPEffect"),C=t("../../scenemanager/scripts/SceneManager"),T=cc._decorator,I=T.ccclass,P=T.property,N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TIME_NO_PRIZE=.1,e.TIME_GOT_SPIN_RESULT=.5,e.TIME_GOT_WILD=3,e.TIME_GOT_JACKPOT=5,e.TIME_GOT_MEGAWIN=2,e.TIME_GOT_BIGWIN=2,e.TIME_DELAY_AUTO=1,e.SPIN_NORMAL=.6,e.SPIN_AUTO=.3,e.SPIN_FAST=.2,e.jackpotLabel=null,e.jackpotUsLabel=null,e.balanceLabel=null,e.totalLineLabel=null,e.totalBetLabel=null,e.sessionLabel=null,e.roomValueLabel=null,e.moneyWinLabel=null,e.winEffect=null,e.scrollerMasker=null,e.backButton=null,e.spinButton=null,e.autoSpinButton=null,e.stopAutoButton=null,e.fastSpinButton=null,e.stopFastButton=null,e.backRoomButton=null,e.nextRoomButton=null,e.x2Button1=null,e.chooseLineButton=null,e.tryButton=null,e.background=null,e.liners=null,e.chooseLinePrefab=null,e.helpPrefab=null,e.topjackpotPrefab=null,e.rankPrefab=null,e.historyPrefab=null,e.x2UI=null,e.bonusUI=null,e.notiPrefab=null,e.notiLobbyPrefab=null,e.uiFree=null,e.bgWin=null,e.winParticle=null,e.jackportFx=null,e.bigwinFx=null,e.megaFx=null,e.bonusFx=null,e.musicBackground=null,e.jackpotAC=null,e.bigwinAC=null,e.megaWinAC=null,e.moneyAC=null,e.clickButtonAC=null,e.clickAutoSpinAC=null,e.spinningAC=null,e.AutoMs=null,e.FastMs=null,e.wildAC=null,e.bonusAC=null,e.nodeSound=null,e.list_spr_try=[],e.listScrolls=[],e.listLine=[],e.gameState=g.TPModule.GAME_STATE.PREPARE,e.spinMode=g.TPModule.SPIN_MODE.NORMAL,e.curRoomId=1,e.totalBet=0,e.requestTime=0,e.autoTime=0,e.listRoomValue=[1e4,100,1e3,1e4],e.listItemSf=[],e.spinDone=!1,e.isWild=!1,e.moneyWinFX=0,e.isSpin=!1,e.intervalAuto=null,e.listEffects=[],e.listJackpots=[],e.language=null,e.showJP=!1,e}return o(e,t),e.prototype.onLoad=function(){h.TPHandler.getInstance().isTryMode=!1,this.curRoomId=1,this.language=r.TextData[s.default.getInstance().UserData.textPackage]},e.prototype.start=function(){h.TPHandler.getInstance().isSound?(cc.audioEngine.playMusic(this.musicBackground,!0),this.nodeSound.getChildByName("on").active=!0,this.nodeSound.getChildByName("off").active=!1):(this.nodeSound.getChildByName("on").active=!1,this.nodeSound.getChildByName("off").active=!0);for(var t=0,e=this.scrollerMasker.children;t<e.length;t++){var n=(l=e[t]).getComponent(m.TPScroll);this.listScrolls.push(n),4==n.scrollId&&(n.delegate=this)}for(var o=1;o<=25;o++){var i=this.liners.getChildByName(o+"");this.listLine.push(i),i.active=!0,i.opacity=0}var r=s.default.getInstance().UserData.balance;this.balanceLabel.string=p.Utility.getInstance().add_commas(r),this.updateLineDefault(),this.curRoomId=1,this.updateRoom(),this.x2UI.onStopX2Done=this.onPlayX2Done.bind(this),h.TPHandler.getInstance().onPushPlay=this.onPushPlay.bind(this),h.TPHandler.getInstance().onPushFinishBonus=this.onPlayBonusDone.bind(this),h.TPHandler.getInstance().onPushPlayBonus=this.onPushPlayBonus.bind(this),h.TPHandler.getInstance().onPushSpin=this.onPushSpin.bind(this),cc.systemEvent.on(a.default.EVENT_LOBBY.UPDATE_BALANCE,this.onUpdateGloabalBalance.bind(this),this),cc.systemEvent.on(a.default.EVENT_TaiPhu.EFFECT_WILD,this.checkIsWild.bind(this),this),h.TPHandler.getInstance().isTryMode&&(this.gameState=g.TPModule.GAME_STATE.PREPARE,this.chooseLineButton.interactable=!1,h.TPHandler.getInstance().demoInfo.balance=5e7,h.TPHandler.getInstance().demoInfo.jackpot=5e7,this.balanceLabel.string=p.Utility.getInstance().add_commas(5e7),this.jackpotLabel.string=p.Utility.getInstance().add_commas(5e7)),h.TPHandler.getInstance().onPushJackpot=this.onPushJackpot.bind(this),this.spinDone=!0;for(o=0;o<5;o++)for(var l=this.listScrolls[o],u=0;u<3;u++){var d=Math.floor(7*Math.random())+3;l.listItems[u].getComponent(_.TPItem).updateItemById(d)}var f=v.WsHandler.getInstance().listJPAll.filter(function(t){return t.name===c.GameConfigs.JPName.ThanTai})[0];null==f&&void 0==f||this.onPushJackpot(f.value.split(","))},e.prototype.checkIsWild=function(t){this.isWild=!0},e.prototype.onDestroy=function(){h.TPHandler.getInstance().clearCallback(),cc.systemEvent.targetOff(this),this.destroy()},e.prototype.update=function(t){this.gameState==g.TPModule.GAME_STATE.PREPARE&&(this.spinMode==g.TPModule.SPIN_MODE.AUTO||this.spinMode==g.TPModule.SPIN_MODE.FAST||this.isFreeNextTurn())&&(this.autoTime+=t,this.autoTime>=this.TIME_DELAY_AUTO&&(this.onSpinClicked(null),this.autoTime=0)),this.gameState==g.TPModule.GAME_STATE.REQUESTING&&(this.requestTime+=t,this.requestTime>30&&(this.requestTime=0,this.updateUIAfterPlay(),this.spinMode=g.TPModule.SPIN_MODE.NORMAL,this.autoSpinButton.node.active=!0,this.stopAutoButton.node.active=!1,this.fastSpinButton.node.active=!0,this.stopFastButton.node.active=!1,this.gameState=g.TPModule.GAME_STATE.PREPARE))},e.prototype.updateLineDefault=function(){var t=h.TPHandler.getInstance();t.accountInfo.totalLine=25,t.accountInfo.lineString="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25"},e.prototype.updateUIRequestPlay=function(){this.winEffect.targetValue=0,this.winEffect.node.active=!1,this.autoSpinButton.interactable=!1,this.fastSpinButton.interactable=!1,this.spinButton.interactable=!1,this.tryButton.interactable=!1,this.x2Button1.interactable=!1,this.backButton.interactable=!1,this.backRoomButton.interactable=!1,this.nextRoomButton.interactable=!1,this.chooseLineButton.interactable=!1,this.moneyWinLabel.string="",this.hideAllLine()},e.prototype.enableAllButtons=function(){this.stopAutoButton.node.active=!1,this.autoSpinButton.interactable=!0,this.spinButton.interactable=!0,this.tryButton.interactable=!0,this.chooseLineButton.interactable=!0,this.backButton.interactable=!0,h.TPHandler.getInstance().isTryMode||(this.backRoomButton.interactable=this.curRoomId>1,this.nextRoomButton.interactable=this.curRoomId<3),this.fastSpinButton.node.active=!0,this.stopFastButton.node.active=!1,this.fastSpinButton.interactable=!0,this.showJP=!1},e.prototype.updateUIAfterPlay=function(){this.winEffect.node.scale=1,this.spinMode==g.TPModule.SPIN_MODE.NORMAL&&(this.enableAllButtons(),this.isSpin=!1);var t=h.TPHandler.getInstance();t.spinInfo.totalPrize>0&&!t.isTryMode&&3!=t.accountInfo.gameStatus&&t.spinInfo.jackpotWinner<=0&&t.spinInfo.totalBet>0?this.x2Button1.interactable=!0:this.x2Button1.interactable=!1,t.isTryMode&&(this.x2Button1.interactable=!1,this.chooseLineButton.interactable=!1)},e.prototype.updateBalanceRequestPlay=function(){var t=h.TPHandler.getInstance();if(t.isTryMode){t.demoInfo.balance-=25e4;var e=t.demoInfo.balance;this.balanceLabel.string=p.Utility.getInstance().add_commas(e),this.jackpotLabel.string=p.Utility.getInstance().add_commas(t.demoInfo.jackpot)}else if(!this.isFreeTurn()){s.default.getInstance().UserData.balance-=this.totalBet;e=s.default.getInstance().UserData.balance;this.balanceLabel.string=p.Utility.getInstance().add_commas(e)}},e.prototype.updateBalanceAfterPlay=function(){h.TPHandler.getInstance().isTryMode?this.balanceLabel.string=p.Utility.getInstance().add_commas(h.TPHandler.getInstance().demoInfo.balance):(s.default.getInstance().UserData.balance=h.TPHandler.getInstance().spinInfo.balance,this.balanceLabel.string=p.Utility.getInstance().numberToCurrency(s.default.getInstance().UserData.balance.toString()))},e.prototype.isEnoughMoney=function(){return!(s.default.getInstance().UserData.balance<this.totalBet&&!h.TPHandler.getInstance().isTryMode)},e.prototype.requesPlay=function(){this.isWild=!1,this.spinDone=!1,this.hideMoneyFx(),this.isSpin=!0,h.TPHandler.getInstance().getRankEvent(),this.isFreeNextTurn()?this.gameState=g.TPModule.GAME_STATE.REQUESTING:this.isEnoughMoney()?(this.updateBalanceRequestPlay(),this.updateUIRequestPlay(),h.TPHandler.getInstance().play(this.curRoomId),this.gameState=g.TPModule.GAME_STATE.REQUESTING):(this.showNotMoney(),this.isSpin=!1,this.spinMode=g.TPModule.SPIN_MODE.NORMAL,this.autoSpinButton.node.active=!0,this.stopAutoButton.node.active=!1,this.enableAllButtons(),this.resetSpinTurn(),this.updateRoom())},e.prototype.resetSpinTurn=function(){for(var t=0,e=this.listScrolls;t<e.length;t++){e[t].resetScroll()}this.gameState==g.TPModule.GAME_STATE.HANDLE_RESULT&&(this.gameState=g.TPModule.GAME_STATE.PREPARE)},e.prototype.onRoomClicked=function(t,e){this.playEffect(this.clickButtonAC),this.isSpin||(this.backRoomButton.interactable=!0,this.nextRoomButton.interactable=!0,1==parseInt(e)?this.curRoomId++:this.curRoomId--,this.updateRoom(),this.winEffect.node.active=!1,this.bgWin.active=!1)},e.prototype.showLineWin=function(){var t=h.TPHandler.getInstance().spinInfo.listLineWin,e=(h.TPHandler.getInstance().spinInfo.listItemInLineWin,function(e){var o=1.5*+e;n.spinMode!=g.TPModule.SPIN_MODE.AUTO&&n.spinMode!=g.TPModule.SPIN_MODE.FAST||(o=0);var i=t[+e]-1,a=n.listLine[i];if(i>25)return{value:void 0};var c=cc.delayTime(o);a.runAction(cc.sequence(c,cc.callFunc(function(){a.opacity=255}),cc.delayTime(1.5),cc.callFunc(function(){a.opacity=0})))}),n=this;for(var o in t){var i=e(o);if("object"==typeof i)return i.value}},e.prototype.hideAllLine=function(){for(var t=0,e=this.listLine;t<e.length;t++){var n=e[t];n.stopAllActions(),n.opacity=0}},e.prototype.calculatorSpecialResult=function(){var t=this.TIME_GOT_SPIN_RESULT,e=h.TPHandler.getInstance(),n=0,o=h.TPHandler.getInstance().isTryMode?1e4:e.accountInfo.betValue,i=h.TPHandler.getInstance().accountInfo.totalLine;return h.TPHandler.getInstance().accountInfo.x2Event&&(t=this.TIME_GOT_WILD),e.spinInfo.jackpotWinner>0?(n=1,t=this.TIME_GOT_SPIN_RESULT):""!=e.spinInfo.bonusString?t=this.TIME_NO_PRIZE:e.spinInfo.totalPrize>=o*i*10?(n=2,t=this.TIME_GOT_MEGAWIN+.5):e.spinInfo.totalPrize>=o*i*5&&(n=3,t=this.TIME_GOT_BIGWIN+.5),0==e.spinInfo.totalPrize&&(t=this.TIME_NO_PRIZE),{timeDelay:t,type:n}},e.prototype.showSpecialResult=function(t,e){if(1==t)this.winEffect.node.active=!1,(n=cc.instantiate(this.jackportFx)).getComponent(b.default).money=this.moneyWinFX,this.node.addChild(n),this.playEffect(this.jackpotAC),this.moneyWinLabel.string=p.Utility.getInstance().add_commas(h.TPHandler.getInstance().spinInfo.totalPrize),this.showJP=!0,this.onStopAutoSpinClicked(null),this.onStopFastSpinClicked(null),n.runAction(cc.sequence(cc.delayTime(this.TIME_GOT_JACKPOT),cc.callFunc(e)));else if(2==t){this.winEffect.node.active=!1,(n=cc.instantiate(this.megaFx)).getComponent(b.default).money=this.moneyWinFX,this.node.addChild(n),this.playEffect(this.megaWinAC),this.moneyWinLabel.string=p.Utility.getInstance().add_commas(h.TPHandler.getInstance().spinInfo.totalPrize),n.runAction(cc.sequence(cc.delayTime(this.TIME_GOT_MEGAWIN),cc.callFunc(e)))}else if(3==t){var n;this.winEffect.node.active=!1,(n=cc.instantiate(this.bigwinFx)).getComponent(b.default).money=this.moneyWinFX,this.node.addChild(n),this.playEffect(this.bigwinAC),this.moneyWinLabel.string=p.Utility.getInstance().add_commas(h.TPHandler.getInstance().spinInfo.totalPrize),n.runAction(cc.sequence(cc.delayTime(this.TIME_GOT_BIGWIN),cc.callFunc(e)))}else e()},e.prototype.updateRoom=function(){var t=this;this.x2Button1.interactable=!1;for(var e=1;e<4;e++)this.background.getChildByName(e+"").active=!1;var n=h.TPHandler.getInstance().accountInfo.totalLine;if(h.TPHandler.getInstance().isTryMode)return n=h.TPHandler.getInstance().demoInfo.totalLine,this.background.getChildByName("3").active=!0,this.nextRoomButton.interactable=!1,this.backRoomButton.interactable=!1,this.totalBetLabel.string=p.Utility.getInstance().add_commas(25e4),this.roomValueLabel.string=p.Utility.getInstance().add_commas(1e4),this.totalLineLabel.string="25",this.sessionLabel.string="#--",this.moneyWinLabel.string="",void this.listScrolls.forEach(function(t){return t.updateSkin(3)});this.background.getChildByName(this.curRoomId+"").active=!0,this.curRoomId>=3&&(this.nextRoomButton.interactable=!1),this.curRoomId<=1&&(this.backRoomButton.interactable=!1),this.listScrolls.forEach(function(e){return e.updateSkin(t.curRoomId)}),h.TPHandler.getInstance().accountInfo.betValue=this.listRoomValue[this.curRoomId],this.totalBet=n*h.TPHandler.getInstance().accountInfo.betValue,this.totalBetLabel.string=p.Utility.getInstance().add_commas(this.totalBet),this.roomValueLabel.string=p.Utility.getInstance().add_commas(h.TPHandler.getInstance().accountInfo.betValue),this.totalLineLabel.string=n.toString(),this.sessionLabel.string="#--",this.moneyWinLabel.string="",this.listJackpots[this.curRoomId-1]&&(this.jackpotLabel.money=this.listJackpots[this.curRoomId-1])},e.prototype.updateWinFX=function(t){var e=h.TPHandler.getInstance().accountInfo.totalLine;this.totalBet=h.TPHandler.getInstance().isTryMode?1e4*e:e*h.TPHandler.getInstance().accountInfo.betValue,0==t||t>=5*this.totalBet||(this.winEffect.node.active=!0,this.winEffect.runNumber(t,!0),this.bgWin.active=!0,this.winParticle.node.active=!0,this.winParticle.resetSystem(),this.winParticle.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(this.hideMoneyFx.bind(this)))),this.playEffect(this.moneyAC))},e.prototype.hideMoneyFx=function(){this.stopAllEffects(),this.winEffect.node.active=!1,this.winParticle.node.active=!1,this.bgWin.active=!1,this.winParticle.resetSystem(),this.winParticle.stopSystem(),this.winParticle.node.stopAllActions()},e.prototype.isFreeTurn=function(){return h.TPHandler.getInstance().accountInfo.isFree},e.prototype.isFreeNextTurn=function(){var t=h.TPHandler.getInstance().accountInfo.freeNumber;return this.uiFree.active=t>0,t>0},e.prototype.onUpdateGloabalBalance=function(t){h.TPHandler.getInstance().isTryMode||(s.default.getInstance().UserData.balance=t,this.balanceLabel.string=p.Utility.getInstance().add_commas(s.default.getInstance().UserData.balance))},e.prototype.onPushJackpot=function(t){if(t){if(t[this.curRoomId-1]&&!h.TPHandler.getInstance().isTryMode){this.jackpotLabel.money=t[this.curRoomId-1];parseInt(t[this.curRoomId-1])}this.listJackpots=t}},e.prototype.onPlayDone=function(){h.TPHandler.getInstance();this.gameState=g.TPModule.GAME_STATE.HANDLE_RESULT,this.stopAllEffects(),this.executePlayDone()},e.prototype.executePlayDone=function(){var t=this,e=h.TPHandler.getInstance();this.moneyWinFX=e.spinInfo.totalPrize;var n=this.calculatorSpecialResult(),o=n.timeDelay,i=n.type,a=cc.delayTime(this.isWild?2.5:.1),c=cc.delayTime(o),s=cc.delayTime(i>0?1.5:0);this.showLineWin(),this.isWild&&this.playEffect(this.wildAC),this.node.runAction(cc.sequence(a,cc.callFunc(function(){0==i&&t.updateWinFX(e.spinInfo.totalPrize),t.showSpecialResult(i,function(){})}),c,cc.callFunc(function(){i>0&&t.updateWinFX(e.spinInfo.totalPrize)}),s,cc.callFunc(function(){""!=e.spinInfo.bonusString?t.onPushPlayBonus(!0):(t.moneyWinFX=0,t.moneyWinLabel.string=p.Utility.getInstance().add_commas(e.spinInfo.totalPrize),t.updateBalanceAfterPlay(),t.resetSpinTurn(),t.autoTime=0,t.spinDone=!0,0==e.spinInfo.totalPrize&&(t.autoTime=t.TIME_DELAY_AUTO),t.updateUIAfterPlay())})))},e.prototype.onPushPlayBonus=function(t){var e=this;this.gameState=g.TPModule.GAME_STATE.PLAYBONUS,this.playEffect(this.bonusAC);var n=cc.instantiate(this.bonusFx);this.node.addChild(n),this.node.runAction(cc.sequence(cc.delayTime(1.8),cc.callFunc(function(){e.bonusUI.active=!0,n.destroy(),n.removeFromParent()})))},e.prototype.onPushSpin=function(t){this.isSpin&&(this.spinMode==g.TPModule.SPIN_MODE.AUTO&&this.onAutoSpinClicked(null),this.spinMode==g.TPModule.SPIN_MODE.FAST&&this.onFastSpinClicked(null))},e.prototype.onPushPlay=function(t){var e=this;if(t>0){this.requestTime=0,this.gameState=g.TPModule.GAME_STATE.SPINING,h.TPHandler.getInstance().isTryMode?this.sessionLabel.string="#--":this.sessionLabel.string="#"+h.TPHandler.getInstance().spinInfo.spinId.toString(),this.hideAllLine();var n=this.spinMode==g.TPModule.SPIN_MODE.AUTO,o=this.spinMode==g.TPModule.SPIN_MODE.FAST;if(this.listScrolls){o&&this.playEffect(this.FastMs,!1),n?this.playEffect(this.AutoMs,!1):this.playEffect(this.spinningAC,!0);for(var i=0,a=this.listScrolls;i<a.length;i++){var c=a[i],s=this.spinMode==g.TPModule.SPIN_MODE.AUTO,r=this.spinMode==g.TPModule.SPIN_MODE.FAST;this.spinMode==g.TPModule.SPIN_MODE.FAST?c.setSpinFast(!0):c.setSpinFast(!1),r?c.startScroll(this.SPIN_FAST):c.startScroll(s?this.SPIN_AUTO:this.SPIN_NORMAL)}}}else-104==t&&(this.spinMode=g.TPModule.SPIN_MODE.NORMAL,this.autoSpinButton.node.active=!0,this.showNotMoney(),this.stopAutoButton.node.active=!1,this.enableAllButtons(),this.resetSpinTurn()),-102==t&&(this.showNoti("T\xe0i kho\u1ea3n b\u1ecb kh\xf3a",2),this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){e.gameState=g.TPModule.GAME_STATE.PREPARE,e.backButton.interactable=!0})))),-103==t?(this.showNoti("\u0110\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c ch\u01a1i game!",2),this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){e.gameState=g.TPModule.GAME_STATE.PREPARE,e.backButton.interactable=!0})))):this.showNoti(this.language.system_busy,2),this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){e.gameState=g.TPModule.GAME_STATE.PREPARE,e.backButton.interactable=!0})))},e.prototype.onCloseChooseLine=function(){this.updateRoom()},e.prototype.onPlayX2Done=function(){this.x2Button1.interactable=!1,this.x2UI.node.active=!1,this.balanceLabel.string=p.Utility.getInstance().add_commas(s.default.getInstance().UserData.balance);var t=h.TPHandler.getInstance().x2Info.winValue;this.moneyWinLabel.string=p.Utility.getInstance().add_commas(t),this.gameState=g.TPModule.GAME_STATE.PREPARE},e.prototype.onPlayBonusDone=function(){var t=this,e=h.TPHandler.getInstance(),n=e.bonusInfo.bonusPrize,o=n+e.spinInfo.totalPrize;h.TPHandler.getInstance().isSound&&cc.audioEngine.playMusic(this.musicBackground,!0),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.bonusUI.active=!1,t.showNoti("Ch\xfac m\u1eebng!B\u1ea1n th\u1eafng Bonus \n"+p.Utility.getInstance().add_commas(n),2)}),cc.delayTime(2),cc.callFunc(function(){h.TPHandler.getInstance().isTryMode||e.accountInfo.betValue;t.gameState=g.TPModule.GAME_STATE.PREPARE,t.resetSpinTurn(),t.autoTime=0,t.spinDone=!0,t.updateUIAfterPlay()})));var i=s.default.getInstance().UserData.balance;this.balanceLabel.string=p.Utility.getInstance().numberToCurrency(i),this.moneyWinLabel.string=p.Utility.getInstance().numberToCurrency(o)},e.prototype.onBackClicked=function(t){this.isFreeNextTurn()||this.gameState!=g.TPModule.GAME_STATE.PREPARE||(this.playEffect(this.clickButtonAC),cc.audioEngine.stopAll(),h.TPHandler.getInstance().clearCallback(),cc.systemEvent.targetOff(this),h.TPHandler.getInstance().close(),C.clientdev.SceneManager.Instance.LoadScene(c.GameConfigs.SceneName.Lobby,function(){}))},e.prototype.onSpinClicked=function(t){this.stopAllEffects(),this.playEffect(this.clickButtonAC),this.gameState==g.TPModule.GAME_STATE.PREPARE&&this.requesPlay()},e.prototype.onAutoSpinClicked=function(t){this.playEffect(this.clickAutoSpinAC),this.gameState==g.TPModule.GAME_STATE.PREPARE&&(this.autoSpinButton.node.active=!1,this.stopAutoButton.node.active=!0,this.spinMode=g.TPModule.SPIN_MODE.AUTO,this.requesPlay())},e.prototype.onStopAutoSpinClicked=function(t){var e=this;this.playEffect(this.clickButtonAC),this.isSpin=!1,this.autoSpinButton.node.active=!0,this.stopAutoButton.node.active=!1,this.spinMode=g.TPModule.SPIN_MODE.NORMAL,this.spinDone&&(this.showJP?this.node.runAction(cc.sequence(cc.delayTime(4),cc.callFunc(function(){e.enableAllButtons()}))):this.enableAllButtons())},e.prototype.onFastSpinClicked=function(t){this.playEffect(this.Audio_Maxspeep),this.gameState==g.TPModule.GAME_STATE.PREPARE&&(this.fastSpinButton.node.active=!1,this.stopFastButton.node.active=!0,this.spinMode=g.TPModule.SPIN_MODE.FAST,this.requesPlay())},e.prototype.onStopFastSpinClicked=function(t){var e=this;this.playEffect(this.clickButtonAC),this.isSpin=!1,this.fastSpinButton.node.active=!0,this.stopFastButton.node.active=!1,this.spinMode=g.TPModule.SPIN_MODE.NORMAL,this.spinDone&&(this.showJP?this.node.runAction(cc.sequence(cc.delayTime(4),cc.callFunc(function(){e.enableAllButtons()}))):this.enableAllButtons())},e.prototype.onX2Clicked=function(t){this.playEffect(this.clickButtonAC),this.gameState==g.TPModule.GAME_STATE.PREPARE&&(this.x2UI.node.active=!0,this.x2UI._start=!0,this.x2UI.resetTurn(),this.gameState=g.TPModule.GAME_STATE.PLAYX2)},e.prototype.onChooseLineClicked=function(t){this.playEffect(this.clickButtonAC);var e=cc.instantiate(this.chooseLinePrefab);e.getComponent(d.TPChooseLineDialog).delegate=this,cc.director.getScene().addChild(e,c.GameConfigs.zOderGame.POP_UP)},e.prototype.onTopClicked=function(t){this.playEffect(this.clickButtonAC);var e=cc.instantiate(this.topjackpotPrefab);cc.director.getScene().addChild(e,c.GameConfigs.zOderGame.POP_UP)},e.prototype.onRankClicked=function(t){this.playEffect(this.clickButtonAC);var e=cc.instantiate(this.rankPrefab);cc.director.getScene().addChild(e,c.GameConfigs.zOderGame.POP_UP)},e.prototype.onHistoryClicked=function(t){this.playEffect(this.clickButtonAC);var e=cc.instantiate(this.historyPrefab);cc.director.getScene().addChild(e,c.GameConfigs.zOderGame.POP_UP)},e.prototype.onHelpClicked=function(t){this.playEffect(this.clickButtonAC);var e=cc.instantiate(this.helpPrefab);cc.director.getScene().addChild(e,c.GameConfigs.zOderGame.POP_UP),e.getComponent(f.TPHelp).updateRoom(this.curRoomId),e.getComponent(f.TPHelp).updateJackpot(this.jackpotLabel.money)},e.prototype.onTryClicked=function(){if(this.gameState==g.TPModule.GAME_STATE.PREPARE)if(this.playEffect(this.clickButtonAC),h.TPHandler.getInstance().isTryMode=!h.TPHandler.getInstance().isTryMode,h.TPHandler.getInstance().isTryMode)h.TPHandler.getInstance().demoInfo.balance=5e7,h.TPHandler.getInstance().demoInfo.jackpot=5e7,this.balanceLabel.string=p.Utility.getInstance().add_commas(5e7),this.jackpotLabel.string=p.Utility.getInstance().add_commas(5e7),this.updateUIAfterPlay(),this.updateRoom(),this.tryButton.node.getChildByName("try").active=!1,this.tryButton.node.getComponent(cc.Sprite).spriteFrame=this.list_spr_try[1],this.tryButton.node.getChildByName("real").active=!0;else{if(this.chooseLineButton.interactable=!0,this.balanceLabel.string=p.Utility.getInstance().add_commas(s.default.getInstance().UserData.balance),this.listJackpots[this.curRoomId-1]){this.jackpotLabel.money=this.listJackpots[this.curRoomId-1];parseInt(this.listJackpots[this.curRoomId-1])}else this.jackpotLabel.money=0;this.updateUIAfterPlay(),this.updateRoom(),this.tryButton.node.getComponent(cc.Sprite).spriteFrame=this.list_spr_try[0],this.tryButton.node.getChildByName("try").active=!0,this.tryButton.node.getChildByName("real").active=!1}},e.prototype.onBtnEvent=function(t){},e.prototype.onSoundClick=function(){h.TPHandler.getInstance().isSound?(h.TPHandler.getInstance().isSound=!1,cc.audioEngine.stopAll(),this.nodeSound.getChildByName("on").active=!1,this.nodeSound.getChildByName("off").active=!0):(h.TPHandler.getInstance().isSound=!0,this.nodeSound.getChildByName("on").active=!0,this.nodeSound.getChildByName("off").active=!1,cc.audioEngine.playMusic(this.musicBackground,!0))},e.prototype.playEffect=function(t,e){void 0===e&&(e=!1),h.TPHandler.getInstance().isSound&&this.listEffects.push(cc.audioEngine.playEffect(t,e))},e.prototype.stopAllEffects=function(){this.listEffects.forEach(function(t){cc.audioEngine.stopEffect(t)})},e.prototype.showNoti=function(t,e){void 0===e&&(e=2);var n=cc.instantiate(this.notiLobbyPrefab);n.getComponent(l.default).setContent(t),n.getComponent(l.default).showDialog(e),cc.director.getScene().addChild(n,c.GameConfigs.zOderGame.POP_UP)},e.prototype.showNotMoney=function(){var t=cc.instantiate(this.notiLobbyPrefab);t.getComponent(l.default).setContent(this.language.no_enough_balance),t.getComponent(l.default).showNotMoney(),cc.director.getScene().addChild(t,c.GameConfigs.zOderGame.POP_UP)},i([P(u.default)],e.prototype,"jackpotLabel",void 0),i([P(u.default)],e.prototype,"jackpotUsLabel",void 0),i([P(cc.Label)],e.prototype,"balanceLabel",void 0),i([P(cc.Label)],e.prototype,"totalLineLabel",void 0),i([P(cc.Label)],e.prototype,"totalBetLabel",void 0),i([P(cc.Label)],e.prototype,"sessionLabel",void 0),i([P(cc.Label)],e.prototype,"roomValueLabel",void 0),i([P(cc.Label)],e.prototype,"moneyWinLabel",void 0),i([P(u.default)],e.prototype,"winEffect",void 0),i([P(cc.Node)],e.prototype,"scrollerMasker",void 0),i([P(cc.Button)],e.prototype,"backButton",void 0),i([P(cc.Button)],e.prototype,"spinButton",void 0),i([P(cc.Button)],e.prototype,"autoSpinButton",void 0),i([P(cc.Button)],e.prototype,"stopAutoButton",void 0),i([P(cc.Button)],e.prototype,"fastSpinButton",void 0),i([P(cc.Button)],e.prototype,"stopFastButton",void 0),i([P(cc.Button)],e.prototype,"backRoomButton",void 0),i([P(cc.Button)],e.prototype,"nextRoomButton",void 0),i([P(cc.Button)],e.prototype,"x2Button1",void 0),i([P(cc.Button)],e.prototype,"chooseLineButton",void 0),i([P(cc.Button)],e.prototype,"tryButton",void 0),i([P(cc.Node)],e.prototype,"background",void 0),i([P(cc.Node)],e.prototype,"liners",void 0),i([P(cc.Prefab)],e.prototype,"chooseLinePrefab",void 0),i([P(cc.Prefab)],e.prototype,"helpPrefab",void 0),i([P(cc.Prefab)],e.prototype,"topjackpotPrefab",void 0),i([P(cc.Prefab)],e.prototype,"rankPrefab",void 0),i([P(cc.Prefab)],e.prototype,"historyPrefab",void 0),i([P(y.TPX2)],e.prototype,"x2UI",void 0),i([P(cc.Node)],e.prototype,"bonusUI",void 0),i([P(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([P(cc.Prefab)],e.prototype,"notiLobbyPrefab",void 0),i([P(cc.Node)],e.prototype,"uiFree",void 0),i([P(cc.Node)],e.prototype,"bgWin",void 0),i([P(cc.ParticleSystem)],e.prototype,"winParticle",void 0),i([P(cc.Prefab)],e.prototype,"jackportFx",void 0),i([P(cc.Prefab)],e.prototype,"bigwinFx",void 0),i([P(cc.Prefab)],e.prototype,"megaFx",void 0),i([P(cc.Prefab)],e.prototype,"bonusFx",void 0),i([P({type:cc.AudioClip})],e.prototype,"musicBackground",void 0),i([P({type:cc.AudioClip})],e.prototype,"jackpotAC",void 0),i([P({type:cc.AudioClip})],e.prototype,"bigwinAC",void 0),i([P({type:cc.AudioClip})],e.prototype,"megaWinAC",void 0),i([P({type:cc.AudioClip})],e.prototype,"moneyAC",void 0),i([P({type:cc.AudioClip})],e.prototype,"clickButtonAC",void 0),i([P({type:cc.AudioClip})],e.prototype,"clickAutoSpinAC",void 0),i([P(cc.AudioClip)],e.prototype,"Audio_Maxspeep",void 0),i([P({type:cc.AudioClip})],e.prototype,"spinningAC",void 0),i([P({type:cc.AudioClip})],e.prototype,"AutoMs",void 0),i([P({type:cc.AudioClip})],e.prototype,"FastMs",void 0),i([P({type:cc.AudioClip})],e.prototype,"wildAC",void 0),i([P({type:cc.AudioClip})],e.prototype,"bonusAC",void 0),i([P(cc.Node)],e.prototype,"nodeSound",void 0),i([P(cc.SpriteFrame)],e.prototype,"list_spr_try",void 0),e=i([I],e)}(cc.Component);n.TPController=N,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/WsHandler":"WsHandler","../../Common/UI/Notification":"Notification","../../Common/UI/NumberRun":"NumberRun","../../Common/Utilities/Utility":"Utility","../../scenemanager/scripts/SceneManager":"SceneManager","./TPChooseLineDialog":"TPChooseLineDialog","./TPEffect":"TPEffect","./TPHandler":"TPHandler","./TPHelp":"TPHelp","./TPItem":"TPItem","./TPModule":"TPModule","./TPScroll":"TPScroll","./TPX2":"TPX2"}],TPEffect:[function(t,e,n){"use strict";cc._RF.push(e,"85d49peb/pCI6TGUoQ0tpaJ","TPEffect");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moneyRun=null,e.money=0,e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.moneyRun.runNumber(this.money,!0);var e=this.node.getChildByName("close");e&&e.on(cc.Node.EventType.TOUCH_START,function(){t.node.destroy(),t.node.removeFromParent()})},i([r(a.default)],e.prototype,"moneyRun",void 0),e=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../Common/UI/NumberRun":"NumberRun"}],TPHandler:[function(t,e,n){"use strict";cc._RF.push(e,"ede72HiHlpDT4kZMN+mqmQB","TPHandler"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./TPModule"),i=t("../../Common/Data/GameData"),a=t("../../Common/Utilities/Utility"),c=t("../../Common/Network/WsHandler"),s=t("../../Common/Data/GameConfigs"),r=cc._decorator,l=r.ccclass,u=(r.property,function(){function t(){this.onPushPlay=function(t){},this.onPushAccountInfo=function(t){},this.onPushAccountInfoDemo=function(t){},this.onPushJoinRoom=function(t){},this.onPushPlayX2=function(t){},this.onPushPlayBonus=function(t){},this.onPushFinishX2=function(t){},this.onPushFinishBonus=function(t){},this.onPushTopJackpot=function(t){},this.onPushRank=function(t){},this.onPushHistory=function(t){},this.onPushJackpot=function(t){},this.onPushRankEvent=function(t){},this.onPushSpin=function(t){},this.isConnect=!1,this.accountInfo=new o.TPModule.AccountInfo,this.spinInfo=new o.TPModule.SpinInfo,this.x2Info=new o.TPModule.X2Info,this.demoInfo=new o.TPModule.DemoInfo,this.bonusInfo=new o.TPModule.BonusInfo,this.isTryMode=!1,this.isSound=!0,this.listJackpot=[],this.listHonor=[],this.listHistory=[],this.listJackpotHistory=[],this.listBonus=[],this.listSpinTry=[]}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e,this.Instance.initStart()),this.Instance},t.prototype.initStart=function(){cc.systemEvent.on(s.GameConfigs.WSGameName.ThanTai,this.init.bind(this),this),cc.systemEvent.on(s.GameConfigs.JPName.ThanTai,this.parseJackpot.bind(this),this),this.initSpinTry()},t.prototype.parseJackpot=function(t){this.isConnect&&this.onPushJackpot(t)},t.prototype.init=function(t){var e=null,n=null;if(null==t||"account_info"!=t.cmd){if(null!=t&&t.hasOwnProperty("s_data")&&(e=t.cmd,n=t.s_data),null!=n&&null!=e)switch(e){case"s_push_jackpot":break;case"s_spin_game":this.parseSpin(n);break;case"s_x2_play":this.parsePlayX2(n);break;case"s_x2_finish":this.onPushFinishX2(!0);break;case"s_finish_bonus":this.parseFinishBonus(n);break;case"s_jackpot":this.parseJackpotHistory(n);break;case"s_honor":this.parseHonor(n);break;case"s_history":this.parseHistory(n);break;case"s_rank":this.parseRankEvent(n)}}else this.parseAccountInfo(t.message)},t.prototype.clearCallback=function(){this.onPushPlay=function(t){},this.onPushAccountInfo=function(t){},this.onPushAccountInfoDemo=function(t){},this.onPushJoinRoom=function(t){},this.onPushPlayX2=function(t){},this.onPushPlayBonus=function(t){},this.onPushFinishX2=function(t){},this.onPushFinishBonus=function(t){},this.onPushTopJackpot=function(t){},this.onPushRank=function(t){},this.onPushHistory=function(t){},this.onPushJackpot=function(t){},this.onPushRankEvent=function(t){}},t.prototype.connect=function(){c.WsHandler.getInstance().joinGame(s.GameConfigs.WSGameName.ThanTai),this.isConnect=!0},t.prototype.close=function(){c.WsHandler.getInstance().leaveGame(s.GameConfigs.WSGameName.ThanTai),this.isConnect=!1},t.prototype.play=function(t){if(this.isTryMode){var e=this.getRandomSpinTry();this.parseSpin(e)}else{var n='{"room_id":'+t+',"line_string":"'+this.accountInfo.lineString+'"}';this.callWS("spin_game",n)}},t.prototype.playX2=function(){this.callWS("x2_play","0")},t.prototype.finishBonus=function(){this.callWS("finish_bonus","0")},t.prototype.finishX2=function(){this.callWS("x2_finish","0")},t.prototype.getTopJackpot=function(){this.callWS("jackpot","0")},t.prototype.getRank=function(){this.callWS("honor","0")},t.prototype.getHistory=function(){this.callWS("history","0")},t.prototype.getRankEvent=function(){},t.prototype.getAccumulate=function(){this.callWS("get_accumulate","0")},t.prototype.callWS=function(t,e){var n='{"cmd":"'+t+'","c_data":'+e+"}";c.WsHandler.getInstance().playGame(s.GameConfigs.WSGameName.ThanTai,n)},t.prototype.parseRankEvent=function(t){void 0!=t&&null!=t?(this.accountInfo.rankEvent=t.rank,this.onPushRankEvent(!0)):this.onPushRankEvent(!1)},t.prototype.parseAccountInfo=function(t){if(void 0==t||null==t)return this.onPushAccountInfo(!1),void(this.accountInfo.isAready=!1);this.accountInfo.gameStatus=t.game_status,this.isTryMode=0==this.accountInfo.roomId,this.accountInfo.isAready=!0,2==this.accountInfo.gameStatus&&this.finishX2(),3==this.accountInfo.gameStatus&&this.finishBonus(),this.onPushAccountInfo(!0)},t.prototype.parseSpin=function(t){if(this.spinInfo.execResult=t.exec_result,this.spinInfo.execResult<0||t.game_status<0)this.onPushPlay(!1);else{if(this.spinInfo.slotData=[[]],this.spinInfo.listPrizeWin=[],this.spinInfo.listLineWin=[],this.spinInfo.listItemInLineWin=[[]],this.listBonus=[],this.spinInfo.spinId=t.spin_id,this.spinInfo.lineString=t.lineString,this.accountInfo.gameStatus=t.game_status,this.spinInfo.totalBet=t.total_bet,this.spinInfo.totalPrize=t.total_prize,this.spinInfo.jackpotWinner=t.jackpot_winner,this.x2Info.startBet=t.x2_start_value,this.spinInfo.balance=t.balance,this.spinInfo.bonusString=t.bonus_string,this.accountInfo.prevFreeNumber=this.accountInfo.freeNumber,this.accountInfo.pointEvent=t.count_event,this.accountInfo.x2Event=t.x2_event,this.isTryMode&&(t.jackpot_winner?(this.spinInfo.totalPrize=this.demoInfo.jackpot,this.demoInfo.balance+=this.demoInfo.jackpot,this.demoInfo.jackpot=5e7):(this.demoInfo.balance+=t.total_prize,this.demoInfo.jackpot+=2500)),t.slot_string){for(var e=0;e<5;e++){this.spinInfo.slotData.push([])}var n=t.slot_string.split(",");for(var o in n)this.spinInfo.slotData[+o%5].push(n[+o])}if(t.position_string)for(var i=0,a=n=t.position_string.split(";");i<a.length;i++){var c=a[i].split(",");this.spinInfo.listItemInLineWin.push(c)}if(t.prize_string)for(var s=0,r=n=t.prize_string.split(";");s<r.length;s++){c=r[s].split(",");this.spinInfo.listPrizeWin.push(c[c.length-1]),this.spinInfo.listLineWin.push(c[0])}""!=this.spinInfo.bonusString&&this.parsePlayBonus(this.spinInfo.bonusString),this.onPushPlay(!0)}},t.prototype.parsePlayX2=function(t){t.exec_result<0?this.finishX2():(this.x2Info.id=t.x2_spin_id,this.x2Info.step=t.step,this.x2Info.startBet=t.bet_value,this.x2Info.winValue=t.x2_prize,t.balance>0&&(i.default.getInstance().UserData.balance=t.balance),this.onPushPlayX2(!0))},t.prototype.parsePlayBonus=function(t){var e=t.split(";");this.bonusInfo.listStep=[],this.bonusInfo.listPrize=[],this.bonusInfo.totalStep=e.length-2;var n=0,o=e.length-2,i=e[e.length-1];(i=i.split(","))[2]&&(this.bonusInfo.xxx=parseInt(i[2]));for(var a=0;a<o;a++){var c=e[a].split(",");this.bonusInfo.listStep.push(c[0]),this.bonusInfo.listPrize.push(c[3]),n+=c[3]}this.bonusInfo.bonusPrize=n},t.prototype.parseFinishBonus=function(t){this.bonusInfo.bonusPrize=t.bonus_prize,i.default.getInstance().UserData.balance=t.balance,this.isTryMode&&(this.demoInfo.balance+=t.bonusPrizeValue),this.onPushFinishBonus(!0)},t.prototype.parseJackpotHistory=function(t){this.listJackpotHistory=[];for(var e=0;e<t.length;e++){var n="";1==t[e].room_id&&(n="100"),2==t[e].room_id&&(n="1.000"),3==t[e].room_id&&(n="10.000");var o={time:t[e].date_time,room:n,userName:t[e].nick_name,winValue:a.Utility.getInstance().numberToCurrency(t[e].prize_value)};this.listJackpotHistory.push(o)}this.onPushTopJackpot(!0)},t.prototype.parseHonor=function(t){this.listHonor=[];for(var e=0;e<t.length;e++){var n="";1==t[e].room_id&&(n="100"),2==t[e].room_id&&(n="1.000"),3==t[e].room_id&&(n="10.000");var o={rank:e+1,time:t[e].date_time,userName:t[e].nick_name,roomid:n,winValue:a.Utility.getInstance().add_commas(t[e].prize_value),details:t[e].top_type};this.listHonor.push(o)}this.onPushRank(!0)},t.prototype.parseHistory=function(t){this.listHistory=[];for(var e=0;e<t.length;e++){var n="";1==t[e].room_id&&(n="100"),2==t[e].room_id&&(n="1.000"),3==t[e].room_id&&(n="10.000");var o="";o=t[e].total_bet>t[e].total_prize?"Thua":t[e].total_bet==t[e].total_prize?"H\xf2a":"Th\u1eafng";var i={session:t[e].spin_id,time:t[e].date_time,room:n,totalBet:a.Utility.getInstance().add_commas(t[e].total_bet),winValue:a.Utility.getInstance().add_commas(t[e].total_prize),result:o};this.listHistory.push(i)}this.onPushHistory(!0)},t.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},t.prototype.initSpinTry=function(){this.listSpinTry=[{game_status:0,spin_id:0,slot_string:"8,3,3,3,6,3,5,2,10,3,7,8,5,5,4",prize_string:"6,22,300000",bonus_string:"",position_string:"6,2,3,4,10",total_bet:25e4,total_prize:0,jackpot_winner:1,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"3,9,5,10,3,7,3,3,3,9,8,8,10,9,8",prize_string:"12,22,300000",bonus_string:"",position_string:"1,7,8,9,5",total_bet:25e4,total_prize:0,jackpot_winner:1,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,9,8,9,10,7,3,6,3,9,3,7,3,10,3",prize_string:"15,22,300000",bonus_string:"",position_string:"11,7,13,9,15",total_bet:25e4,total_prize:0,jackpot_winner:1,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,8,6,9,6,3,3,3,3,3,9,5,8,10,4",prize_string:"1,22,300000",bonus_string:"",position_string:"6,7,8,9,10",total_bet:25e4,total_prize:0,jackpot_winner:1,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"3,3,4,10,9,7,9,3,10,8,9,10,2,3,3",prize_string:"8,22,300000",bonus_string:"",position_string:"1,2,8,14,15",total_bet:25e4,total_prize:0,jackpot_winner:1,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,1,9,3,10,10,9,1,7,9,6,10,8,8,6",prize_string:"1,24,50000;2,15,50000;3,12,100000;4,12,100000;5,14,300000;6,24,50000;7,24,50000;8,15,50000;9,12,100000;10,24,50000;11,24,50000;12,14,300000;13,12,100000;14,14,300000;15,12,100000;16,24,50000;17,24,50000;18,15,50000;19,12,100000;20,15,50000;21,12,100000;22,24,50000;23,24,50000;24,15,50000;25,12,100000",bonus_string:"",position_string:"6,7,8;1,2,3;11,12,13;11,7,3;1,7,13,9;6,2,3;6,12,13;1,2,8;11,12,8;6,12,8;6,2,8;1,7,8,9;11,7,8;1,7,3,9;11,7,13;6,7,3;6,7,13;1,2,13;11,12,3;1,12,13;11,2,3;6,2,13;6,12,3;1,12,3;11,2,13",total_bet:25e4,total_prize:24e5,x2_start_value:24e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,9,8,6,6,7,1,9,7,10,8,10,1,10,4",prize_string:"1,14,300000;2,24,50000;3,18,50000;4,18,50000;5,24,50000;6,15,50000;7,15,50000;8,23,100000;9,18,50000;10,15,50000;11,15,50000;12,24,50000;13,18,50000;14,24,50000;15,18,50000;16,14,300000;17,14,300000;18,24,50000;19,18,50000;20,23,100000;21,18,50000;22,15,50000;23,15,50000;24,23,100000;25,18,50000",bonus_string:"",position_string:"6,7,8,9;1,2,3;11,12,13;11,7,3;1,7,13;6,2,3;6,12,13;1,2,8,14;11,12,8;6,12,8;6,2,8;1,7,8;11,7,8;1,7,3;11,7,13;6,7,3,9;6,7,13,9;1,2,13;11,12,3;1,12,13,14;11,2,3;6,2,13;6,12,3;1,12,3,14;11,2,13",total_bet:25e4,total_prize:215e4,x2_start_value:215e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"6,6,7,10,9,3,3,3,3,6,8,4,7,5,10",prize_string:"1,2,2000000",bonus_string:"",position_string:"6,7,8,9",total_bet:25e4,total_prize:2e6,x2_start_value:2e6,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"6,10,6,1,10,9,9,10,9,9,8,1,8,10,8",prize_string:"2,11,400000;3,16,550000;14,11,400000;15,16,550000;24,11,400000;25,16,550000",bonus_string:"",position_string:"1,2,3,4;11,12,13,14,15;1,7,3,9;11,7,13,9,15;1,12,3,14;11,2,13,4,15",total_bet:25e4,total_prize:285e4,x2_start_value:285e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,1,1,10,5,4,9,8,3,7,8,10,9,5,2",prize_string:"1,6,150000;2,15,50000;3,18,50000;4,18,50000;5,15,50000;6,6,150000;7,6,150000;8,15,50000;9,18,50000;10,6,150000;11,6,150000;12,15,50000;13,18,50000;14,15,50000;15,18,50000;16,6,150000;17,6,150000;18,15,50000;19,18,50000;20,15,50000;21,18,50000;22,6,150000;23,6,150000;24,15,50000;25,18,50000",bonus_string:"",position_string:"6,7,8;1,2,3;11,12,13;11,7,3;1,7,13;6,2,3;6,12,13;1,2,8;11,12,8;6,12,8;6,2,8;1,7,8;11,7,8;1,7,3;11,7,13;6,7,3;6,7,13;1,2,13;11,12,3;1,12,13;11,2,3;6,2,13;6,12,3;1,12,3;11,2,13",total_bet:25e4,total_prize:215e4,x2_start_value:215e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,9,9,8,3,10,1,1,2,8,6,10,8,6,5",prize_string:"1,24,50000;2,21,50000;3,11,400000;4,12,100000;5,21,50000;6,24,50000;7,24,50000;8,21,50000;9,12,100000;10,24,50000;11,24,50000;12,21,50000;13,12,100000;14,21,50000;15,12,100000;16,24,50000;17,24,50000;18,21,50000;19,11,400000;20,21,50000;21,12,100000;22,24,50000;23,24,50000;24,21,50000;25,12,100000",bonus_string:"",position_string:"6,7,8;1,2,3;11,12,13,14;11,7,3;1,7,13;6,2,3;6,12,13;1,2,8;11,12,8;6,12,8;6,2,8;1,7,8;11,7,8;1,7,3;11,7,13;6,7,3;6,7,13;1,2,13;11,12,3,14;1,12,13;11,2,3;6,2,13;6,12,3;1,12,3;11,2,13",total_bet:25e4,total_prize:225e4,x2_start_value:225e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"6,1,8,5,9,9,10,9,8,8,8,9,1,3,10",prize_string:"1,21,50000;2,12,100000;3,18,50000;4,17,250000;5,12,100000;6,21,50000;7,21,50000;8,12,100000;9,18,50000;10,21,50000;11,21,50000;12,12,100000;13,17,250000;14,12,100000;15,17,250000;16,21,50000;17,21,50000;18,12,100000;19,18,50000;20,12,100000;21,18,50000;22,21,50000;23,21,50000;24,12,100000;25,18,50000",bonus_string:"",position_string:"6,7,8;1,2,3;11,12,13;11,7,3,9;1,7,13;6,2,3;6,12,13;1,2,8;11,12,8;6,12,8;6,2,8;1,7,8;11,7,8,9;1,7,3;11,7,13,9;6,7,3;6,7,13;1,2,13;11,12,3;1,12,13;11,2,3;6,2,13;6,12,3;1,12,3;11,2,13",total_bet:25e4,total_prize:225e4,x2_start_value:225e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,1,8,9,4,10,10,9,10,3,6,9,1,1,8",prize_string:"1,23,100000;2,20,150000;3,11,400000;4,11,400000;5,20,150000;6,23,100000;7,23,100000;8,20,150000;9,11,400000;10,23,100000;11,23,100000;12,20,150000;13,11,400000;14,20,150000;15,11,400000;16,23,100000;17,23,100000;18,20,150000;19,11,400000;20,20,150000;21,11,400000;22,23,100000;23,23,100000;24,20,150000;25,11,400000",bonus_string:"",position_string:"6,7,8,9;1,2,3,4;11,12,13,14;11,7,3,9;1,7,13,9;6,2,3,4;6,12,13,14;1,2,8,14;11,12,8,4;6,12,8,4;6,2,8,14;1,7,8,9;11,7,8,9;1,7,3,9;11,7,13,9;6,7,3,9;6,7,13,9;1,2,13,4;11,12,3,14;1,12,13,14;11,2,3,4;6,2,13,4;6,12,3,14;1,12,3,14;11,2,13,4",total_bet:25e4,total_prize:53e5,x2_start_value:53e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,2,9,10,9,8,4,1,1,10,3,6,8,9,10",prize_string:"5,5,1000000;12,5,1000000;14,5,1000000",bonus_string:"",position_string:"1,7,13,9;1,7,8,9;1,7,3,9",total_bet:25e4,total_prize:3e6,x2_start_value:3e6,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"6,2,8,9,8,7,4,9,10,10,4,6,1,1,3",prize_string:"4,5,1000000;13,5,1000000;15,5,1000000;20,11,400000;24,11,400000",bonus_string:"",position_string:"11,7,3,9;11,7,8,9;11,7,13,9;1,12,13,14;1,12,3,14",total_bet:25e4,total_prize:38e5,x2_start_value:38e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,1,1,10,7,4,9,8,6,2,3,10,9,7,9",prize_string:"1,6,150000;2,9,100000;5,9,100000;6,6,150000;7,6,150000;8,9,100000;10,6,150000;11,6,150000;12,9,100000;14,9,100000;16,6,150000;17,6,150000;18,9,100000;20,9,100000;22,6,150000;23,6,150000;24,9,100000",bonus_string:"",position_string:"6,7,8;1,2,3;1,7,13;6,2,3;6,12,13;1,2,8;6,12,8;6,2,8;1,7,8;1,7,3;6,7,3;6,7,13;1,2,13;1,12,13;6,2,13;6,12,3;1,12,3",total_bet:25e4,total_prize:215e4,x2_start_value:215e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,1,1,6,9,3,9,8,7,8,10,10,9,10,10",prize_string:"2,6,150000;3,22,300000;4,24,50000;5,6,150000;8,6,150000;9,24,50000;12,6,150000;13,24,50000;14,6,150000;15,24,50000;18,6,150000;19,22,300000;20,6,150000;21,24,50000;24,6,150000;25,24,50000",bonus_string:"",position_string:"1,2,3;11,12,13,14,15;11,7,3;1,7,13;1,2,8;11,12,8;1,7,8;11,7,8;1,7,3;11,7,13;1,2,13;11,12,3,14,15;1,12,13;11,2,3;1,12,3;11,2,13",total_bet:25e4,total_prize:21e5,x2_start_value:21e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,10,1,6,9,7,1,8,7,10,8,9,9,10,10",prize_string:"1,14,300000;2,24,50000;3,18,50000;4,18,50000;5,24,50000;6,15,50000;7,15,50000;8,22,300000;9,18,50000;10,15,50000;11,15,50000;12,24,50000;13,18,50000;14,24,50000;15,18,50000;16,14,300000;17,14,300000;18,24,50000;19,18,50000;20,23,100000;21,18,50000;22,15,50000;23,15,50000;24,23,100000;25,18,50000",bonus_string:"",position_string:"6,7,8,9;1,2,3;11,12,13;11,7,3;1,7,13;6,2,3;6,12,13;1,2,8,14,15;11,12,8;6,12,8;6,2,8;1,7,8;11,7,8;1,7,3;11,7,13;6,7,3,9;6,7,13,9;1,2,13;11,12,3;1,12,13,14;11,2,3;6,2,13;6,12,3;1,12,3,14;11,2,13",total_bet:25e4,total_prize:235e4,x2_start_value:235e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,9,1,7,7,10,10,8,10,2,6,1,9,3,9",prize_string:"1,23,100000;2,13,700000;3,12,100000;4,12,100000;5,15,50000;6,24,50000;7,24,50000;8,15,50000;9,12,100000;10,24,50000;11,24,50000;12,15,50000;13,12,100000;14,15,50000;15,12,100000;16,23,100000;17,23,100000;18,13,700000;19,12,100000;20,15,50000;21,12,100000;22,24,50000;23,24,50000;24,15,50000;25,12,100000",bonus_string:"",position_string:"6,7,8,9;1,2,3,4,5;11,12,13;11,7,3;1,7,13;6,2,3;6,12,13;1,2,8;11,12,8;6,12,8;6,2,8;1,7,8;11,7,8;1,7,3;11,7,13;6,7,3,9;6,7,13,9;1,2,13,4,5;11,12,3;1,12,13;11,2,3;6,2,13;6,12,3;1,12,3;11,2,13",total_bet:25e4,total_prize:31e5,x2_start_value:31e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,1,8,8,8,6,9,9,2,10,7,10,1,6,3",prize_string:"1,12,100000;2,9,100000;3,15,50000;4,15,50000;5,9,100000;6,12,100000;7,11,400000;8,9,100000;9,15,50000;10,12,100000;11,11,400000;12,9,100000;13,15,50000;14,9,100000;15,15,50000;16,12,100000;17,12,100000;18,9,100000;19,15,50000;20,9,100000;21,15,50000;22,12,100000;23,11,400000;24,9,100000;25,15,50000",bonus_string:"",position_string:"6,7,8;1,2,3;11,12,13;11,7,3;1,7,13;6,2,3;6,12,13,14;1,2,8;11,12,8;6,12,8;6,2,8,14;1,7,8;11,7,8;1,7,3;11,7,13;6,7,3;6,7,13;1,2,13;11,12,3;1,12,13;11,2,3;6,2,13;6,12,3,14;1,12,3;11,2,13",total_bet:25e4,total_prize:3e6,x2_start_value:3e6,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"3,1,1,8,3,8,9,8,2,8,9,10,9,6,5",prize_string:"1,18,50000;3,21,50000;4,21,50000;6,16,550000;7,18,50000;9,21,50000;10,16,550000;11,18,50000;13,21,50000;15,21,50000;16,18,50000;17,18,50000;19,21,50000;21,21,50000;22,16,550000;23,18,50000;25,21,50000",bonus_string:"",position_string:"6,7,8;11,12,13;11,7,3;6,2,3,4,10;6,12,13;11,12,8;6,12,8,4,10;6,2,8;11,7,8;11,7,13;6,7,3;6,7,13;11,12,3;11,2,3;6,2,13,4,10;6,12,3;11,2,13",total_bet:25e4,total_prize:235e4,x2_start_value:235e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,9,1,7,9,4,1,8,10,10,8,10,9,3,10",prize_string:"1,6,150000;2,14,300000;3,18,50000;4,18,50000;5,15,50000;6,6,150000;7,6,150000;8,15,50000;9,18,50000;10,6,150000;11,6,150000;12,15,50000;13,18,50000;14,15,50000;15,18,50000;16,6,150000;17,6,150000;18,14,300000;19,18,50000;20,15,50000;21,18,50000;22,6,150000;23,6,150000;24,15,50000;25,18,50000",bonus_string:"",position_string:"6,7,8;1,2,3,4;11,12,13;11,7,3;1,7,13;6,2,3;6,12,13;1,2,8;11,12,8;6,12,8;6,2,8;1,7,8;11,7,8;1,7,3;11,7,13;6,7,3;6,7,13;1,2,13,4;11,12,3;1,12,13;11,2,3;6,2,13;6,12,3;1,12,3;11,2,13",total_bet:25e4,total_prize:265e4,x2_start_value:265e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,9,8,8,2,5,1,9,2,9,6,10,1,6,10",prize_string:"1,9,100000;2,6,150000;3,11,400000;4,12,100000;5,6,150000;6,9,100000;7,9,100000;8,6,150000;9,12,100000;10,9,100000;11,9,100000;12,6,150000;13,12,100000;14,6,150000;15,12,100000;16,9,100000;17,9,100000;18,6,150000;19,11,400000;20,6,150000;21,12,100000;22,9,100000;23,9,100000;24,6,150000;25,12,100000",bonus_string:"",position_string:"6,7,8;1,2,3;11,12,13,14;11,7,3;1,7,13;6,2,3;6,12,13;1,2,8;11,12,8;6,12,8;6,2,8;1,7,8;11,7,8;1,7,3;11,7,13;6,7,3;6,7,13;1,2,13;11,12,3,14;1,12,13;11,2,3;6,2,13;6,12,3;1,12,3;11,2,13",total_bet:25e4,total_prize:35e5,x2_start_value:35e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,4,1,1,3,4,6,8,9,8,3,5,9,10,5",prize_string:"6,5,1000000;11,5,1000000;20,8,550000;22,5,1000000;24,8,550000",bonus_string:"",position_string:"6,2,3,4;6,2,8,14;1,12,13,14;6,2,13,4;1,12,3,14",total_bet:25e4,total_prize:41e5,x2_start_value:41e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,5,9,3,3,3,9,3,7,8,10,3,5,8,5",prize_string:"10,2,2000000",bonus_string:"",position_string:"6,12,8,4",total_bet:25e4,total_prize:2e6,x2_start_value:2e6,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,1,9,1,7,9,10,1,9,2,5,9,8,10,9",prize_string:"1,20,150000;2,23,100000;3,8,550000;4,8,550000;5,23,100000;6,20,150000;7,20,150000;8,23,100000;9,8,550000;10,20,150000;11,20,150000;12,23,100000;13,8,550000;14,23,100000;15,8,550000;16,20,150000;17,20,150000;18,23,100000;19,8,550000;20,23,100000;21,8,550000;22,20,150000;23,20,150000;24,23,100000;25,8,550000",bonus_string:"",position_string:"6,7,8,9;1,2,3,4;11,12,13,14;11,7,3,9;1,7,13,9;6,2,3,4;6,12,13,14;1,2,8,14;11,12,8,4;6,12,8,4;6,2,8,14;1,7,8,9;11,7,8,9;1,7,3,9;11,7,13,9;6,7,3,9;6,7,13,9;1,2,13,4;11,12,3,14;1,12,13,14;11,2,3,4;6,2,13,4;6,12,3,14;1,12,3,14;11,2,13,4",total_bet:25e4,total_prize:655e4,x2_start_value:655e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,1,3,1,9,5,9,5,9,8,6,10,6,10,10",prize_string:"1,8,550000;3,11,400000;10,8,550000;11,8,550000;15,11,400000;25,11,400000",bonus_string:"",position_string:"6,7,8,9;11,12,13,14;6,12,8,4;6,2,8,14;11,7,13,9;11,2,13,4",total_bet:25e4,total_prize:285e4,x2_start_value:285e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,10,1,4,10,5,1,8,9,10,4,9,9,10,9",prize_string:"1,9,100000;2,21,50000;3,6,150000;4,6,150000;5,20,150000;6,9,100000;7,9,100000;8,21,50000;9,5,1000000;10,9,100000;11,9,100000;12,20,150000;13,6,150000;14,20,150000;15,6,150000;16,9,100000;17,9,100000;18,21,50000;19,6,150000;20,21,50000;21,5,1000000;22,9,100000;23,9,100000;24,21,50000;25,5,1000000",bonus_string:"",position_string:"6,7,8;1,2,3;11,12,13;11,7,3;1,7,13,9;6,2,3;6,12,13;1,2,8;11,12,8,4;6,12,8;6,2,8;1,7,8,9;11,7,8;1,7,3,9;11,7,13;6,7,3;6,7,13;1,2,13;11,12,3;1,12,13;11,2,3,4;6,2,13;6,12,3;1,12,3;11,2,13,4",total_bet:25e4,total_prize:535e4,x2_start_value:535e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,1,9,6,9,8,10,1,7,6,6,9,8,10,10",prize_string:"1,18,50000;2,15,50000;3,12,100000;4,12,100000;5,14,300000;6,18,50000;7,18,50000;8,15,50000;9,11,400000;10,18,50000;11,18,50000;12,14,300000;13,12,100000;14,14,300000;15,12,100000;16,18,50000;17,18,50000;18,15,50000;19,12,100000;20,15,50000;21,11,400000;22,18,50000;23,18,50000;24,15,50000;25,11,400000",bonus_string:"",position_string:"6,7,8;1,2,3;11,12,13;11,7,3;1,7,13,9;6,2,3;6,12,13;1,2,8;11,12,8,4;6,12,8;6,2,8;1,7,8,9;11,7,8;1,7,3,9;11,7,13;6,7,3;6,7,13;1,2,13;11,12,3;1,12,13;11,2,3,4;6,2,13;6,12,3;1,12,3;11,2,13,4",total_bet:25e4,total_prize:33e5,x2_start_value:33e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,10,1,10,9,6,1,8,1,10,4,9,9,9,9",prize_string:"1,11,400000;2,17,250000;3,5,1000000;4,5,1000000;5,17,250000;6,11,400000;7,11,400000;8,17,250000;9,5,1000000;10,11,400000;11,11,400000;12,17,250000;13,5,1000000;14,17,250000;15,5,1000000;16,11,400000;17,11,400000;18,17,250000;19,5,1000000;20,17,250000;21,5,1000000;22,11,400000;23,11,400000;24,17,250000;25,5,1000000",bonus_string:"",position_string:"6,7,8,9;1,2,3,4;11,12,13,14;11,7,3,9;1,7,13,9;6,2,3,4;6,12,13,14;1,2,8,14;11,12,8,4;6,12,8,4;6,2,8,14;1,7,8,9;11,7,8,9;1,7,3,9;11,7,13,9;6,7,3,9;6,7,13,9;1,2,13,4;11,12,3,14;1,12,13,14;11,2,3,4;6,2,13,4;6,12,3,14;1,12,3,14;11,2,13,4",total_bet:25e4,total_prize:136e5,x2_start_value:136e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,10,9,4,9,9,1,1,9,10,10,9,8,10,10",prize_string:"1,20,150000;2,15,50000;3,22,300000;4,24,50000;5,15,50000;6,21,50000;7,21,50000;8,15,50000;9,24,50000;10,21,50000;11,21,50000;12,15,50000;13,24,50000;14,15,50000;15,24,50000;16,20,150000;17,20,150000;18,15,50000;19,22,300000;20,15,50000;21,24,50000;22,21,50000;23,21,50000;24,15,50000;25,24,50000",bonus_string:"",position_string:"6,7,8,9;1,2,3;11,12,13,14,15;11,7,3;1,7,13;6,2,3;6,12,13;1,2,8;11,12,8;6,12,8;6,2,8;1,7,8;11,7,8;1,7,3;11,7,13;6,7,3,9;6,7,13,9;1,2,13;11,12,3,14,15;1,12,13;11,2,3;6,2,13;6,12,3;1,12,3;11,2,13",total_bet:25e4,total_prize:205e4,x2_start_value:205e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,9,8,3,9,5,1,9,5,8,10,10,1,8,10",prize_string:"1,8,550000;2,21,50000;3,24,50000;4,24,50000;5,21,50000;6,9,100000;7,9,100000;8,21,50000;9,24,50000;10,9,100000;11,9,100000;12,21,50000;13,24,50000;14,21,50000;15,24,50000;16,8,550000;17,8,550000;18,21,50000;19,24,50000;20,21,50000;21,24,50000;22,9,100000;23,9,100000;24,21,50000;25,24,50000",bonus_string:"",position_string:"6,7,8,9;1,2,3;11,12,13;11,7,3;1,7,13;6,2,3;6,12,13;1,2,8;11,12,8;6,12,8;6,2,8;1,7,8;11,7,8;1,7,3;11,7,13;6,7,3,9;6,7,13,9;1,2,13;11,12,3;1,12,13;11,2,3;6,2,13;6,12,3;1,12,3;11,2,13",total_bet:25e4,total_prize:305e4,x2_start_value:305e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,10,9,6,10,6,1,1,7,9,7,9,8,10,8",prize_string:"1,12,100000;2,9,100000;3,15,50000;4,14,300000;5,9,100000;6,11,400000;7,12,100000;8,9,100000;9,15,50000;10,11,400000;11,12,100000;12,9,100000;13,14,300000;14,9,100000;15,14,300000;16,12,100000;17,12,100000;18,9,100000;19,15,50000;20,9,100000;21,15,50000;22,11,400000;23,12,100000;24,9,100000;25,15,50000",bonus_string:"",position_string:"6,7,8;1,2,3;11,12,13;11,7,3,9;1,7,13;6,2,3,4;6,12,13;1,2,8;11,12,8;6,12,8,4;6,2,8;1,7,8;11,7,8,9;1,7,3;11,7,13,9;6,7,3;6,7,13;1,2,13;11,12,3;1,12,13;11,2,3;6,2,13,4;6,12,3;1,12,3;11,2,13",total_bet:25e4,total_prize:375e4,x2_start_value:375e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,1,1,1,5,8,10,8,9,7,3,9,9,10,2",prize_string:"1,17,250000;2,5,1000000;5,5,1000000;6,17,250000;7,17,250000;8,5,1000000;10,17,250000;11,17,250000;12,5,1000000;14,5,1000000;16,17,250000;17,17,250000;18,5,1000000;20,5,1000000;22,17,250000;23,17,250000;24,5,1000000",bonus_string:"",position_string:"6,7,8,9;1,2,3,4;1,7,13,9;6,2,3,4;6,12,13,14;1,2,8,14;6,12,8,4;6,2,8,14;1,7,8,9;1,7,3,9;6,7,3,9;6,7,13,9;1,2,13,4;1,12,13,14;6,2,13,4;6,12,3,14;1,12,3,14",total_bet:25e4,total_prize:1025e4,x2_start_value:1025e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,9,8,4,8,8,10,9,9,10,6,1,1,10,3",prize_string:"1,18,50000;2,15,50000;3,12,100000;4,12,100000;5,15,50000;6,18,50000;7,18,50000;8,15,50000;9,12,100000;10,18,50000;11,18,50000;12,15,50000;13,12,100000;14,15,50000;15,12,100000;16,18,50000;17,18,50000;18,15,50000;19,12,100000;20,15,50000;21,12,100000;22,18,50000;23,18,50000;24,15,50000;25,12,100000",bonus_string:"",position_string:"6,7,8;1,2,3;11,12,13;11,7,3;1,7,13;6,2,3;6,12,13;1,2,8;11,12,8;6,12,8;6,2,8;1,7,8;11,7,8;1,7,3;11,7,13;6,7,3;6,7,13;1,2,13;11,12,3;1,12,13;11,2,3;6,2,13;6,12,3;1,12,3;11,2,13",total_bet:25e4,total_prize:165e4,x2_start_value:165e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"6,10,6,10,8,7,1,7,6,10,4,9,3,7,3",prize_string:"1,15,50000;2,12,100000;10,15,50000;11,14,300000;14,11,400000;24,12,100000",bonus_string:"",position_string:"6,7,8;1,2,3;6,12,8;6,2,8,14;1,7,3,9;1,12,3",total_bet:25e4,total_prize:1e6,x2_start_value:1e6,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,9,3,1,3,10,10,5,9,9,6,1,6,10,10",prize_string:"3,11,400000;15,11,400000;25,11,400000",bonus_string:"",position_string:"11,12,13,14;11,7,13,9;11,2,13,4",total_bet:25e4,total_prize:12e5,x2_start_value:12e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,7,8,1,3,10,6,9,9,8,6,3,1,10,5",prize_string:"4,11,400000;13,11,400000;15,11,400000",bonus_string:"",position_string:"11,7,3,9;11,7,8,9;11,7,13,9",total_bet:25e4,total_prize:12e5,x2_start_value:12e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,10,9,3,9,9,1,1,7,10,5,9,8,8,9",prize_string:"1,21,50000;2,24,50000;3,9,100000;4,9,100000;5,24,50000;6,21,50000;7,21,50000;8,24,50000;9,9,100000;10,21,50000;11,21,50000;12,24,50000;13,9,100000;14,24,50000;15,9,100000;16,21,50000;17,21,50000;18,24,50000;19,9,100000;20,24,50000;21,9,100000;22,21,50000;23,21,50000;24,24,50000;25,9,100000",bonus_string:"",position_string:"6,7,8;1,2,3;11,12,13;11,7,3;1,7,13;6,2,3;6,12,13;1,2,8;11,12,8;6,12,8;6,2,8;1,7,8;11,7,8;1,7,3;11,7,13;6,7,3;6,7,13;1,2,13;11,12,3;1,12,13;11,2,3;6,2,13;6,12,3;1,12,3;11,2,13",total_bet:25e4,total_prize:165e4,x2_start_value:165e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,8,8,9,7,5,5,9,10,2,6,9,1,1,9",prize_string:"1,8,550000;16,8,550000;17,8,550000",bonus_string:"",position_string:"6,7,8,9;6,7,3,9;6,7,13,9",total_bet:25e4,total_prize:165e4,x2_start_value:165e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,1,1,10,3,9,10,8,6,9,5,9,9,7,10",prize_string:"1,21,50000;2,23,100000;3,9,100000;4,9,100000;5,24,50000;6,21,50000;7,21,50000;8,24,50000;9,9,100000;10,21,50000;11,21,50000;12,24,50000;13,9,100000;14,24,50000;15,9,100000;16,21,50000;17,21,50000;18,23,100000;19,9,100000;20,24,50000;21,9,100000;22,21,50000;23,21,50000;24,24,50000;25,9,100000",bonus_string:"",position_string:"6,7,8;1,2,3,4;11,12,13;11,7,3;1,7,13;6,2,3;6,12,13;1,2,8;11,12,8;6,12,8;6,2,8;1,7,8;11,7,8;1,7,3;11,7,13;6,7,3;6,7,13;1,2,13,4;11,12,3;1,12,13;11,2,3;6,2,13;6,12,3;1,12,3;11,2,13",total_bet:25e4,total_prize:175e4,x2_start_value:175e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,9,8,10,9,10,10,9,1,10,7,8,1,9,9",prize_string:"1,22,300000;16,22,300000;17,22,300000;20,17,250000;24,17,250000",bonus_string:"",position_string:"6,7,8,9,10;6,7,3,9,10;6,7,13,9,10;1,12,13,14;1,12,3,14",total_bet:25e4,total_prize:14e5,x2_start_value:14e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,9,3,9,8,6,1,5,10,10,9,10,6,1,3",prize_string:"7,11,400000;17,11,400000;22,11,400000",bonus_string:"",position_string:"6,12,13,14;6,7,13,9;6,2,13,4",total_bet:25e4,total_prize:12e5,x2_start_value:12e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,9,8,9,10,8,3,9,10,10,6,6,1,1,9",prize_string:"3,11,400000;9,11,400000;19,11,400000",bonus_string:"",position_string:"11,12,13,14;11,12,8,4;11,12,3,14",total_bet:25e4,total_prize:12e5,x2_start_value:12e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,10,6,1,10,10,9,7,9,4,6,1,3,10,3",prize_string:"4,11,400000;19,11,400000;21,11,400000",bonus_string:"",position_string:"11,7,3,9;11,12,3,14;11,2,3,4",total_bet:25e4,total_prize:12e5,x2_start_value:12e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"3,9,1,8,10,10,1,8,3,9,7,10,9,7,8",prize_string:"1,24,50000;3,14,300000;4,15,50000;6,24,50000;7,24,50000;9,15,50000;10,24,50000;11,24,50000;13,15,50000;15,15,50000;16,24,50000;17,24,50000;19,14,300000;21,15,50000;22,24,50000;23,24,50000;25,15,50000",bonus_string:"",position_string:"6,7,8;11,12,13,14;11,7,3;6,2,3;6,12,13;11,12,8;6,12,8;6,2,8;11,7,8;11,7,13;6,7,3;6,7,13;11,12,3,14;11,2,3;6,2,13;6,12,3;11,2,13",total_bet:25e4,total_prize:135e4,x2_start_value:135e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"6,9,4,4,2,7,1,10,9,9,4,10,2,10,10",prize_string:"4,6,150000;19,6,150000;21,5,1000000",bonus_string:"",position_string:"11,7,3;11,12,3;11,2,3,4",total_bet:25e4,total_prize:13e5,x2_start_value:13e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"2,1,7,10,5,7,9,3,6,7,10,10,7,7,2",prize_string:"6,15,50000;7,13,700000;16,15,50000;17,15,50000;22,15,50000;23,13,700000",bonus_string:"",position_string:"6,2,3;6,12,13,14,10;6,7,3;6,7,13;6,2,13;6,12,3,14,10",total_bet:25e4,total_prize:16e5,x2_start_value:16e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,9,8,1,3,8,10,6,9,8,2,1,10,10,5",prize_string:"6,16,550000;16,16,550000;23,16,550000",bonus_string:"",position_string:"6,2,3,4,10;6,7,3,9,10;6,12,3,14,10",total_bet:25e4,total_prize:165e4,x2_start_value:165e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,9,10,1,10,9,1,8,9,9,5,10,9,10,6",prize_string:"7,19,400000;8,17,250000;12,17,250000;17,19,400000;22,19,400000",bonus_string:"",position_string:"6,12,13,14,10;1,2,8,14;1,7,8,9;6,7,13,9,10;6,2,13,4,10",total_bet:25e4,total_prize:17e5,x2_start_value:17e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"6,4,8,1,4,7,6,9,9,3,4,5,4,10,8",prize_string:"25,5,1000000",bonus_string:"",position_string:"11,2,13,4",total_bet:25e4,total_prize:1e6,x2_start_value:1e6,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,4,9,5,8,10,8,1,8,5,7,6,8,3,7",prize_string:"5,16,550000;12,16,550000;14,16,550000",bonus_string:"",position_string:"1,7,13,9,5;1,7,8,9,5;1,7,3,9,5",total_bet:25e4,total_prize:165e4,x2_start_value:165e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,9,8,10,6,7,10,9,1,10,9,9,1,9,4",prize_string:"3,20,150000;5,23,100000;9,20,150000;12,23,100000;14,23,100000;19,20,150000;21,20,150000;25,20,150000",bonus_string:"",position_string:"11,12,13,14;1,7,13,9;11,12,8,4;1,7,8,9;1,7,3,9;11,12,3,14;11,2,3,4;11,2,13,4",total_bet:25e4,total_prize:105e4,x2_start_value:105e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,7,1,10,10,5,6,8,6,9,6,3,9,7,8",prize_string:"4,11,400000;13,11,400000;15,11,400000",bonus_string:"",position_string:"11,7,3,9;11,7,8,9;11,7,13,9",total_bet:25e4,total_prize:12e5,x2_start_value:12e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,10,9,8,7,3,9,1,3,2,7,1,8,7,9",prize_string:"2,17,250000;3,14,300000;4,15,50000;5,18,50000;8,18,50000;9,15,50000;12,18,50000;13,15,50000;14,18,50000;15,15,50000;18,17,250000;19,14,300000;20,18,50000;21,15,50000;24,18,50000;25,15,50000",bonus_string:"",position_string:"1,2,3,4;11,12,13,14;11,7,3;1,7,13;1,2,8;11,12,8;1,7,8;11,7,8;1,7,3;11,7,13;1,2,13,4;11,12,3,14;1,12,13;11,2,3;1,12,3;11,2,13",total_bet:25e4,total_prize:17e5,x2_start_value:17e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,4,8,1,4,6,8,9,9,3,3,6,1,10,8",prize_string:"7,11,400000;10,11,400000;23,11,400000",bonus_string:"",position_string:"6,12,13,14;6,12,8,4;6,12,3,14",total_bet:25e4,total_prize:12e5,x2_start_value:12e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,1,7,10,8,5,10,8,1,10,6,9,6,9,3",prize_string:"3,11,400000;15,11,400000;25,11,400000",bonus_string:"",position_string:"11,12,13,14;11,7,13,9;11,2,13,4",total_bet:25e4,total_prize:12e5,x2_start_value:12e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,4,8,10,10,6,6,9,6,3,9,5,1,7,9",prize_string:"1,11,400000;16,11,400000;17,11,400000",bonus_string:"",position_string:"6,7,8,9;6,7,3,9;6,7,13,9",total_bet:25e4,total_prize:12e5,x2_start_value:12e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"6,7,1,1,4,3,6,8,9,3,8,3,9,10,8",prize_string:"5,11,400000;12,11,400000;14,11,400000",bonus_string:"",position_string:"1,7,13,9;1,7,8,9;1,7,3,9",total_bet:25e4,total_prize:12e5,x2_start_value:12e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"6,4,9,10,9,4,6,1,3,10,5,5,8,5,10",prize_string:"3,8,550000;5,12,100000;6,6,150000;9,9,100000;11,6,150000;12,12,100000;14,12,100000;19,8,550000;22,6,150000",bonus_string:"",position_string:"11,12,13,14;1,7,13;6,2,3;11,12,8;6,2,8;1,7,8;1,7,3;11,12,3,14;6,2,13",total_bet:25e4,total_prize:195e4,x2_start_value:195e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,2,1,10,10,6,4,8,1,9,3,6,9,9,6",prize_string:"7,11,400000;10,11,400000;23,11,400000",bonus_string:"",position_string:"6,12,13,14;6,12,8,4;6,12,3,14",total_bet:25e4,total_prize:12e5,x2_start_value:12e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,10,9,3,10,5,5,1,5,4,6,8,8,8,3",prize_string:"1,8,550000;16,8,550000;17,8,550000",bonus_string:"",position_string:"6,7,8,9;6,7,3,9;6,7,13,9",total_bet:25e4,total_prize:165e4,x2_start_value:165e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"2,9,9,3,4,7,1,1,7,3,10,10,8,8,8",prize_string:"1,14,300000;3,24,50000;4,24,50000;6,15,50000;7,15,50000;9,24,50000;10,15,50000;11,15,50000;13,24,50000;15,24,50000;16,14,300000;17,14,300000;19,24,50000;21,24,50000;22,15,50000;23,15,50000;25,24,50000",bonus_string:"",position_string:"6,7,8,9;11,12,13;11,7,3;6,2,3;6,12,13;11,12,8;6,12,8;6,2,8;11,7,8;11,7,13;6,7,3,9;6,7,13,9;11,12,3;11,2,3;6,2,13;6,12,3;11,2,13",total_bet:25e4,total_prize:16e5,x2_start_value:16e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,7,1,10,3,9,8,8,1,9,5,5,9,9,10",prize_string:"3,8,550000;9,8,550000;19,8,550000",bonus_string:"",position_string:"11,12,13,14;11,12,8,4;11,12,3,14",total_bet:25e4,total_prize:165e4,x2_start_value:165e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,8,8,10,2,8,7,9,1,9,10,8,1,9,10",prize_string:"6,17,250000;7,17,250000;10,17,250000;11,17,250000;22,17,250000;23,17,250000",bonus_string:"",position_string:"6,2,3,4;6,12,13,14;6,12,8,4;6,2,8,14;6,2,13,4;6,12,3,14",total_bet:25e4,total_prize:15e5,x2_start_value:15e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,9,9,1,5,5,3,1,9,7,6,6,8,10,2",prize_string:"3,11,400000;9,11,400000;19,11,400000",bonus_string:"",position_string:"11,12,13,14;11,12,8,4;11,12,3,14",total_bet:25e4,total_prize:12e5,x2_start_value:12e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,1,10,9,10,10,9,8,10,10,9,10,9,10,9",prize_string:"3,21,50000;6,24,50000;15,21,50000;16,22,300000;23,22,300000;25,19,400000",bonus_string:"",position_string:"11,12,13;6,2,3;11,7,13;6,7,3,9,10;6,12,3,14,10;11,2,13,4,15",total_bet:25e4,total_prize:115e4,x2_start_value:115e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,9,1,2,10,3,10,8,6,4,10,1,9,9,3",prize_string:"2,6,150000;3,24,50000;4,24,50000;5,6,150000;8,6,150000;9,24,50000;12,6,150000;13,24,50000;14,6,150000;15,24,50000;18,6,150000;19,24,50000;20,6,150000;21,24,50000;24,6,150000;25,24,50000",bonus_string:"",position_string:"1,2,3;11,12,13;11,7,3;1,7,13;1,2,8;11,12,8;1,7,8;11,7,8;1,7,3;11,7,13;1,2,13;11,12,3;1,12,13;11,2,3;1,12,3;11,2,13",total_bet:25e4,total_prize:16e5,x2_start_value:16e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,10,7,1,3,6,1,3,9,8,7,9,7,10,5",prize_string:"3,14,300000;4,14,300000;15,14,300000;19,14,300000;21,14,300000;25,14,300000",bonus_string:"",position_string:"11,12,13,14;11,7,3,9;11,7,13,9;11,12,3,14;11,2,3,4;11,2,13,4",total_bet:25e4,total_prize:18e5,x2_start_value:18e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"6,3,7,10,6,3,6,8,6,10,8,7,6,7,4",prize_string:"5,10,1000000",bonus_string:"",position_string:"1,7,13,9,5",total_bet:25e4,total_prize:1e6,x2_start_value:1e6,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,9,10,10,10,4,10,2,1,9,3,1,5,9,8",prize_string:"5,8,550000;18,8,550000;20,8,550000",bonus_string:"",position_string:"1,7,13,9;1,2,13,4;1,12,13,14",total_bet:25e4,total_prize:165e4,x2_start_value:165e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,1,9,10,10,8,9,3,1,9,10,10,5,9,6",prize_string:"5,8,550000;18,8,550000;20,8,550000",bonus_string:"",position_string:"1,7,13,9;1,2,13,4;1,12,13,14",total_bet:25e4,total_prize:165e4,x2_start_value:165e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,9,8,9,10,3,10,9,10,3,10,1,1,10,9",prize_string:"2,6,150000;3,23,100000;4,23,100000;5,6,150000;8,6,150000;9,24,50000;12,6,150000;13,23,100000;14,6,150000;15,23,100000;18,6,150000;19,23,100000;20,6,150000;21,24,50000;24,6,150000;25,24,50000",bonus_string:"",position_string:"1,2,3;11,12,13,14;11,7,3,9;1,7,13;1,2,8;11,12,8;1,7,8;11,7,8,9;1,7,3;11,7,13,9;1,2,13;11,12,3,14;1,12,13;11,2,3;1,12,3;11,2,13",total_bet:25e4,total_prize:185e4,x2_start_value:185e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,8,6,9,4,6,7,7,10,3,7,8,3,10,8",prize_string:"13,15,50000",bonus_string:"",position_string:"11,7,8",total_bet:25e4,total_prize:5e4,x2_start_value:5e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,10,10,10,6,10,5,2,3,10,7,8,5,5,4",prize_string:"6,22,300000",bonus_string:"",position_string:"6,2,3,4,10",total_bet:25e4,total_prize:3e5,x2_start_value:3e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,6,1,9,9,7,5,8,10,10,9,9,9,1,10",prize_string:"3,20,150000;9,19,400000;19,20,150000",bonus_string:"",position_string:"11,12,13,14;11,12,8,4,5;11,12,3,14",total_bet:25e4,total_prize:7e5,x2_start_value:7e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,8,10,8,4,4,7,2,2,3,8,8,5,6,8",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"6,4,10,2,9,9,6,9,6,10,8,5,3,9,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,3,10,4,4,10,9,8,9,3,9,10,9,10,8",prize_string:"15,20,150000;23,23,100000",bonus_string:"",position_string:"11,7,13,9;6,12,3,14",total_bet:25e4,total_prize:25e4,x2_start_value:25e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"3,10,8,8,3,7,5,6,3,8,10,8,10,7,5",prize_string:"25,24,50000",bonus_string:"",position_string:"11,2,13",total_bet:25e4,total_prize:5e4,x2_start_value:5e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,6,6,10,10,8,3,10,6,3,10,4,8,7,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,4,3,2,10,9,8,5,6,9,10,6,6,9,8",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"6,7,9,9,10,9,6,3,10,4,8,3,5,1,3",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,4,5,7,6,6,6,6,8,10,4,5,7,2,4",prize_string:"1,12,100000",bonus_string:"",position_string:"6,7,8",total_bet:25e4,total_prize:1e5,x2_start_value:1e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,10,4,3,2,10,8,10,7,9,9,10,2,8,10",prize_string:"10,24,50000;11,24,50000",bonus_string:"",position_string:"6,12,8;6,2,8",total_bet:25e4,total_prize:1e5,x2_start_value:1e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,6,7,9,10,5,5,8,10,9,10,9,6,1,6",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,3,8,8,10,10,4,9,2,9,7,8,4,6,8",prize_string:"24,18,50000",bonus_string:"",position_string:"1,12,3",total_bet:25e4,total_prize:5e4,x2_start_value:5e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,3,2,3,10,5,4,5,7,4,6,8,10,8,3",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,9,3,9,8,9,10,5,10,10,5,8,6,1,3",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,4,3,10,8,8,8,10,10,5,3,6,9,6,7",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,8,2,9,10,8,6,5,4,10,3,7,10,9,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"3,3,3,2,10,7,4,10,6,9,10,8,9,9,8",prize_string:"2,3,500000",bonus_string:"",position_string:"1,2,3",total_bet:25e4,total_prize:5e5,x2_start_value:5e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,7,5,6,6,10,2,6,9,10,9,4,7,4,4",prize_string:"18,15,50000",bonus_string:"",position_string:"1,2,13",total_bet:25e4,total_prize:5e4,x2_start_value:5e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"6,4,6,10,10,7,6,7,6,10,4,5,3,7,9",prize_string:"14,11,400000",bonus_string:"",position_string:"1,7,3,9",total_bet:25e4,total_prize:4e5,x2_start_value:4e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,9,5,9,6,9,10,10,10,10,5,8,3,10,4",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,4,2,10,8,2,8,5,6,10,7,6,10,7,3",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,6,10,3,6,7,7,2,7,10,8,8,5,8,4",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,7,8,10,9,10,8,9,1,8,6,3,1,9,10",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,6,9,8,9,8,3,1,2,10,10,4,8,6,10",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,1,5,7,6,9,9,10,10,10,10,10,3,3,4",prize_string:"8,24,50000;9,24,50000;12,23,100000;13,23,100000",bonus_string:"",position_string:"1,2,8;11,12,8;1,7,8,9;11,7,8,9",total_bet:25e4,total_prize:3e5,x2_start_value:3e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,3,3,1,9,3,9,10,9,10,10,10,9,10,9",prize_string:"6,3,500000;9,23,100000",bonus_string:"",position_string:"6,2,3;11,12,8,4",total_bet:25e4,total_prize:6e5,x2_start_value:6e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,9,3,6,10,8,1,7,7,3,2,10,8,10,9",prize_string:"7,18,50000;17,18,50000;22,18,50000",bonus_string:"",position_string:"6,12,13;6,7,13;6,2,13",total_bet:25e4,total_prize:15e4,x2_start_value:15e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,10,3,3,10,8,5,10,5,10,10,8,9,8,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,10,10,9,9,9,1,3,4,6,5,9,10,9,10",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,6,7,9,4,10,7,8,10,3,9,8,6,1,8",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,9,9,7,9,3,10,1,8,8,7,9,8,2,10",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,10,10,3,10,4,9,9,7,10,3,10,3,8,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"3,3,7,9,5,8,6,8,10,7,9,7,6,1,2",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,8,5,1,4,5,6,10,9,3,4,7,3,10,8",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,2,10,6,4,10,4,3,7,3,7,6,10,10,8",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,9,2,10,6,2,10,5,10,10,7,1,10,6,4",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,4,3,3,10,8,6,10,7,10,2,5,9,8,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"3,8,10,8,3,10,10,3,2,9,7,5,10,6,10",prize_string:"16,24,50000;17,24,50000",bonus_string:"",position_string:"6,7,3;6,7,13",total_bet:25e4,total_prize:1e5,x2_start_value:1e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"6,7,9,9,6,7,6,1,10,10,4,3,8,10,4",prize_string:"5,12,100000;6,15,50000;11,15,50000;12,12,100000;14,12,100000;22,15,50000",bonus_string:"",position_string:"1,7,13;6,2,3;6,2,8;1,7,8;1,7,3;6,2,13",total_bet:25e4,total_prize:45e4,x2_start_value:45e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,10,3,9,5,9,7,7,4,7,5,6,8,9,2",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,8,10,6,6,10,3,2,7,10,6,9,5,10,4",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,1,3,3,3,8,9,5,7,8,3,10,6,8,5",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,2,3,8,5,10,4,5,3,7,6,6,6,7,2",prize_string:"3,12,100000",bonus_string:"",position_string:"11,12,13",total_bet:25e4,total_prize:1e5,x2_start_value:1e5,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,10,5,3,9,2,8,10,5,8,7,10,3,8,10",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,10,8,7,8,3,9,6,10,5,7,10,10,3,7",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,8,9,2,3,7,6,3,6,8,8,7,5,9,5",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,9,5,7,9,9,10,10,8,10,10,7,3,2,10",prize_string:"13,24,50000",bonus_string:"",position_string:"11,7,8",total_bet:25e4,total_prize:5e4,x2_start_value:5e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,10,6,8,10,2,1,10,3,9,7,9,8,7,8",prize_string:"5,18,50000;18,17,250000;20,18,50000",bonus_string:"",position_string:"1,7,13;1,2,13,4;1,12,13",total_bet:25e4,total_prize:35e4,x2_start_value:35e4,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,8,10,8,4,4,7,2,2,3,8,8,5,6,8",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"6,4,10,2,9,9,6,9,6,10,8,5,3,9,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,6,6,10,10,8,3,10,6,3,10,4,8,7,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,4,3,2,10,9,8,5,6,9,10,6,6,9,8",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"6,7,9,9,10,9,6,3,10,4,8,3,5,1,3",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,6,7,9,10,5,5,8,10,9,10,9,6,1,6",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,3,2,3,10,5,4,5,7,4,6,8,10,8,3",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,9,3,9,8,9,10,5,10,10,5,8,6,1,3",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,4,3,10,8,8,8,10,10,5,3,6,9,6,7",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,8,2,9,10,8,6,5,4,10,3,7,10,9,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,9,5,9,6,9,10,10,10,10,5,8,3,10,4",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,4,2,10,8,2,8,5,6,10,7,6,10,7,3",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,6,10,3,6,7,7,2,7,10,8,8,5,8,4",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,7,8,10,9,10,8,9,1,8,6,3,1,9,10",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,6,9,8,9,8,3,1,2,10,10,4,8,6,10",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,10,3,3,10,8,5,10,5,10,10,8,9,8,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,10,10,9,9,9,1,3,4,6,5,9,10,9,10",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,6,7,9,4,10,7,8,10,3,9,8,6,1,8",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,9,9,7,9,3,10,1,8,8,7,9,8,2,10",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,10,10,3,10,4,9,9,7,10,3,10,3,8,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"3,3,7,9,5,8,6,8,10,7,9,7,6,1,2",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,8,5,1,4,5,6,10,9,3,4,7,3,10,8",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,2,10,6,4,10,4,3,7,3,7,6,10,10,8",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,9,2,10,6,2,10,5,10,10,7,1,10,6,4",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,4,3,3,10,8,6,10,7,10,2,5,9,8,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,10,3,9,5,9,7,7,4,7,5,6,8,9,2",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,8,10,6,6,10,3,2,7,10,6,9,5,10,4",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,1,3,3,3,8,9,5,7,8,3,10,6,8,5",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,10,5,3,9,2,8,10,5,8,7,10,3,8,10",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,10,8,7,8,3,9,6,10,5,7,10,10,3,7",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,8,9,2,3,7,6,3,6,8,8,7,5,9,5",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,5,7,4,10,6,9,8,9,9,7,10,6,10,6",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,6,7,10,8,5,3,8,3,10,4,4,6,5,3",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,6,10,7,9,3,7,8,8,10,10,8,9,2,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,6,9,10,8,10,7,3,6,10,7,8,5,7,3",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,9,5,7,9,7,10,6,10,10,8,8,7,3,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"3,7,9,4,9,10,8,4,9,6,7,3,10,10,10",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,9,6,3,7,9,10,7,5,2,5,1,3,8,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"5,8,9,7,8,10,7,3,8,10,9,8,5,2,3",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,3,7,7,10,7,9,8,10,10,9,10,6,3,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"3,7,10,6,9,10,8,8,7,8,7,5,9,10,10",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,9,10,8,9,8,3,2,2,6,6,6,5,6,10",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"4,10,7,8,3,3,9,8,2,8,10,10,6,6,5",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,10,4,10,6,3,9,10,3,10,7,1,2,5,4",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,8,6,7,8,9,6,10,10,5,5,7,8,3,7",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,3,7,9,10,9,6,3,10,10,10,7,7,1,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"7,7,10,10,8,9,2,3,3,10,10,4,10,5,3",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"8,6,2,5,10,10,3,5,8,10,7,4,10,3,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"10,4,3,3,7,9,6,7,5,2,5,5,8,8,9",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1},{game_status:0,spin_id:0,slot_string:"9,3,8,3,4,8,6,9,7,3,2,7,1,8,8",prize_string:"",bonus_string:"",position_string:"",total_bet:25e4,total_prize:0,x2_start_value:0,jackpot_value:0,jackpot_winner:0,balance:0,exec_result:0,count_event:0,x2_event:!1}]},t.prototype.getRandomSpinTry=function(){var t=Math.floor(Math.random()*(this.listSpinTry.length-1));return this.listSpinTry[t]},t.Instance=null,t=e=__decorate([l],t)}());n.TPHandler=u,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Network/WsHandler":"WsHandler","../../Common/Utilities/Utility":"Utility","./TPModule":"TPModule"}],TPHelp:[function(t,e,n){"use strict";cc._RF.push(e,"59ae2Z4iiFCJ6uVRl5oHjFk","TPHelp");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TPHandler"),c=t("../../Common/Data/GameConfigs"),s=t("../../Common/UI/NumberRun"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSpr=[],e.lblJackpot=null,e.clickAC=null,e.curRoomId=1,e}return o(e,t),e.prototype.start=function(){cc.systemEvent.on(c.GameConfigs.JPName.ThanTai,this.onPushJackpot.bind(this),this)},e.prototype.updateRoom=function(t){0==t&&(t=3),this.curRoomId=t,this.listSpr[t-1].active=!0},e.prototype.onPushJackpot=function(t){t&&t[this.curRoomId-1]&&this.updateJackpot(+t[this.curRoomId-1])},e.prototype.updateJackpot=function(t){this.lblJackpot.money=t},e.prototype.oncLickClose=function(t){a.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickAC,!1)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([u([cc.Node])],e.prototype,"listSpr",void 0),i([u(s.default)],e.prototype,"lblJackpot",void 0),i([u({type:cc.AudioClip})],e.prototype,"clickAC",void 0),e=i([l],e)}(cc.Component);n.TPHelp=p,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/UI/NumberRun":"NumberRun","./TPHandler":"TPHandler"}],TPHistory:[function(t,e,n){"use strict";cc._RF.push(e,"69940PG7uhFtaSVa1MfwEIA","TPHistory");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TPHandler"),c=t("../../Lobby/Scripts/LoadingManager"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.clickAC=null,e}return o(e,t),e.prototype.start=function(){c.default.getInstance().show(),a.TPHandler.getInstance().onPushHistory=this.onPushHistory.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.TPHandler.getInstance().getHistory()})))},e.prototype.onPushHistory=function(t){var e=Math.min(a.TPHandler.getInstance().listHistory.length,43);this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);this.updateCell(o,a.TPHandler.getInstance().listHistory[n],n),this.contentScroll.addChild(o)}this.contentScroll.y=0,c.default.getInstance().hide()},e.prototype.updateCell=function(t,e,n){n%2==0&&(t.getChildByName("layout").active=!1),t.getChildByName("Session").getComponent(cc.Label).string=e.session,t.getChildByName("Time").getComponent(cc.Label).string=e.time,t.getChildByName("Room").getComponent(cc.Label).string=e.room,t.getChildByName("BetValue").getComponent(cc.Label).string=e.totalBet,t.getChildByName("Detail").getComponent(cc.Label).string=e.winValue},e.prototype.oncLickClose=function(t){a.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickAC,!1)},i([l(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([l(cc.Node)],e.prototype,"contentScroll",void 0),i([l({type:cc.AudioClip})],e.prototype,"clickAC",void 0),e=i([r],e)}(cc.Component);n.TPHistory=u,cc._RF.pop()},{"../../Lobby/Scripts/LoadingManager":"LoadingManager","./TPHandler":"TPHandler"}],TPItem:[function(t,e,n){"use strict";cc._RF.push(e,"8b33eDhxtZGypqBvN0gFgFl","TPItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.updateSkin=function(t){this.node.children.forEach(function(e){return e.children.forEach(function(e){return e.active=e.name==t.toString()})})},e.prototype.updateItemById=function(t){this.node.children.forEach(function(e){return e.active=e.name==t.toString()})},e=i([c],e)}(cc.Component));n.TPItem=s,cc._RF.pop()},{}],TPModule:[function(t,e,n){"use strict";cc._RF.push(e,"2b594evS6JPHZxA9KBWv2YD","TPModule"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){(function(t){t[t.PREPARE=0]="PREPARE",t[t.PLAYING_EFFECT=1]="PLAYING_EFFECT",t[t.STOP=2]="STOP"})(t.SCROLL_STATE||(t.SCROLL_STATE={})),function(t){t[t.PREPARE=0]="PREPARE",t[t.REQUESTING=1]="REQUESTING",t[t.PLAYX2=2]="PLAYX2",t[t.PLAYBONUS=3]="PLAYBONUS",t[t.SPINING=4]="SPINING",t[t.HANDLE_RESULT=5]="HANDLE_RESULT"}(t.GAME_STATE||(t.GAME_STATE={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.AUTO=1]="AUTO",t[t.FAST=2]="FAST"}(t.SPIN_MODE||(t.SPIN_MODE={}));var e=function(){return function(){}}();t.SpinInfo=e;var n=function(){return function(){this.isAready=!1,this.gameStatus=0,this.roomId=1,this.betValue=1e3,this.totalLine=25,this.lineString="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25",this.isFree=!1,this.freeNumber=0,this.prevFreeNumber=0,this.hasFree=!1,this.rankEvent=0,this.pointEvent=0,this.x2Event=!1}}();t.AccountInfo=n;var o=function(){return function(){}}();t.X2Info=o;var i=function(){return function(){this.count=0,this.totalStep=0,this.listPrize=[],this.listStep=[],this.bonusPrize=0,this.status=0,this.exec=0,this.xxx=0}}();t.BonusInfo=i;var a=function(){return function(){this.balance=5e7,this.jackpot=5e7,this.totalLine=25,this.lineString="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25"}}();t.DemoInfo=a}(n.TPModule||(n.TPModule={})),cc._RF.pop()},{}],TPRank:[function(t,e,n){"use strict";cc._RF.push(e,"5d69f/m2ZpEYKeTNuWW9F9P","TPRank");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TPHandler"),c=t("../../Common/Data/LabelHelperConfigs"),s=t("../../Common/Data/GameData"),r=t("../../Lobby/Scripts/LoadingManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.clickAC=null,e}return o(e,t),e.prototype.start=function(){r.default.getInstance().show(),a.TPHandler.getInstance().onPushRank=this.onPushRank.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){a.TPHandler.getInstance().getRank()})))},e.prototype.onDestroy=function(){cc.log("TPRank Destroyed")},e.prototype.onPushRank=function(t){var e=Math.min(a.TPHandler.getInstance().listHonor.length,43);this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var o=cc.instantiate(this.cellPrefab);this.updateCell(o,a.TPHandler.getInstance().listHonor[n],n),this.contentScroll.addChild(o)}this.contentScroll.y=0,r.default.getInstance().hide()},e.prototype.updateCell=function(t,e,n){var o=c.TextData[s.default.getInstance().UserData.textPackage];n%2==0&&(t.getChildByName("layout").active=!1),t.getChildByName("Time").getComponent(cc.Label).string=e.time,t.getChildByName("UserName").getComponent(cc.Label).string=e.userName,t.getChildByName("Room").getComponent(cc.Label).string=e.roomid,t.getChildByName("Win").getComponent(cc.Label).string=e.winValue,t.getChildByName("Detail").getComponent(cc.Label).string=0==e.details?o.bigwin:o.jackpot},e.prototype.oncLickClose=function(t){a.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickAC,!1)},i([p(cc.Prefab)],e.prototype,"cellPrefab",void 0),i([p(cc.Node)],e.prototype,"contentScroll",void 0),i([p({type:cc.AudioClip})],e.prototype,"clickAC",void 0),e=i([u],e)}(cc.Component);n.TPRank=d,cc._RF.pop()},{"../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Lobby/Scripts/LoadingManager":"LoadingManager","./TPHandler":"TPHandler"}],TPRoomItem:[function(t,e,n){"use strict";cc._RF.push(e,"126d907/UZDfpjNX1IFenig","TPRoomItem");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roomID=0,e.jackpotLabel=null,e.roomClickCallback=function(t){},e}return o(e,t),e.prototype.updateJackpot=function(t){this.jackpotLabel.money=t},e.prototype.onClicked=function(t){this.roomClickCallback(this.roomID)},i([r()],e.prototype,"roomID",void 0),i([r(a.default)],e.prototype,"jackpotLabel",void 0),e=i([s],e)}(cc.Component);n.TPRoomItem=l,cc._RF.pop()},{"../../Common/UI/NumberRun":"NumberRun"}],TPRoom:[function(t,e,n){"use strict";cc._RF.push(e,"d6e016Uo0tMIr5MJRUyWgGz","TPRoom"),cc._RF.pop()},{}],TPScrollEfect:[function(t,e,n){"use strict";cc._RF.push(e,"eb4861lydpOYbVGnQFK3WTa","TPScrollEfect");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.start=function(){},e=i([c],e)}(cc.Component));n.TPScrollEffect=s,cc._RF.pop()},{}],TPScroll:[function(t,e,n){"use strict";cc._RF.push(e,"25211szvIxFhbtya41uxrPC","TPScroll");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TPModule"),c=t("./TPItem"),s=t("./TPHandler"),r=t("../../Common/Data/Constants"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effect=null,e.result=null,e.scrollId=0,e.wildAnim=null,e.state=a.TPModule.SCROLL_STATE.PREPARE,e.listItems=[],e.startDelay=0,e.delegate=null,e.isWild=!1,e.animWildName="",e}return o(e,t),e.prototype.start=function(){for(var t in this.startDelay=.3*this.scrollId,this.effect.node.active=!1,this.result.children){var e=this.result.children[t].getComponent(c.TPItem);this.listItems.push(e)}},e.prototype.setSpinFast=function(t){this.startDelay=t?.15:.08*this.scrollId},e.prototype.updateFx=function(t){this.effect.node.getComponent(cc.Sprite).spriteFrame=t},e.prototype.updateSkin=function(t){for(var e in this.result.children){this.result.children[e].getComponent(c.TPItem).updateSkin(t)}},e.prototype.startScroll=function(t){var e=this,n=setTimeout(function(){e.state!=a.TPModule.SCROLL_STATE.PREPARE&&(e.resetScroll(),void 0!=e.delegate&&e.delegate.onPlayDone()),clearTimeout(n)},5e3);if(this.state==a.TPModule.SCROLL_STATE.PREPARE){this.state=a.TPModule.SCROLL_STATE.PLAYING_EFFECT;this.node.runAction(cc.sequence(cc.delayTime(this.startDelay),cc.callFunc(function(){e.result.getComponent(cc.Animation).play("updown"),s.TPHandler.getInstance().isSound}),cc.delayTime(.11),cc.callFunc(function(){e.result.active=!1,e.effect.node.active=!0,e.effect.play("scrolleffect"),e.updateResult()}),cc.delayTime(t),cc.callFunc(function(){e.effect.node.active=!1,e.result.active=!0,e.effect.stop("snscroll"),e.result.getComponent(cc.Animation).play("downup")}),cc.delayTime(.11),cc.callFunc(function(){e.updateResult(),e.resetScroll(),e.isWild&&e.showWild(),clearTimeout(n),4==e.scrollId&&void 0!=e.delegate&&e.delegate.onPlayDone()})))}},e.prototype.updateResult=function(){var t=0,e=s.TPHandler.getInstance().spinInfo.slotData[this.scrollId];for(var n in this.listItems)this.listItems[+n].updateItemById(e[+n]),1==e[+n]&&t++;this.isWild=t>0,this.isWild&&cc.systemEvent.emit(r.default.EVENT_TaiPhu.EFFECT_WILD)},e.prototype.resetScroll=function(){this.node.stopAllActions(),this.result.active=!0,this.effect.node.active=!1,this.state=a.TPModule.SCROLL_STATE.PREPARE},e.prototype.updateWild=function(){if(0!=this.isWild)for(var t=0,e=this.listItems;t<e.length;t++){e[t].updateItemById(1)}},e.prototype.showWild=function(){var t=this;this.result.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){t.updateWild(),t.result.active=!1,t.wildAnim.node.active=!0,t.wildAnim.getComponent(sp.Skeleton).setAnimation(0,"wild",!1),t.wildAnim.node.runAction(cc.sequence(cc.delayTime(2.5),cc.callFunc(function(){t.result.active=!0,t.wildAnim.node.active=!1})))})))},i([p(cc.Animation)],e.prototype,"effect",void 0),i([p(cc.Node)],e.prototype,"result",void 0),i([p],e.prototype,"scrollId",void 0),i([p(sp.Skeleton)],e.prototype,"wildAnim",void 0),e=i([u],e)}(cc.Component);n.TPScroll=d,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","./TPHandler":"TPHandler","./TPItem":"TPItem","./TPModule":"TPModule"}],TPTop:[function(t,e,n){"use strict";cc._RF.push(e,"3131ehj/xBNP53Ilzo33+ei","TPTop"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./TPHandler"),i=t("../../Lobby/Scripts/LoadingManager"),a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.contentScroll=null,e.clickAC=null,e}return __extends(e,t),e.prototype.start=function(){i.default.getInstance().show(),o.TPHandler.getInstance().onPushTopJackpot=this.onPushTopJackpot.bind(this),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){o.TPHandler.getInstance().getTopJackpot()})))},e.prototype.onDestroy=function(){cc.log("RL Top Destroyed")},e.prototype.onPushTopJackpot=function(t){var e=Math.min(o.TPHandler.getInstance().listJackpotHistory.length,43);this.contentScroll.removeAllChildren();for(var n=0;n<e;n++){var a=cc.instantiate(this.cellPrefab);this.updateCell(a,o.TPHandler.getInstance().listJackpotHistory[n],n),this.contentScroll.addChild(a)}this.contentScroll.y=0,i.default.getInstance().hide()},e.prototype.updateCell=function(t,e,n){n%2==0&&(t.getChildByName("layout").active=!1),t.getChildByName("Time").getComponent(cc.Label).string=e.time,t.getChildByName("UserName").getComponent(cc.Label).string=e.userName,t.getChildByName("Room").getComponent(cc.Label).string=e.room,t.getChildByName("WinValue").getComponent(cc.Label).string=e.winValue},e.prototype.oncLickClose=function(t){o.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickAC,!1)},__decorate([s(cc.Prefab)],e.prototype,"cellPrefab",void 0),__decorate([s(cc.Node)],e.prototype,"contentScroll",void 0),__decorate([s({type:cc.AudioClip})],e.prototype,"clickAC",void 0),e=__decorate([c],e)}(cc.Component);n.TPHandlerTop=r,cc._RF.pop()},{"../../Lobby/Scripts/LoadingManager":"LoadingManager","./TPHandler":"TPHandler"}],TPX2:[function(t,e,n){"use strict";cc._RF.push(e,"9d54bIEGKlN9rryjNpuCFlv","TPX2"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./TPHandler"),i=t("../../Common/Utilities/Utility"),a=t("../../Common/Data/GameConfigs"),c=t("../../Common/UI/Notification"),s=t("../../Common/Data/LabelHelperConfigs"),r=t("../../Common/Data/GameData"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnLeft=null,e.btnRight=null,e.btnStop=null,e.btnNext=null,e.lbCurrValue=null,e.lbWinValue=null,e.blockLayout=null,e.animLoseLeft=null,e.animLoseRight=null,e.animWinRight=null,e.animWinLeft=null,e.clickAC=null,e.selectItemAC=null,e.backgroundX2=null,e.bgMusic=null,e.winAC=null,e.loseAC=null,e.notiLobbyPrefab=null,e.language=null,e._curChoose=-1,e.onStopX2Done=function(){},e}return __extends(e,t),e.prototype.start=function(){this._start=!0,this.language=s.TextData[r.default.getInstance().UserData.textPackage],this.resetTurn(),o.TPHandler.getInstance().onPushPlayX2=this.onPushPlayX2.bind(this),o.TPHandler.getInstance().onPushFinishX2=this.onPushFinishX2.bind(this)},e.prototype.onEnable=function(){cc.audioEngine.stopMusic(),o.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.backgroundX2,!0)},e.prototype.onDestroy=function(){cc.log("THPlayDouble Destroy"),cc.systemEvent.targetOff(this)},e.prototype.onClickLeft=function(t){this._curChoose>-1||(o.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.selectItemAC,!1),this.animLoseLeft.play(),this.animLoseRight.node.active=!1,this.animWinRight.node.active=!1,this.animWinLeft.play(),this._curChoose=0,this.btnStop.interactable=!1,this.btnNext.interactable=!1,o.TPHandler.getInstance().playX2())},e.prototype.onClickRight=function(t){this._curChoose>-1||(o.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.selectItemAC,!1),this.animLoseLeft.node.active=!1,this.animLoseRight.play(),this.animWinRight.play(),this.animWinLeft.node.active=!1,this._curChoose=1,this.btnStop.interactable=!1,this.btnNext.interactable=!1,o.TPHandler.getInstance().playX2())},e.prototype.onClickStop=function(t){o.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(this.clickAC,!1),this._isPlayX2?(this.animLoseLeft.node.active=!0,this.animLoseRight.node.active=!0,this.animWinLeft.node.active=!0,this.animWinRight.node.active=!0,o.TPHandler.getInstance().finishX2()):this.onStopX2Done()},e.prototype.updateBetValue=function(){var t=o.TPHandler.getInstance().x2Info.winValue;this.lbCurrValue.string=i.Utility.getInstance().add_commas(t)},e.prototype.resetTurn=function(){this._curChoose=-1,this._isPlayX2=!1,this.btnStop.interactable=!1,this.btnNext.interactable=!1,this.onClickNext()},e.prototype.onPushPlayX2=function(t){if(t){this._isPlayX2=!0;var e=o.TPHandler.getInstance().x2Info.winValue;this.handleResult(e)}},e.prototype.onPushFinishX2=function(t){this.onStopX2Done()},e.prototype.getSideName=function(){return this._curChoose?"right":"left"},e.prototype.getResultName=function(t){return t?"win":"lose"},e.prototype.handleResult=function(t){var e=this,n=t>0;this.node.runAction(cc.sequence(cc.callFunc(function(){(0==e._curChoose?e.btnLeft.node:e.btnRight.node).getChildByName("choose").active=!1}),cc.callFunc(function(){var t=e.getResultName(n);(0==e._curChoose?e.btnLeft.node:e.btnRight.node).getChildByName(t).active=!0}),cc.callFunc(function(){(1==e._curChoose?e.btnLeft.node:e.btnRight.node).getChildByName("choose").active=!1}),cc.callFunc(function(){var t=e.getResultName(!n);(1==e._curChoose?e.btnLeft.node:e.btnRight.node).getChildByName(t).active=!0}),cc.delayTime(.2),cc.callFunc(function(){n?(o.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(e.winAC,!1),e.updateBetValue(),e.btnNext.interactable=!0,e.btnStop.interactable=!0,3==o.TPHandler.getInstance().x2Info.step?e.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.showNoti("Ch\xfac m\u1eebng!\nB\u1ea1n th\u1eafng "+i.Utility.getInstance().numberToCurrency(t),2)}),cc.delayTime(2),cc.callFunc(function(){e.btnStop.interactable=!1,e.closeWaiting()}))):e.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.showNoti("Ch\xfac m\u1eebng!\nB\u1ea1n th\u1eafng "+i.Utility.getInstance().numberToCurrency(t),2)})))):(o.TPHandler.getInstance().isSound&&cc.audioEngine.playEffect(e.loseAC,!1),e.lbCurrValue.string="0",e.lbWinValue.string="0",e.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.showNoti("R\u1ea5t ti\u1ebfc!\nCh\xfac b\u1ea1n may m\u1eafn l\u1ea7n sau",2)}),cc.delayTime(2),cc.callFunc(function(){e.closeWaiting()}))))},this)))},e.prototype.onClickNext=function(){this._curChoose=-1,this.node.stopAllActions(),this.btnLeft.node.getChildByName("choose").active=!0,this.btnRight.node.getChildByName("choose").active=!0,this.btnLeft.node.getChildByName("win").active=!1,this.btnRight.node.getChildByName("win").active=!1,this.btnLeft.node.getChildByName("lose").active=!1,this.btnRight.node.getChildByName("lose").active=!1,this.animLoseLeft.node.active=!0,this.animLoseRight.node.active=!0,this.animWinLeft.node.active=!0,this.animWinRight.node.active=!0,o.TPHandler.getInstance().isSound&&!this._start&&cc.audioEngine.playEffect(this.clickAC,!1);var t=o.TPHandler.getInstance().x2Info,e=this._start?t.startBet:t.winValue;this.lbCurrValue.string=i.Utility.getInstance().add_commas(e),this.lbWinValue.string=i.Utility.getInstance().add_commas(+(1.99*e).toFixed(0)),this._start=!1,this.btnNext.interactable=!1,this.btnStop.interactable=!1},e.prototype.onDisable=function(){cc.audioEngine.stopAll(),o.TPHandler.getInstance().isSound&&cc.audioEngine.playMusic(this.bgMusic,!0)},e.prototype.closeWaiting=function(){var t=this;this.btnStop.interactable=!1,this.btnNext.interactable=!1,this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){t.onStopX2Done(),t.node.active=!1})))},e.prototype.showNoti=function(t,e){void 0===e&&(e=2);var n=cc.instantiate(this.notiLobbyPrefab);n.getComponent(c.default).setContent(t),n.getComponent(c.default).showDialog(e),cc.director.getScene().addChild(n,a.GameConfigs.zOderGame.POP_UP)},__decorate([p(cc.Button)],e.prototype,"btnLeft",void 0),__decorate([p(cc.Button)],e.prototype,"btnRight",void 0),__decorate([p(cc.Button)],e.prototype,"btnStop",void 0),__decorate([p(cc.Button)],e.prototype,"btnNext",void 0),__decorate([p(cc.Label)],e.prototype,"lbCurrValue",void 0),__decorate([p(cc.Label)],e.prototype,"lbWinValue",void 0),__decorate([p(cc.Node)],e.prototype,"blockLayout",void 0),__decorate([p(cc.Animation)],e.prototype,"animLoseLeft",void 0),__decorate([p(cc.Animation)],e.prototype,"animLoseRight",void 0),__decorate([p(cc.Animation)],e.prototype,"animWinRight",void 0),__decorate([p(cc.Animation)],e.prototype,"animWinLeft",void 0),__decorate([p({type:cc.AudioClip})],e.prototype,"clickAC",void 0),__decorate([p({type:cc.AudioClip})],e.prototype,"selectItemAC",void 0),__decorate([p({type:cc.AudioClip})],e.prototype,"backgroundX2",void 0),__decorate([p(cc.AudioClip)],e.prototype,"bgMusic",void 0),__decorate([p({type:cc.AudioClip})],e.prototype,"winAC",void 0),__decorate([p({type:cc.AudioClip})],e.prototype,"loseAC",void 0),__decorate([p(cc.Prefab)],e.prototype,"notiLobbyPrefab",void 0),e=__decorate([u],e)}(cc.Component);n.TPX2=d,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/UI/Notification":"Notification","../../Common/Utilities/Utility":"Utility","./TPHandler":"TPHandler"}],TXAnim:[function(t,e,n){"use strict";cc._RF.push(e,"99e64AgS2lG25mvWM1UVATz","TXAnim");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TaiXiuHandler"),c=t("../../Common/Data/Constants"),s=t("../../Common/Utilities/Utility"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listDice=[],e.diceAtlas=null,e.nodeDiceResult=null,e.chen=null,e.isNan=!1,e}return o(e,t),e.prototype.onEndAnim=function(){this.isNan&&(this.chen.x=1,this.chen.y=7,this.chen.active=!0),this.nodeDiceResult.active=!0;for(var t=a.default.getInstance().result,e=0;e<3;e++){var n=s.Utility.getInstance().randomInt(1,4),o=t["dice"+(e+1)]+""+n;this.listDice[e].spriteFrame=this.diceAtlas.getSpriteFrame(o)}this.node.active=!1,cc.systemEvent.emit(c.default.EVENT_TAIXIU.PROCESS_DICE)},i([u(cc.Sprite)],e.prototype,"listDice",void 0),i([u(cc.SpriteAtlas)],e.prototype,"diceAtlas",void 0),i([u(cc.Node)],e.prototype,"nodeDiceResult",void 0),i([u(cc.Node)],e.prototype,"chen",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Utilities/Utility":"Utility","./TaiXiuHandler":"TaiXiuHandler"}],TXCalender:[function(t,e,n){"use strict";cc._RF.push(e,"cab7eRJLZpGKYjbKyvvZcW6","TXCalender");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e=i([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],TaiXiuHandler:[function(t,e,n){"use strict";cc._RF.push(e,"af8d8pUKldNEJTsrAo3TDtx","TaiXiuHandler");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/Constants"),c=t("../../Common/Network/WsHandler"),s=t("../../Common/Data/GameConfigs"),r=cc._decorator,l=r.ccclass,u=(r.property,function(t){function e(){var e=t.call(this)||this;return e.perGame={game_status:0,session_id:0,remain_waiting:0,remain_betting:0,total_account1:0,total_account2:0,total_bet_value1:0,total_bet_value2:0},e.result={session_id:0,dice1:0,dice2:0,dice3:0,dice_sum:0,location_id_win:0,isResult:!1},e.betOfAccount={winLocal:0,betValue:0,totalBetValue:0,accountId:0,session_id:0,balance:0,exec_result:0},e.resultAccount={accountId:0,session_id:0,betType:0,betValue:0,refundValue:0,prizeValue:0},e.infoSessionHistory={dice1:0,dice2:0,dice3:0,money_balance:0,total_refund1:0,total_refund2:0},e.soicau=[],e.listSessionHistory=[],e.listHonor=[],e.listHistory=[],e.listWinner=[],e.listEvent=[],e.listTop=[],e.isConnect=!1,e.isOpenGame=!1,e.onPushContinueWin=function(t){},e}var n;return o(e,t),n=e,e.getInstance=function(){return null!==this._instance&&void 0!==this._instance||(this._instance=new n,this._instance.init()),this._instance},e.prototype.init=function(){cc.systemEvent.on(s.GameConfigs.WSGameName.TaiXiu,this.parseDataGame.bind(this),this)},e.prototype.connect=function(){c.WsHandler.getInstance().joinGame(s.GameConfigs.WSGameName.TaiXiu)},e.prototype.close=function(){this.isConnect=!1,c.WsHandler.getInstance().leaveGame(s.GameConfigs.WSGameName.TaiXiu)},e.prototype.parseDataGame=function(t){try{var e=t,n=null,o=null;if(null!=e&&e.hasOwnProperty("cmd")&&(o=e.cmd,n=e.data),null!=n&&null!=o)switch(o){case"s_current_session":this.parsePerGame(n);break;case"s_cur_session_result":case"s_push_session_result":this.parseResult(n);break;case"s_soi_cau":this.parseSoiCau(n);break;case"s_honor":this.parseHonor(n);break;case"s_history":this.parseHistory(n);break;case"winner":this.parseWinner(n);break;case"s_bet_game":this.parseBetOfAccount(n);break;case"s_session_history":this.parseSessionHistory(n);break;case"s_top_list":this.parseTopList(n);break;case"s_push_balance":this.parseBalance(n);break;case"s_continue_win":this.parseContinueWin(n);break;case"s_info_bet":this.parseInfoBet(n);break;case"s_topten":this.parseTopTen(n);break;case"s_get_info_event":this.parseInfoEvent(n);break;case"s_end_event_win":this.parseEventWin(n);break;case"s_end_event_lost":this.parseEventLost(n)}}catch(t){console.error(t)}},e.prototype.parseEvent=function(t){cc.systemEvent.emit(a.default.EVENT_TAIXIU.GET_EVENT,t)},e.prototype.parseEventWin=function(t){cc.systemEvent.emit(a.default.EVENT_TAIXIU.WIN_EVENT,t)},e.prototype.parseEventLost=function(t){cc.systemEvent.emit(a.default.EVENT_TAIXIU.LOSE_EVENT,t)},e.prototype.parseInfoEvent=function(t){cc.systemEvent.emit(a.default.EVENT_TAIXIU.EVENT_TX,t)},e.prototype.parseTopTen=function(t){cc.systemEvent.emit(a.default.EVENT_TAIXIU.TOP_TEN,t)},e.prototype.parseInfoBet=function(t){cc.systemEvent.emit(a.default.EVENT_TAIXIU.INFO_BET,t)},e.prototype.parseBalance=function(t){cc.systemEvent.emit(a.default.EVENT_TAIXIU.TAIXIU_HANDLER+"push_balance",t)},e.prototype.parseTopList=function(t){this.listTop=[];for(var e=0;e<t.length;e++){var n={big_id:t[e].big_id,account_id:t[e].account_id,nick_name:t[e].nick_name,session_id:t[e].session_id,location_id:t[e].location_id,prize_value:t[e].prize_value,date_time:t[e].date_time};this.listTop.push(n)}cc.systemEvent.emit(a.default.EVENT_TAIXIU.TAIXIU_HANDLER+"toplist")},e.prototype.parseSessionHistory=function(t){this.listSessionHistory=[],this.infoSessionHistory.dice1=t.info.dice1,this.infoSessionHistory.dice2=t.info.dice2,this.infoSessionHistory.dice3=t.info.dice3,this.infoSessionHistory.money_balance=t.info.money_balance,this.infoSessionHistory.total_refund1=t.info.total_refund1,this.infoSessionHistory.total_refund2=t.info.total_refund2;for(var e=t.listUser,n=0;n<e.length;n++){var o={nickName:e[n].nick_name,betValue:e[n].bet_value,refundValue:e[n].refund_value,createTimeStr:e[n].date_time,createTime:e[n].date_time,locationID:e[n].location_id};this.listSessionHistory.push(o)}cc.systemEvent.emit(a.default.EVENT_TAIXIU.TAIXIU_HANDLER+"sessionhistory")},e.prototype.parsePerGame=function(t){this.isConnect=!0,this.perGame.game_status=t.game_status,this.perGame.total_account1=t.total_account1,this.perGame.total_account2=t.total_account2,this.perGame.session_id=t.session_id,this.perGame.remain_betting=t.remain_betting,this.perGame.remain_waiting=t.remain_waiting,this.perGame.total_bet_value1=t.total_bet_value1,this.perGame.total_bet_value2=t.total_bet_value2,cc.systemEvent.emit(a.default.EVENT_TAIXIU.TAIXIU_HANDLER+"pergame")},e.prototype.parseResult=function(t){this.result.dice1=t.dice1,this.result.dice2=t.dice2,this.result.dice3=t.dice3,this.result.dice_sum=t.dice_sum,this.result.location_id_win=t.location_id_win,this.result.session_id=t.session_id,this.result.isResult=!0,cc.systemEvent.emit(a.default.EVENT_TAIXIU.TAIXIU_HANDLER+"result")},e.prototype.parseBetOfAccount=function(t){this.betOfAccount.exec_result=t.exec_result,t.exec_result<0?cc.systemEvent.emit(a.default.EVENT_TAIXIU.TAIXIU_HANDLER+"errorRes",t.exec_result):(this.betOfAccount.accountId=t.account_id,this.betOfAccount.session_id=t.session_id,this.betOfAccount.winLocal=t.location_id,this.betOfAccount.betValue=t.bet_value,this.betOfAccount.totalBetValue=t.total_bet_user,this.betOfAccount.balance=t.balance,cc.systemEvent.emit(a.default.EVENT_TAIXIU.TAIXIU_HANDLER+"BetOfAccount"))},e.prototype.parseSoiCau=function(t){this.soicau=[];for(var e=0;e<t.length;e++){var n={dice1:t[e].dice1,dice2:t[e].dice2,dice3:t[e].dice3,dice_sum:t[e].dice_sum,winLocal:t[e].location_id_win,session_id:t[e].session_id};this.soicau.push(n)}cc.systemEvent.emit(a.default.EVENT_TAIXIU.TAIXIU_HANDLER+"soicau")},e.prototype.parseHonor=function(t){this.listHonor=[];for(var e=0;e<t.length;e++){var n={nickName:t[e].nick_name,prizeValue:t[e].prize_value};this.listHonor.push(n)}cc.systemEvent.emit(a.default.EVENT_TAIXIU.TAIXIU_HANDLER+"honor")},e.prototype.parseHistory=function(t){this.listHistory=[];for(var e=0;e<t.length;e++){var n={session_id:t[e].session_id,winLocal:t[e].location_id,betValue:t[e].bet_value,prizeValue:t[e].prize_value,refundValue:t[e].refund_value,locationResult:t[e].result,creatDate:t[e].date_time,dice1:t[e].dice1,dice2:t[e].dice2,dice3:t[e].dice3};this.listHistory.push(n)}cc.systemEvent.emit(a.default.EVENT_TAIXIU.TAIXIU_HANDLER+"history")},e.prototype.parseWinner=function(t){this.listWinner=[];for(var e=0;e<t.length;e++){var n={nickName:t[e].nickName,totalBet:t[e].totalBet,totalPrize:t[e].totalPrize};this.listWinner.push(n)}cc.systemEvent.emit(a.default.EVENT_TAIXIU.TAIXIU_HANDLER+"winer")},e.prototype.parseContinueWin=function(t){this.onPushContinueWin(t)},e.prototype.processAccountResult=function(){},e.prototype.processBet=function(t,e){var n='{"bet_value":'+t+',"location_id":'+e+"}";this.callWS("bet_value",n)},e.prototype.processPlay=function(){this.callWS("get_current_session","null")},e.prototype.processSoiCau=function(){this.callWS("get_soi_cau","null")},e.prototype.processHistory=function(){this.callWS("get_history","null")},e.prototype.processTopWiner=function(){this.callWS("get_honor","null")},e.prototype.processTopTen=function(){this.callWS("get_topten","null")},e.prototype.processEventInfo=function(){this.callWS("get_info_event","null")},e.prototype.processSessionHistory=function(t){var e='{"session_id":'+t+"}";this.callWS("get_info_session",e)},e.prototype.processGetInfoBet=function(){this.callWS("get_info","null")},e.prototype.callWS=function(t,e){var n='{"cmd":"'+t+'","c_data":'+e+"}";c.WsHandler.getInstance().playGame(s.GameConfigs.WSGameName.TaiXiu,n)},e=n=i([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Network/WsHandler":"WsHandler"}],TaiXiuMini:[function(t,e,n){"use strict";cc._RF.push(e,"c2987i2Q3FE66GxfqNYX8di","TaiXiuMini");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./NodeBetTXMini"),c=t("../../Common/Data/GameConfigs"),s=t("../../Common/Data/Constants"),r=t("../../Common/Utilities/Utility"),l=t("../../Common/Data/LabelHelperConfigs"),u=t("../../Common/Data/GameData"),p=t("./NodeChatTXMini"),d=t("./TaiXiuHandler"),h=t("./TXAnim"),f=t("./PopupTXSession"),_=t("../../Common/UI/NumberRun"),g=t("../../Common/UI/Notification"),m=t("../../Lobby/Scripts/Event"),y=cc._decorator,v=y.ccclass,b=y.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeBet=null,e.nodeChat=null,e.nodeTimeBetting=null,e.lbWatting=null,e.sprChen=null,e.sprDia=null,e.sprResult=null,e.iconTai=null,e.iconXiu=null,e.nodeTK=null,e.nodeHonor=null,e.lbGameSession=null,e.lbCurrentTai=null,e.lbPeopleTai=null,e.lbPeopleXiu=null,e.lbSumTai=null,e.lbSumXiu=null,e.lbCurrentXiu=null,e.iconTaiPing=null,e.iconXiuPing=null,e.iconXiuCurrent=null,e.iconTaiCurrent=null,e.btnNan=null,e.diceEffect=null,e.nodeDiceResult=null,e.prefabTK=null,e.prefabHistory=null,e.prefabHelp=null,e.prefabGameSession=null,e.prefabTopWin=null,e.layerNut=null,e.notiPrefab=null,e.fontMoney=null,e.diceAtlas=null,e.txAtlas=null,e.listDice=[],e.lbNoti=null,e.listSpriteNum=[],e.listAnimNum=[],e.editBoxXiu=null,e.editBoxTai=null,e.eventPrefab=null,e.nodeEvent=null,e.canBet=!0,e.isNan=!1,e.localBet=1,e.moneyWin=0,e.currBalance=0,e.isResult=!1,e.isJoinMid=!1,e.tempTai=0,e.tempXiu=0,e.listNum=[],e.language=null,e.timeOutCallFunc=null,e.timeOutDice=null,e.result=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.loadSpriteNum(),this.registerAllEvent(),this.nodeBet.setDelegate(this),this.language=l.TextData[u.default.getInstance().UserData.textPackage],d.default.getInstance().isOpenGame=!0;for(var e=0,n=s.default.ALL_EVENT;e<n.length;e++){var o=n[e];if(o.event_id==c.GameConfigs.EventId.ThanhDuNgay){s.default.EVENT_TAIXIU.SHOW_EVENT_DT=0!=o.is_open,this.nodeEvent.active=s.default.EVENT_TAIXIU.SHOW_EVENT_DT;break}}this.sprChen.on(cc.Node.EventType.TOUCH_MOVE,function(e){var n=e.getDelta();t.sprChen.x+=n.x,t.sprChen.y+=n.y;var o=t.sprChen.convertToWorldSpace(cc.v2(0,0)),i=t.sprDia.convertToWorldSpace(cc.v2(0,0));Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2))>t.sprDia.getContentSize().width&&t.showResult()},this),this.node.getChildByName("NodeTX").on(cc.Node.EventType.TOUCH_MOVE,function(e){var n=e.getDelta();t.node.x+=n.x,t.node.y+=n.y}),this.node.on(cc.Node.EventType.TOUCH_START,function(){t.node.zIndex=c.GameConfigs.zOderGame.MINIGAME++,cc.systemEvent.emit(s.default.EVENT_LOBBY.CHOSE_MINI,t.node.name)}).bind(this),d.default.getInstance().processSoiCau(),this.timeOutCallFunc=setTimeout(function(){d.default.getInstance().processEventInfo(),d.default.getInstance().processGetInfoBet(),clearTimeout(t.timeOutCallFunc)},1e3)},e.prototype.registerAllEvent=function(){cc.systemEvent.on(s.default.EVENT_TAIXIU.TAIXIU_HANDLER+"pergame",this.updatePerGame.bind(this),this),cc.systemEvent.on(s.default.EVENT_TAIXIU.TAIXIU_HANDLER+"soicau",this.soiCau.bind(this),this),cc.systemEvent.on(s.default.EVENT_TAIXIU.TAIXIU_HANDLER+"BetOfAccount",this.betDone.bind(this),this),cc.systemEvent.on(s.default.EVENT_TAIXIU.TAIXIU_HANDLER+"result",this.resultSession.bind(this),this),cc.systemEvent.on(s.default.EVENT_TAIXIU.TAIXIU_HANDLER+"push_balance",this.pushBalance.bind(this),this),cc.systemEvent.on(s.default.EVENT_TAIXIU.TAIXIU_HANDLER+"errorRes",this.pushErrorNoti.bind(this),this),cc.systemEvent.on(s.default.EVENT_TAIXIU.PROCESS_DICE,this.processDice.bind(this),this),cc.systemEvent.on(s.default.EVENT_TAIXIU.INFO_BET,this.onPushInfoBet.bind(this),this)},e.prototype.onPushInfoBet=function(t){switch(t.location_id){case 1:this.lbCurrentXiu.string=r.Utility.getInstance().numberToCurrency(t.total_bet);break;case 2:this.lbCurrentTai.string=r.Utility.getInstance().numberToCurrency(t.total_bet)}},e.prototype.loadSpriteNum=function(){for(var t=0,e=this.txAtlas.getSpriteFrames();t<e.length;t++)for(var n=e[t],o=0;o<=9;o++)n.name==o+""&&this.listNum.push(n)},e.prototype.onDestroy=function(){d.default.getInstance().isOpenGame=!1,cc.systemEvent.targetOff(this),clearTimeout(this.timeOutDice),clearTimeout(this.timeOutCallFunc)},e.prototype.pushErrorNoti=function(t){switch(t){case-1:this.showNoti("\u0110\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c ch\u01a1i game");break;case-2:this.showNoti(this.language.tx_invalid_bet);break;case-3:this.showNoti(this.language.tx_noti_time)}},e.prototype.pushBalance=function(t){this.currBalance=t.balance,this.moneyWin=+t.win+ +t.refund},e.prototype.updatePerGame=function(){var t=d.default.getInstance().perGame;switch(this.lbGameSession.string="#"+t.session_id,t.game_status){case 1:this.processBetting(t);break;case 2:this.processWatting(t)}},e.prototype.processBetting=function(t){this.isResult=!1,this.btnNan.node.active=!0,this.sprResult.active=!1,this.nodeTimeBetting.active=!0,this.lbWatting.node.active=!1,this.nodeDiceResult.active=!1,this.effectNum(t),this.lbPeopleTai.string=t.total_account2,this.lbPeopleXiu.string=t.total_account1,t.remain_betting<=5&&this.canBet&&this.setStatusBet(!1),this.tempTai!=t.total_bet_value2&&(this.tempTai=t.total_bet_value2,this.lbSumTai.node.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1)))),this.tempXiu!=t.total_bet_value1&&(this.tempXiu=t.total_bet_value1,this.lbSumXiu.node.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1))));var e=r.Utility.getInstance().add_commas(Math.round(t.total_bet_value2/1e3)),n=r.Utility.getInstance().add_commas(Math.round(t.total_bet_value1/1e3));0==t.total_bet_value2?e=e:e+="K",0==t.total_bet_value1?n=n:n+="K",this.lbSumTai.string=e,this.lbSumXiu.string=n},e.prototype.processWatting=function(t){this.btnNan.node.active=!1,this.nodeTimeBetting.active=!1,this.lbWatting.node.active=!0;var e=t.remain_waiting;if(t.remain_waiting<=27&&t.remain_waiting>11&&!this.isJoinMid&&this.joinMidGame(),e>=10)switch(this.lbWatting.string="00:"+e,e){case 10:if(this.currBalance>0&&cc.systemEvent.emit(s.default.EVENT_LOBBY.UPDATE_BALANCE,this.currBalance),this.moneyWin>0){var n=new cc.Node;n.y=80;var o=n.addComponent(cc.Label);o.string="+"+r.Utility.getInstance().numberToCurrency(this.moneyWin),o.fontSize=30,o.font=this.fontMoney,this.node.addChild(n),n.runAction(cc.sequence(cc.moveBy(1.5,0,100),cc.callFunc(function(){n.destroy()})))}break;case 15:d.default.getInstance().processSoiCau(),d.default.getInstance().processEventInfo(),this.sprChen.active&&this.showResult()}else this.lbWatting.string="00:0"+e,this.canBet||this.setStatusBet(!0),8==e?this.resetSession():e<8&&this.resetBet()},e.prototype.joinMidGame=function(){if(this.isJoinMid=!0,!this.nodeDiceResult.active){this.nodeDiceResult.active=!0;for(var t=d.default.getInstance().result,e=0;e<3;e++){var n=r.Utility.getInstance().randomInt(1,4),o=t["dice"+(e+1)]+""+n;this.listDice[e].spriteFrame=this.diceAtlas.getSpriteFrame(o)}this.showResult()}},e.prototype.effectNum=function(t){var e=t.remain_betting%10;this.listSpriteNum[3].spriteFrame=this.listNum[e+1],this.listAnimNum[3].play("countDown"),this.listSpriteNum[2].spriteFrame=this.listNum[e],this.listAnimNum[2].play("countUp");var n=Math.floor(t.remain_betting/10);if(this.listSpriteNum[0].spriteFrame=this.listNum[n],t.remain_betting%10==9&&(this.listSpriteNum[1].spriteFrame=this.listNum[n+1],this.listAnimNum[1].play("countDown"),this.listSpriteNum[0].spriteFrame=this.listNum[n],this.listAnimNum[0].play("countUp")),t.remain_betting>=6)for(var o=0,i=this.listSpriteNum;o<i.length;o++){i[o].node.color=cc.Color.WHITE}else for(var a=0,c=this.listSpriteNum;a<c.length;a++){c[a].node.color=cc.Color.RED}},e.prototype.showEffect=function(){this.diceEffect.node.active=!0,this.diceEffect.play(),this.isResult=!0},e.prototype.processNan=function(){this.sprChen.x=-15,this.sprChen.y=-44,this.sprChen.active=!0},e.prototype.resultSession=function(t){null!=this.diceEffect&&(this.isResult||0!=this.diceEffect.node.active||this.showEffect())},e.prototype.processDice=function(){this.isNan?this.processNan():this.showResult()},e.prototype.showResult=function(){var t=this;this.sprChen.active=!1,this.sprResult.active=!0;var e=d.default.getInstance().result;this.sprResult.children[0].getComponent(cc.Label).string=e.dice_sum,this.sprResult.x=1==e.location_id_win?70:-100,this.result=2==e.location_id_win?this.iconTai:this.iconXiu,this.result.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.5),cc.scaleTo(.5,1)))),this.setStatusBet(!0),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.textMoveHonor()})))},e.prototype.setStatusBet=function(t){this.canBet=t,this.nodeBet.node.active=t?this.nodeBet.node.active:t,this.nodeEvent.active=!this.nodeBet.node.active,this.editBoxTai.placeholder=this.language.tx_bet,this.editBoxXiu.placeholder=this.language.tx_bet},e.prototype.resetSession=function(){this.editBoxTai.placeholder=this.language.tx_bet,this.editBoxXiu.placeholder=this.language.tx_bet,this.editBoxTai.string="",this.editBoxXiu.string="",this.lbPeopleTai.string="0",this.lbPeopleXiu.string="0",this.lbCurrentTai.string="0",this.lbCurrentXiu.string="0",this.lbSumTai.string="0",this.lbSumXiu.string="0",this.moneyWin=0,this.currBalance=0,this.lbCurrentTai.targetValue=0,this.lbCurrentXiu.targetValue=0},e.prototype.resetBet=function(){this.lbPeopleTai.string="0",this.lbPeopleXiu.string="0",this.lbCurrentTai.string="0",this.lbCurrentXiu.string="0",this.lbSumTai.string="0",this.lbSumXiu.string="0",this.moneyWin=0,this.currBalance=0,null!=this.result&&(this.result.scale=1,this.result.stopAllActions())},e.prototype.soiCau=function(){for(var t=this,e=d.default.getInstance().soicau,n=function(n){if(void 0==e[n]||null==e[n])return"break";0==n?(o.nodeTK.children[n].runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.2),cc.scaleTo(.5,1)))),o.nodeTK.children[n].getComponent(cc.Sprite).spriteFrame=2==e[n].winLocal?o.iconTaiCurrent:o.iconXiuCurrent):o.nodeTK.children[n].getComponent(cc.Sprite).spriteFrame=2==e[n].winLocal?o.iconTaiPing:o.iconXiuPing,o.nodeTK.children[n].on(cc.Node.EventType.TOUCH_END,function(e){if(null==cc.director.getScene().getChildByName("TX_SESSION")){var o=d.default.getInstance().soicau[n].session_id,i=cc.instantiate(t.prefabGameSession);i.name="TX_SESSION",i.getComponent(f.default).session=o,i.getComponent(f.default).currentSession=d.default.getInstance().perGame.session_id,d.default.getInstance().processSessionHistory(o),i.x=cc.director.getWinSize().width/2,i.y=cc.director.getWinSize().height/2,cc.director.getScene().addChild(i,c.GameConfigs.zOderGame.POP_UP)}}),cc.sys.isBrowser&&(o.nodeTK.children[n].on(cc.Node.EventType.MOUSE_ENTER,function(o){var i=cc.instantiate(t.layerNut);i.y=40,i.scale=.75;var a=e[n].dice1+"-"+e[n].dice2+"-"+e[n].dice3;i.getChildByName("lb").getComponent(cc.Label).string=a,t.nodeTK.children[n].addChild(i)}),o.nodeTK.children[n].on(cc.Node.EventType.MOUSE_LEAVE,function(e){t.nodeTK.children[n].removeAllChildren(!0)}))},o=this,i=0;i<16;i++){if("break"===n(i))break}},e.prototype.betDone=function(){var t=d.default.getInstance().betOfAccount;switch(cc.systemEvent.emit(s.default.EVENT_LOBBY.UPDATE_BALANCE,t.balance),t.winLocal){case 1:this.editBoxXiu.string="",this.editBoxXiu.placeholder=this.language.tx_bet,this.lbCurrentXiu.runNumber(t.totalBetValue,!0);break;case 2:this.editBoxTai.string="",this.editBoxTai.placeholder=this.language.tx_bet,this.lbCurrentTai.runNumber(t.totalBetValue,!0)}},e.prototype.textMoveHonor=function(){var t=this;this.lbNoti.node.stopAllActions();var e=d.default.getInstance().listTop,n="";if(e.length>0)for(var o in n="<color=#f6e29c>"+this.language.session+"</color> <color=#FAEA2D>#"+e[0].session_id+"</color> <color=#f6e29c>"+this.language.tx_noti_congratulation+" </color>",e)n+="<color=#47FF00>"+e[o].nick_name+"</color>",n+="<color=#f6e29c> "+this.language.tx_noti_win+" </color>",n+="<color=#FAEA2D>"+r.Utility.getInstance().add_commas(e[o].prize_value)+"</color>",parseInt(o)!=e.length-1&&(n+="<color=#f6e29c>, </color>");this.lbNoti.string=n;var i=this.lbNoti.node.getContentSize().width;this.lbNoti.node.runAction(cc.repeat(cc.sequence(cc.moveTo(20,-240-i,0),cc.callFunc(function(){t.lbNoti.node.x=230})),3))},e.prototype.onBtnHistory=function(t,e){var n=cc.instantiate(this.prefabHistory);n.x=cc.director.getWinSize().width/2,n.y=cc.director.getWinSize().height/2,cc.director.getScene().addChild(n,c.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnHelp=function(t,e){var n=cc.instantiate(this.prefabHelp);n.x=cc.director.getWinSize().width/2,n.y=cc.director.getWinSize().height/2,cc.director.getScene().addChild(n,c.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnTK=function(t,e){var n=cc.instantiate(this.prefabTK);n.x=cc.director.getWinSize().width/2,n.y=cc.director.getWinSize().height/2,cc.director.getScene().addChild(n,c.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnSC=function(t,e){var n=cc.instantiate(this.prefabTK);n.x=cc.director.getWinSize().width/2,n.y=cc.director.getWinSize().height/2,cc.director.getScene().addChild(n,c.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnNan=function(t,e){this.isNan=!this.isNan,this.btnNan.node.color=this.isNan?cc.Color.WHITE:cc.Color.GRAY,this.diceEffect.getComponent(h.default).isNan=this.isNan},e.prototype.onBtnChat=function(t,e){this.nodeChat.node.scale=0==this.nodeChat.node.scale?1:0},e.prototype.onBtnHonor=function(t,e){var n=cc.instantiate(this.prefabTopWin);n.x=cc.director.getWinSize().width/2,n.y=cc.director.getWinSize().height/2,cc.director.getScene().addChild(n,c.GameConfigs.zOderGame.POP_UP)},e.prototype.onBeginEdit=function(t,e){this.nodeBet.setDefault(),this.nodeBet.node.active=!0,this.nodeEvent.active=!1,"TAI"==e&&(this.localBet=2,this.nodeBet.editBox=this.editBoxTai,this.editBoxTai.node.opacity=255,this.editBoxTai.placeholder="",this.editBoxXiu.placeholder=this.language.tx_bet,this.editBoxXiu.node.opacity=100),"XIU"==e&&(this.localBet=1,this.nodeBet.editBox=this.editBoxXiu,this.editBoxXiu.placeholder="",this.editBoxXiu.node.opacity=255,this.editBoxTai.placeholder=this.language.tx_bet,this.editBoxTai.node.opacity=100),this.editBoxXiu.string="",this.editBoxTai.string=""},e.prototype.showNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent(g.default).setContent(t),e.getComponent(g.default).showDialog(2),cc.director.getScene().addChild(e,c.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnEvent=function(){for(var t=0,e=s.default.ALL_EVENT;t<e.length;t++){var n=e[t];if(n.event_id==c.GameConfigs.EventId.ThanhLongBachHo&&0==n.is_open)return void this.showNoti("S\u1ef1 ki\u1ec7n \u0111ang t\u1ea1m \u0111\xf3ng, vui l\xf2ng quay l\u1ea1i sau.")}var o=cc.instantiate(this.eventPrefab),i=cc.winSize;o.x=i.width/2,o.y=i.height/2,o.getComponent(m.default).onShowNoelTotal(),cc.director.getScene().addChild(o,c.GameConfigs.zOderGame.POP_UP)},e.prototype.onEditTai=function(){if(this.editBoxTai.string=this.editBoxTai.string.replace(/[^0-9]/g,""),/\d/.test(this.editBoxTai.string)){var t=this.editBoxTai.string.replace(/[.]/g,"");this.editBoxTai.string=r.Utility.getInstance().numberToCurrency(t)}},e.prototype.onEditXiu=function(){if(this.editBoxXiu.string=this.editBoxXiu.string.replace(/[^0-9]/g,""),/\d/.test(this.editBoxXiu.string)){var t=this.editBoxXiu.string.replace(/[.]/g,"");this.editBoxXiu.string=r.Utility.getInstance().numberToCurrency(t)}},e.prototype.onReturnEdit=function(t,e){if("TAI"==e){if(""==this.editBoxTai.string.trim())return;this.nodeBet.onBtnBet(null,null)}if("XIU"==e){if(""==this.editBoxXiu.string.trim())return;this.nodeBet.onBtnBet(null,null)}},i([b(a.default)],e.prototype,"nodeBet",void 0),i([b(p.default)],e.prototype,"nodeChat",void 0),i([b(cc.Node)],e.prototype,"nodeTimeBetting",void 0),i([b(cc.Label)],e.prototype,"lbWatting",void 0),i([b(cc.Node)],e.prototype,"sprChen",void 0),i([b(cc.Node)],e.prototype,"sprDia",void 0),i([b(cc.Node)],e.prototype,"sprResult",void 0),i([b(cc.Node)],e.prototype,"iconTai",void 0),i([b(cc.Node)],e.prototype,"iconXiu",void 0),i([b(cc.Node)],e.prototype,"nodeTK",void 0),i([b(cc.Node)],e.prototype,"nodeHonor",void 0),i([b(cc.Label)],e.prototype,"lbGameSession",void 0),i([b(_.default)],e.prototype,"lbCurrentTai",void 0),i([b(cc.Label)],e.prototype,"lbPeopleTai",void 0),i([b(cc.Label)],e.prototype,"lbPeopleXiu",void 0),i([b(cc.Label)],e.prototype,"lbSumTai",void 0),i([b(cc.Label)],e.prototype,"lbSumXiu",void 0),i([b(_.default)],e.prototype,"lbCurrentXiu",void 0),i([b(cc.SpriteFrame)],e.prototype,"iconTaiPing",void 0),i([b(cc.SpriteFrame)],e.prototype,"iconXiuPing",void 0),i([b(cc.SpriteFrame)],e.prototype,"iconXiuCurrent",void 0),i([b(cc.SpriteFrame)],e.prototype,"iconTaiCurrent",void 0),i([b(cc.Button)],e.prototype,"btnNan",void 0),i([b(cc.Animation)],e.prototype,"diceEffect",void 0),i([b(cc.Node)],e.prototype,"nodeDiceResult",void 0),i([b(cc.Prefab)],e.prototype,"prefabTK",void 0),i([b(cc.Prefab)],e.prototype,"prefabHistory",void 0),i([b(cc.Prefab)],e.prototype,"prefabHelp",void 0),i([b(cc.Prefab)],e.prototype,"prefabGameSession",void 0),i([b(cc.Prefab)],e.prototype,"prefabTopWin",void 0),i([b(cc.Prefab)],e.prototype,"layerNut",void 0),i([b(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([b(cc.Font)],e.prototype,"fontMoney",void 0),i([b(cc.SpriteAtlas)],e.prototype,"diceAtlas",void 0),i([b(cc.SpriteAtlas)],e.prototype,"txAtlas",void 0),i([b(cc.Sprite)],e.prototype,"listDice",void 0),i([b(cc.RichText)],e.prototype,"lbNoti",void 0),i([b(cc.Sprite)],e.prototype,"listSpriteNum",void 0),i([b(cc.Animation)],e.prototype,"listAnimNum",void 0),i([b(cc.EditBox)],e.prototype,"editBoxXiu",void 0),i([b(cc.EditBox)],e.prototype,"editBoxTai",void 0),i([b(cc.Prefab)],e.prototype,"eventPrefab",void 0),i([b(cc.Node)],e.prototype,"nodeEvent",void 0),e=i([v],e)}(cc.Component);n.default=C,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/UI/Notification":"Notification","../../Common/UI/NumberRun":"NumberRun","../../Common/Utilities/Utility":"Utility","../../Lobby/Scripts/Event":"Event","./NodeBetTXMini":"NodeBetTXMini","./NodeChatTXMini":"NodeChatTXMini","./PopupTXSession":"PopupTXSession","./TXAnim":"TXAnim","./TaiXiuHandler":"TaiXiuHandler"}],ThinhKinhEff:[function(t,e,n){"use strict";cc._RF.push(e,"25005y2ZZhCBZX+IohXHyZI","ThinhKinhEff");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeXoay=null,e.nodeWin=null,e}return o(e,t),e.prototype.onLoad=function(){this.nodeXoay.runAction(cc.repeatForever(cc.rotateBy(5,360))),this.nodeWin.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(1,1.2),cc.scaleTo(1,1))))},i([s(cc.Node)],e.prototype,"nodeXoay",void 0),i([s(cc.Node)],e.prototype,"nodeWin",void 0),e=i([c],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],ThinhKinhHandler:[function(t,e,n){"use strict";cc._RF.push(e,"f3f59Du4DlDNLvab0ctn3Nl","ThinhKinhHandler");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Common/Data/GameData"),a=t("../../Common/Network/WsHandler"),c=t("../../Common/Data/GameConfigs"),s=t("../../Common/Data/LabelHelperConfigs"),r=cc._decorator,l=r.ccclass,u=(r.property,function(){function t(){this.joinRoom={eventRank:0,count:0,x2_event:!1},this.spinData={spinId:0,totalBetValue:0,totalPrizeValue:0,slotData:"",prizeData:"",balance:0,responseStatus:0,lineData:"1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20",listLineWins:[],isJackpot:!1,eventRank:0,bestCount:0,count:0,isBonus:0},this.listHonor=[],this.listHistory=[],this.listJackpot=[],this.curlineData=this.spinData.lineData.split(",")}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e),this.Instance},t.prototype.connect=function(){a.WsHandler.getInstance().joinGame(c.GameConfigs.WSGameName.ThinhKinh),cc.systemEvent.on(c.GameConfigs.WSGameName.ThinhKinh,this.onMessage.bind(this),this)},t.prototype.close=function(){cc.systemEvent.targetOff(this),a.WsHandler.getInstance().leaveGame(c.GameConfigs.WSGameName.ThinhKinh)},t.prototype.onMessage=function(t){try{var e=null,n=null;null!=t&&t.hasOwnProperty("cmd")&&(e=t.cmd,n=t.message_data),null!=n&&("PLAY_SPIN"==e&&this.parseSpin(n),"RANKING"==e&&this.parseHonor(n),"TOP_JACKPOT"==e&&this.parseTopJackpot(n),"HISTORY"==e&&this.parseHistory(n),"UPDATE_ACCOUNT"==e&&this.parseJoinGame(n))}catch(t){console.error(t)}},t.prototype.resetLineData=function(){this.curlineData=this.spinData.lineData.split(",")},t.prototype.parseSpin=function(t){if(null!=t){var e=[];if(this.spinData.listLineWin=[],this.spinData.responseStatus=t.response_status,this.spinData.spinId=t.spin_id,this.spinData.totalBetValue=t.total_bet,this.spinData.totalPrizeValue=t.total_prize,this.spinData.slotData=t.slot_string.split(","),this.spinData.prizeData=t.prize_string.split(";"),this.spinData.balance=t.balance,this.spinData.isJackpot=t.is_jackpot,this.spinData.eventRank=t.hoatuyet_event_rank,this.spinData.bestCount=t.hoatuyet_best_count,this.spinData.count=t.hoatuyet_count,this.spinData.isBonus=t.hoatuyet_is_bonus,""==this.spinData.prizeData)this.spinData.listLineWins=[];else{for(var n in this.spinData.prizeData)e[n]=this.spinData.prizeData[n].split(",");for(n=0;n<e.length;n++)this.spinData.listLineWin[n]=e[n][0]}cc.systemEvent.emit(c.GameConfigs.WSGameName.ThinhKinh+"Spin")}},t.prototype.parseTopJackpot=function(t){if(null!=t){for(var e in this.listJackpot=[],t){var n={nickName:t[e].nick_name,roomId:t[e].room_id,prizeValue:t[e].prize_value,createDate:t[e].create_time};this.listJackpot.push(n)}cc.systemEvent.emit(c.GameConfigs.WSGameName.ThinhKinh+"TopJackpot")}},t.prototype.parseHonor=function(t){if(null!=t){this.listHonor=[];var e=s.TextData[i.default.getInstance().UserData.textPackage];for(var n in t){var o={typeHonor:t[n].typeHonor,nickName:t[n].nick_name,roomId:t[n].room_id,prizeValue:t[n].prize_value,description:t[n].top_type,createDate:t[n].date_time};0==o.description?o.description=e.bigwin:o.description=e.jackpot,this.listHonor.push(o)}cc.systemEvent.emit(c.GameConfigs.WSGameName.ThinhKinh+"Honor")}},t.prototype.parseHistory=function(t){if(null!=t){for(var e in this.listHistory=[],t){var n={spinId:t[e].spin_id,roomId:t[e].room_id,totalBet:t[e].total_bet,totalPrize:t[e].total_prize,nickName:t[e].username,createDate:t[e].date_time};this.listHistory.push(n)}cc.systemEvent.emit(c.GameConfigs.WSGameName.ThinhKinh+"History")}},t.prototype.parseJoinGame=function(t){null!=t&&(this.joinRoom.eventRank=t.hoatuyet_event_rank,this.joinRoom.count=t.hoatuyet_count,cc.systemEvent.emit(c.GameConfigs.WSGameName.ThinhKinh+"JoinRoom"))},t.prototype.sendMessSpinGame=function(t,e){var n=JSON.stringify({cmd:"PLAY_SPIN",message_data:{account_id:i.default.getInstance().UserData.userid,room_id:t,line_string:e}});a.WsHandler.getInstance().playGame(c.GameConfigs.WSGameName.ThinhKinh,n)},t.prototype.sendMessTopJackpot=function(){var t=JSON.stringify({cmd:"TOP_JACKPOT",message_data:{}});a.WsHandler.getInstance().playGame(c.GameConfigs.WSGameName.ThinhKinh,t)},t.prototype.sendMessHonor=function(){var t=JSON.stringify({cmd:"RANKING",message_data:0});a.WsHandler.getInstance().playGame(c.GameConfigs.WSGameName.ThinhKinh,t)},t.prototype.sendMessHistory=function(){var t=JSON.stringify({cmd:"HISTORY",message_data:0});a.WsHandler.getInstance().playGame(c.GameConfigs.WSGameName.ThinhKinh,t)},t.Instance=null,t=e=o([l],t)}());n.ThinhKinhHandler=u,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/WsHandler":"WsHandler"}],ThinhKinhLine:[function(t,e,n){"use strict";cc._RF.push(e,"dc7c5Mq+OhEQItTWyLGcMZ4","ThinhKinhLine");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./ThinhKinhHandler"),c=t("../../Common/Data/GameConfigs"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lineButtons=null,e.listLine=[],e}return o(e,t),e.prototype.onLoad=function(){for(var t=a.ThinhKinhHandler.getInstance().curlineData,e=1;e<=20;e++)this.lineButtons.getChildByName(e.toString()).opacity=0;for(e=0;e<t.length;e++)this.lineButtons.getChildByName(t[e].toString()).opacity=255},e.prototype.onLineButtons=function(t,e){255==t.target.opacity?t.target.opacity=0:t.target.opacity=255},e.prototype.onBtnLe=function(){for(var t=1;t<=20;t++)this.lineButtons.getChildByName(t.toString()).opacity=t%2!=0?255:0},e.prototype.onBtnChan=function(){for(var t=1;t<=20;t++)this.lineButtons.getChildByName(t.toString()).opacity=t%2==0?255:0},e.prototype.onBtnAll=function(){for(var t=1;t<=20;t++)this.lineButtons.getChildByName(t.toString()).opacity=255},e.prototype.onBtnCancle=function(){for(var t=1;t<=20;t++)this.lineButtons.getChildByName(t.toString()).opacity=1==t?255:0},e.prototype.checkCanClose=function(){for(var t=1;t<=20;t++)if(255==this.lineButtons.getChildByName(t.toString()).opacity)return!0;return!1},e.prototype.onBtnClose=function(){this.checkCanClose()||(this.lineButtons.getChildByName("1").opacity=255);for(var t=1;t<=20;t++)255==this.lineButtons.getChildByName(t.toString()).opacity&&this.listLine.push(t);a.ThinhKinhHandler.getInstance().curlineData=this.listLine,cc.systemEvent.emit(c.GameConfigs.WSGameName.ThinhKinh+"ChooseLine",this.listLine),this.node.getComponent("PopupInterface").closePopup()},i([l(cc.Node)],e.prototype,"lineButtons",void 0),e=i([r],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Common/Data/GameConfigs":"GameConfigs","./ThinhKinhHandler":"ThinhKinhHandler"}],ThinhKinh:[function(t,e,n){"use strict";cc._RF.push(e,"d95e2vQLrhLf5PXS1pMYSlu","ThinhKinh");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a,c=t("../../Common/UI/NumberRun"),s=t("../../Common/UI/PopupInterface"),r=t("../../Common/Data/GameData"),l=t("./ThinhKinhHandler"),u=t("../../Common/Utilities/Utility"),p=t("../../Common/Data/GameConfigs"),d=t("../../Common/Data/Constants"),h=t("../../Common/UI/Notification"),f=t("../../Common/Data/LabelHelperConfigs"),_=cc._decorator,g=_.ccclass,m=_.property;(function(t){t[t.WIN=0]="WIN",t[t.JACKPOT=1]="JACKPOT",t[t.NORMAL=2]="NORMAL",t[t.X2=3]="X2"})(a=n.GAME_STATE||(n.GAME_STATE={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listScrollView=[],e.fastSpinSprite=[],e.AutoSpinSprite=[],e.AutoSpinButton=null,e.fastSpinButton=null,e.SpinButton=null,e.btnBack=null,e.choseLineButton=null,e.listRoom=null,e.thinhKinhLine=null,e.popUpTopWinner=null,e.popUpHistory=null,e.popUpTopJackpot=null,e.popUpHelp=null,e.nodeLines=null,e.moneyLabel=null,e.winBG=null,e.UsdtLabel=null,e.jackpotLabel=null,e.lineLabel=null,e.lbSession=null,e.notiPrefab=null,e.jackpotFx=null,e.bigwinFx=null,e.megaWinFx=null,e.nodeFX=null,e.winPar=null,e.betValue=null,e.lbWin=null,e.isbet=!0,e.roomId=1,e.tempAuto=1,e.totalMoneyWin=0,e.roomMoney=100,e.prevJackpot=0,e.isAuto=!1,e.isFast=!1,e.winJackpot=!1,e.canBet=!0,e.listLine=[],e.itemList=[],e.prizeData=[],e.listLineWin=[],e.size=cc.winSize,e.SCROLL_FAST=.2,e.SCROLL_NORMAL=.6,e.timeX2=3,e.timeWin=5,e.timeNormal=2,e.timeJackPotFx=3,e.settime=null,e.gameState=a.NORMAL,e.intervalAuto=null,e.language=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.init(),this.language=f.TextData[r.default.getInstance().UserData.textPackage],this.SpinButton.node.on(cc.Node.EventType.TOUCH_END,function(e){clearInterval(t.intervalAuto)}),this.SpinButton.node.on(cc.Node.EventType.TOUCH_CANCEL,function(e){clearInterval(t.intervalAuto)})},e.prototype.init=function(){var t=this;cc.systemEvent.on(p.GameConfigs.WSGameName.ThinhKinh+"Spin",this.processSpin.bind(this),this),cc.systemEvent.on(p.GameConfigs.WSGameName.ThinhKinh+"ChooseLine",this.processChooseLine.bind(this),this),cc.systemEvent.on(p.GameConfigs.WSGameName.ThinhKinh+"JoinRoom",this.processJoinRoom.bind(this),this),cc.systemEvent.on(p.GameConfigs.JPName.ThinhKinh,this.onPushJackpot.bind(this),this),this.listScrollView[2].getComponent("Scroll").callBackEnd=this.callbackEnd.bind(this),this.listLine=l.ThinhKinhHandler.getInstance().spinData.lineData.split(","),this.node.getComponent(s.default).addTouchMove(),this.node.on(cc.Node.EventType.TOUCH_START,function(){t.node.zIndex=p.GameConfigs.zOderGame.MINIGAME++}).bind(this)},e.prototype.onPushJackpot=function(t){t&&t[this.roomId-1]&&(this.jackpotLabel.money=t[this.roomId-1],this.UsdtLabel.runNumberPrefix(t[this.roomId-1]/2e4,!0))},e.prototype.processJoinRoom=function(){l.ThinhKinhHandler.getInstance().joinRoom},e.prototype.processChooseLine=function(t){this.listLine=t,this.lineLabel.string=this.listLine.length+""},e.prototype.processSpin=function(){var t=l.ThinhKinhHandler.getInstance().spinData;if(t.responseStatus<0)return-104==t.responseStatus&&this.showNotMoney(),-102==t.responseStatus&&this.showNoti("T\xe0i kho\u1ea3n b\u1ecb kh\xf3a"),-103==t.responseStatus?this.showNoti("\u0110\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c ch\u01a1i game!"):this.showNoti(this.language.system_busy),this.setEnableButtons(!0),this.SpinButton.node.active=!0,this.fastSpinButton.getComponent(cc.Sprite).spriteFrame=this.fastSpinSprite[1],this.AutoSpinButton.getComponent(cc.Sprite).spriteFrame=this.AutoSpinSprite[1],this.canBet=!0,this.isAuto=!1,void(this.isFast=!1);for(var e in this.listScrollView)this.listScrollView[e].getComponent("Scroll").setSpinFast(this.isFast),this.listScrollView[e].getComponent("Scroll").ScrollItem(this.isFast?this.SCROLL_FAST:this.SCROLL_NORMAL);for(e=1;e<=20;e++)this.nodeLines.getChildByName(e.toString()).active=!1;this.canBet=!1,this.lbSession.string="#"+l.ThinhKinhHandler.getInstance().spinData.spinId,this.moneyLabel.node.active=!1,this.winBG.active=!1,this.setEnableButtons(!1),this.nodeFX.removeAllChildren(),this.nodeLines.stopAllActions(),this.isAuto?this.AutoSpinButton.interactable=!0:this.AutoSpinButton.interactable=!1,this.btnBack.interactable=!1,this.isFast?this.fastSpinButton.interactable=!0:this.fastSpinButton.interactable=!1,this.listLineWin=l.ThinhKinhHandler.getInstance().spinData.listLineWin,this.totalMoneyWin=l.ThinhKinhHandler.getInstance().spinData.totalPrizeValue,this.winJackpot=l.ThinhKinhHandler.getInstance().spinData.isJackpot},e.prototype.setEnableButtons=function(t){this.btnBack.interactable=t,this.isbet=t,this.SpinButton.interactable=t,this.AutoSpinButton.interactable=t,this.fastSpinButton.interactable=t,this.choseLineButton.interactable=t},e.prototype.setMiddleScene=function(t){t.setPosition(this.size.width/2,this.size.height/2),cc.director.getScene().addChild(t,1e3)},e.prototype.lineListToString=function(){for(var t="",e=this.listLine.length,n=0;n<e;n++)if(t+=this.listLine[n]+",",n==e-1)return t.substr(0,t.length-1)},e.prototype.onBtnSpin=function(){this.winPar.node.active=!1;var t=this.roomMoney*this.listLine.length;if(r.default.getInstance().UserData.balance<t)return this.showNotMoney(),void this.setEnableButtons(!0);this.setEnableButtons(!1),this.isAuto&&(this.AutoSpinButton.interactable=!0),this.isFast&&(this.fastSpinButton.interactable=!0),this.lbWin.string="",r.default.getInstance().UserData.balance-=t,cc.systemEvent.emit(d.default.EVENT_LOBBY.UPDATE_BALANCE,r.default.getInstance().UserData.balance),l.ThinhKinhHandler.getInstance().sendMessSpinGame(this.roomId,this.lineListToString())},e.prototype.onbtnBet=function(t,e){if(this.isbet&&this.canBet&&!this.isAuto&&!this.isFast){this.nodeFX.removeAllChildren(),this.moneyLabel.node.active=!1,this.winBG.active=!1,this.nodeLines.stopAllActions();for(var n=this.listRoom.children,o=0;o<4;o++)n[o].opacity=o==parseInt(e)?255:0;switch(this.roomId=parseInt(e)+1,this.roomId){case 1:this.roomMoney=100;break;case 2:this.roomMoney=1e3;break;case 3:this.roomMoney=5e3;break;case 4:this.roomMoney=1e4}this.betValue.string=u.Utility.getInstance().numberToCurrency(this.roomMoney)}},e.prototype.onBtnAutoSpin=function(){var t=this,e=this.roomMoney*this.listLine.length;if(r.default.getInstance().UserData.balance<e)return this.showNotMoney(),void this.setEnableButtons(!0);this.isAuto=!this.isAuto,this.AutoSpinButton.interactable=!0,this.isAuto?(this.onBtnSpin(),this.tempAuto=2,this.AutoSpinButton.getComponent(cc.Sprite).spriteFrame=this.AutoSpinSprite[0]):(this.setEnableButtons(!1),this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){t.setEnableButtons(!0)}))),this.AutoSpinButton.interactable=!1,this.tempAuto=1,this.node.stopAllActions(),this.AutoSpinButton.getComponent(cc.Sprite).spriteFrame=this.AutoSpinSprite[1])},e.prototype.onBtnFast=function(){var t=this,e=this.roomMoney*this.listLine.length;if(r.default.getInstance().UserData.balance<e)return this.showNotMoney(),void this.setEnableButtons(!0);if(this.isFast=!this.isFast,this.fastSpinButton.interactable=!0,this.isFast)this.onBtnSpin(),this.tempAuto=2,this.fastSpinButton.getComponent(cc.Sprite).spriteFrame=this.fastSpinSprite[0];else{this.fastSpinButton.interactable=!1,this.tempAuto=1;var n=cc.delayTime(1.2),o=cc.callFunc(function(){t.node.stopAllActions()}),i=cc.sequence(n,o);this.node.runAction(i);var a=cc.delayTime(1.8),c=cc.callFunc(function(){t.setEnableButtons(!0)}),s=cc.sequence(a,c);this.node.runAction(s),this.node.runAction(s),this.fastSpinButton.getComponent(cc.Sprite).spriteFrame=this.fastSpinSprite[1]}},e.prototype.onBtn20line=function(){var t=cc.instantiate(this.thinhKinhLine);this.setMiddleScene(t)},e.prototype.onBtnTopWinner=function(){var t=cc.instantiate(this.popUpTopWinner);this.setMiddleScene(t)},e.prototype.onBtnHistory=function(){var t=cc.instantiate(this.popUpHistory);this.setMiddleScene(t)},e.prototype.onBtnTopJackpot=function(){var t=cc.instantiate(this.popUpTopJackpot);this.setMiddleScene(t)},e.prototype.onBtnHelp=function(){var t=cc.instantiate(this.popUpHelp);this.setMiddleScene(t)},e.prototype.showMoneyWin=function(){var t=this,e=this.listLine.length;if(0!=this.totalMoneyWin){this.totalMoneyWin<=this.roomMoney*e*3&&!this.winJackpot&&this.nodeLines.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){t.winPar.resetSystem(),t.winPar.node.active=!0,t.winBG.active=!0,t.node.runAction(cc.sequence(cc.delayTime(1.8),cc.callFunc(function(){t.winPar.node.active=!1}))),t.moneyLabel.node.active=!0,t.moneyLabel.targetValue=0,t.moneyLabel.runNumber(t.totalMoneyWin,!0)})));this.node.runAction(cc.sequence(cc.delayTime(1500),cc.callFunc(function(){t.lbWin.string=u.Utility.getInstance().numberToCurrency(t.totalMoneyWin)})));var n=l.ThinhKinhHandler.getInstance().spinData.balance;r.default.getInstance().UserData.balance=n,this.node.runAction(cc.sequence(cc.delayTime(1.3),cc.callFunc(function(){cc.systemEvent.emit(d.default.EVENT_LOBBY.UPDATE_BALANCE,n)})))}},e.prototype.checkEffectWin=function(){var t,e=this.listLine.length;(0!=l.ThinhKinhHandler.getInstance().spinData.isBonus&&(this.gameState=a.X2),this.totalMoneyWin>this.roomMoney*e*3&&this.totalMoneyWin<=this.roomMoney*e*7)&&((t=cc.instantiate(this.bigwinFx)).getChildByName("money").getComponent(c.default).runNumber(this.totalMoneyWin,!0),this.nodeFX.addChild(t),this.gameState=a.WIN);this.totalMoneyWin>this.roomMoney*e*7&&!this.winJackpot&&((t=cc.instantiate(this.megaWinFx)).getChildByName("money").getComponent(c.default).runNumber(this.totalMoneyWin,!0),this.nodeFX.addChild(t),this.gameState=a.WIN);this.winJackpot&&((t=cc.instantiate(this.jackpotFx)).getChildByName("money").getComponent(c.default).runNumber(this.totalMoneyWin,!0),this.nodeFX.addChild(t),this.gameState=a.JACKPOT,this.fastSpinButton.getComponent(cc.Sprite).spriteFrame=this.fastSpinSprite[1],this.AutoSpinButton.getComponent(cc.Sprite).spriteFrame=this.AutoSpinSprite[1],this.fastSpinButton.interactable=!1,this.AutoSpinButton.interactable=!1,this.isFast=!1,this.isAuto=!1)},e.prototype.lineAction=function(t){var e=this,n=0;n=this.tempAuto%2==0?1.2:.75,this.nodeLines.getChildByName(this.listLineWin[t].toString()).active=!0,this.nodeLines.runAction(cc.sequence(cc.delayTime(n),cc.callFunc(function(){e.nodeLines.getChildByName(e.listLineWin[t].toString()).active=!1})))},e.prototype.showLinesWin=function(){var t=this,e=function(e){n.nodeLines.runAction(cc.sequence(cc.delayTime(.1+.75*+e),cc.callFunc(function(){t.lineAction(e)})))},n=this;for(var o in this.listLineWin)e(o);this.node.runAction(cc.sequence(cc.delayTime(1.7),cc.callFunc(function(){return t.setEnableButtons(!0)})))},e.prototype.showLinesWinSpinAuto=function(){var t=this,e=function(e){n.nodeLines.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){t.lineAction(e)})))},n=this;for(var o in this.listLineWin)e(o);var i=0;this.gameState==a.X2&&(i=this.timeX2),this.gameState==a.WIN&&(i=this.timeWin),this.gameState==a.NORMAL&&(i=this.timeNormal),this.gameState==a.JACKPOT&&(i=this.timeJackPotFx),this.nodeLines.runAction(cc.sequence(cc.delayTime(i),cc.callFunc(function(){t.gameState=a.NORMAL,t.isAuto||t.isFast?t.onBtnSpin():t.setEnableButtons(!0)})))},e.prototype.callbackEnd=function(){this.canBet=!0,this.showMoneyWin(),this.checkEffectWin(),this.tempAuto%2==0?this.showLinesWinSpinAuto():this.showLinesWin()},e.prototype.onDestroy=function(){l.ThinhKinhHandler.getInstance().resetLineData(),l.ThinhKinhHandler.getInstance().close(),cc.systemEvent.targetOff(this)},e.prototype.showNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent(h.default).setContent(t),e.getComponent(h.default).showDialog(2),cc.director.getScene().addChild(e,p.GameConfigs.zOderGame.POP_UP)},e.prototype.showNotMoney=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent(h.default).setContent(this.language.no_enough_balance),t.getComponent(h.default).showNotMoney(),cc.director.getScene().addChild(t,p.GameConfigs.zOderGame.POP_UP)},i([m(cc.ScrollView)],e.prototype,"listScrollView",void 0),i([m(cc.SpriteFrame)],e.prototype,"fastSpinSprite",void 0),i([m(cc.SpriteFrame)],e.prototype,"AutoSpinSprite",void 0),i([m(cc.Button)],e.prototype,"AutoSpinButton",void 0),i([m(cc.Button)],e.prototype,"fastSpinButton",void 0),i([m(cc.Button)],e.prototype,"SpinButton",void 0),i([m(cc.Button)],e.prototype,"btnBack",void 0),i([m(cc.Button)],e.prototype,"choseLineButton",void 0),i([m(cc.Node)],e.prototype,"listRoom",void 0),i([m(cc.Prefab)],e.prototype,"thinhKinhLine",void 0),i([m(cc.Prefab)],e.prototype,"popUpTopWinner",void 0),i([m(cc.Prefab)],e.prototype,"popUpHistory",void 0),i([m(cc.Prefab)],e.prototype,"popUpTopJackpot",void 0),i([m(cc.Prefab)],e.prototype,"popUpHelp",void 0),i([m(cc.Node)],e.prototype,"nodeLines",void 0),i([m(c.default)],e.prototype,"moneyLabel",void 0),i([m(cc.Node)],e.prototype,"winBG",void 0),i([m(c.default)],e.prototype,"UsdtLabel",void 0),i([m(c.default)],e.prototype,"jackpotLabel",void 0),i([m(cc.Label)],e.prototype,"lineLabel",void 0),i([m(cc.Label)],e.prototype,"lbSession",void 0),i([m(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([m(cc.Prefab)],e.prototype,"jackpotFx",void 0),i([m(cc.Prefab)],e.prototype,"bigwinFx",void 0),i([m(cc.Prefab)],e.prototype,"megaWinFx",void 0),i([m(cc.Node)],e.prototype,"nodeFX",void 0),i([m(cc.ParticleSystem)],e.prototype,"winPar",void 0),i([m(cc.Label)],e.prototype,"betValue",void 0),i([m(cc.Label)],e.prototype,"lbWin",void 0),e=i([g],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/UI/Notification":"Notification","../../Common/UI/NumberRun":"NumberRun","../../Common/UI/PopupInterface":"PopupInterface","../../Common/Utilities/Utility":"Utility","./ThinhKinhHandler":"ThinhKinhHandler"}],Transfer:[function(t,e,n){"use strict";cc._RF.push(e,"0120eluaeBL05WnTr/5uRK2","Transfer");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Network/ConnectHandler"),c=t("../../Common/Data/LabelHelperConfigs"),s=t("../../Common/Data/GameData"),r=t("./LoadingManager"),l=t("../../Common/Data/Constants"),u=t("../../Common/Data/GameConfigs"),p=t("../../Common/Utilities/Utility"),d=t("../../Common/UI/Notification"),h=t("./Payment"),f=cc._decorator,_=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eboxID=null,e.eboxMoney=null,e.eboxDesc=null,e.eboxOTP=null,e.lbName=null,e.lbMoney=null,e.notiPrefab=null,e.nodeUyTin=null,e.lbLevel=null,e.nodeOption=null,e.nodeConfirm=null,e.confID=null,e.confNick=null,e.confMoney=null,e.confReceive=null,e.confDesc=null,e.payment=null,e.language=null,e}return o(e,t),e.prototype.onLoad=function(){this.language=c.TextData[s.default.getInstance().UserData.textPackage],cc.systemEvent.on(l.default.EVENT_API.TRANSFER_MONEY,this.onTransferResponse.bind(this),this),cc.systemEvent.on(l.default.EVENT_API.GET_NICK,this.onGetNickResponse.bind(this),this)},e.prototype.onGetNickResponse=function(t){this.nodeUyTin.active=!1,this.lbLevel.string="",null!=t&&null!=t.data?(this.lbName.string=t.data.nick,this.nodeUyTin.active=1==t.data.is_merchant,this.lbLevel.string=0!=t.data.level?"\u0110\u1ea1i L\xfd C\u1ea5p "+t.data.level:""):this.lbName.string=""},e.prototype.onTransferResponse=function(t){if(r.default.getInstance().hide(),null!=t){if(this.enableNoti(a.default.getInstance().statusApiError(t.status)),0==t.status){var e=this.eboxMoney.string.replace(/[.]/g,""),n=s.default.getInstance().UserData.balance-parseInt(e);cc.systemEvent.emit(l.default.EVENT_LOBBY.UPDATE_BALANCE,n)}this.resetDefault()}else this.enableNoti(this.language.system_busy)},e.prototype.onEnable=function(){this.resetDefault()},e.prototype.resetDefault=function(){this.eboxID.string="",this.eboxMoney.string="",this.eboxDesc.string="",this.eboxOTP.string="",this.lbMoney.string="0",this.lbName.string="",this.lbLevel.string="",this.nodeUyTin.active=!1,this.nodeOption.active=!0,this.nodeConfirm.active=!1,this.payment.isTransaction=!1},e.prototype.setTransferMerchant=function(t,e){this.nodeUyTin.active=!0,this.eboxID.string=t,this.lbName.string=e,this.lbLevel.string="\u0110\u1ea1i L\xfd C\u1ea5p 1"},e.prototype.onEditID=function(t){0!=this.eboxID.string.length&&a.default.getInstance().processGetNickname(this.eboxID.string)},e.prototype.onTextChangeMoney=function(){if(this.eboxMoney.string=this.eboxMoney.string.replace(/[^0-9]/g,""),/\d/.test(this.eboxMoney.string)){var t=this.eboxMoney.string.replace(/[.]/g,"");this.eboxMoney.string=p.Utility.getInstance().numberToCurrency(t)}var e=this.eboxMoney.string.replace(/[.]/g,""),n=Math.round(+e*(1-u.GameConfigs.server_config.transfer_fee/100));this.lbMoney.string=p.Utility.getInstance().numberToCurrency(n)},e.prototype.onBtnContinue=function(t){0!=this.eboxID.string.length?this.eboxID.string!=s.default.getInstance().UserData.pub_id?0!=this.eboxMoney.string.length?0!=this.eboxDesc.string.length?(this.confID.string=this.eboxID.string,this.confNick.string=this.lbName.string,this.confMoney.string=this.eboxMoney.string,this.confReceive.string=this.lbMoney.string,this.confDesc.string=this.eboxDesc.string,this.nodeOption.active=!1,this.nodeConfirm.active=!0,this.payment.isTransaction=!0):this.enableNoti(this.language.null_desc):this.enableNoti(this.language.null_money):this.enableNoti("Kh\xf4ng th\u1ec3 chuy\u1ec3n kho\u1ea3n cho t\xe0i kho\u1ea3n c\xe1 nh\xe2n"):this.enableNoti(this.language.null_id)},e.prototype.onBtnConfirm=function(t){if(0!=this.eboxOTP.string.length){var e=this.eboxID.string,n=this.eboxMoney.string.replace(/[.]/g,""),o=encodeURIComponent(this.eboxDesc.string),i=this.eboxOTP.string;r.default.getInstance().show(),a.default.getInstance().processTransfer(e,n,o,i)}else this.enableNoti(this.language.null_otp)},e.prototype.onBtnCancle=function(t){this.nodeOption.active=!0,this.nodeConfirm.active=!1,this.payment.isTransaction=!1},e.prototype.onBtnOTP=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent(d.default).showOTP(),t.getComponent(d.default).setContent(this.language.noti_get_otp),cc.director.getScene().addChild(t,u.GameConfigs.zOderGame.POP_UP)},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent("Notification").showDialog(2),e.getComponent("Notification").setContent(t),cc.director.getScene().addChild(e,u.GameConfigs.zOderGame.POP_UP)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([g(cc.EditBox)],e.prototype,"eboxID",void 0),i([g(cc.EditBox)],e.prototype,"eboxMoney",void 0),i([g(cc.EditBox)],e.prototype,"eboxDesc",void 0),i([g(cc.EditBox)],e.prototype,"eboxOTP",void 0),i([g(cc.Label)],e.prototype,"lbName",void 0),i([g(cc.Label)],e.prototype,"lbMoney",void 0),i([g(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([g(cc.Node)],e.prototype,"nodeUyTin",void 0),i([g(cc.Label)],e.prototype,"lbLevel",void 0),i([g(cc.Node)],e.prototype,"nodeOption",void 0),i([g(cc.Node)],e.prototype,"nodeConfirm",void 0),i([g(cc.Label)],e.prototype,"confID",void 0),i([g(cc.Label)],e.prototype,"confNick",void 0),i([g(cc.Label)],e.prototype,"confMoney",void 0),i([g(cc.Label)],e.prototype,"confReceive",void 0),i([g(cc.Label)],e.prototype,"confDesc",void 0),i([g(h.default)],e.prototype,"payment",void 0),e=i([_],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/UI/Notification":"Notification","../../Common/Utilities/Utility":"Utility","./LoadingManager":"LoadingManager","./Payment":"Payment"}],UpdateMail:[function(t,e,n){"use strict";cc._RF.push(e,"66250KO9ZdLOJpIliECOVRc","UpdateMail");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e=i([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],UpdateNickName:[function(t,e,n){"use strict";cc._RF.push(e,"184bdsbf2FH+qfN+udVcTFw","UpdateNickName");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameData"),c=t("../../Common/Network/ConnectHandler"),s=t("../../Common/Data/Constants"),r=t("../../Common/Data/LabelHelperConfigs"),l=t("./LoadingManager"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtNickName=null,e.txtError=null,e.format=new RegExp(/[^a-zA-Z0-9]/),e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(s.default.EVENT_API.CHANGE_NICK,this.onChangeNickResponse.bind(this),this)},e.prototype.onChangeNickResponse=function(t){if(l.default.getInstance().hide(),0!=t.status)this.txtError.string=c.default.getInstance().statusApiError(t.status)+"";else{this.txtError.node.color=cc.Color.GREEN,this.node.destroy(),this.node.removeFromParent(!0);var e=this.txtNickName.string.trim();a.default.getInstance().UserData.nick=e,a.default.getInstance().UserData.hash=t.data,cc.systemEvent.emit(s.default.EVENT_LOBBY.UPDATE_NICK_DONE)}},e.prototype.clickDone=function(){var t=r.TextData[a.default.getInstance().UserData.textPackage],e=this.txtNickName.string.trim();e.length<1?this.txtError.string=t.null_nickname:e.length<6||e.length>15?this.txtError.string=t.updatenick_desc:/[^a-zA-Z0-9]/.test(e)?this.txtError.string="T\xean nh\xe2n v\u1eadt ch\u1ec9 ch\u1ee9a k\xfd t\u1ef1 v\xe0 s\u1ed1":(this.txtError.string="",l.default.getInstance().show(),c.default.getInstance().processUpdateNickName(e))},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([d(cc.EditBox)],e.prototype,"txtNickName",void 0),i([d(cc.Label)],e.prototype,"txtError",void 0),e=i([p],e)}(cc.Component);n.UpdateNickNameController=h,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","./LoadingManager":"LoadingManager"}],UpdatePhone:[function(t,e,n){"use strict";cc._RF.push(e,"30074QMd/tKA4EFnjbXJaaE","UpdatePhone");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/GameData"),c=t("../../Common/Network/ConnectHandler"),s=t("../../Common/Data/LabelHelperConfigs"),r=t("./LoadingManager"),l=t("../../Common/Data/Constants"),u=t("./UserInfo"),p=t("../../Common/UI/Notification"),d=t("../../Common/Data/GameConfigs"),h=cc._decorator,f=h.ccclass,_=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listStep=[],e.labelPhone=null,e.notiPrefab=null,e.eboxPhone=null,e.eboxCaptcha=null,e.eboxOTP=null,e.sprCaptcha=null,e.nodeSecond=null,e.nodeThird=null,e.userInfo=null,e.lbError=null,e.nodeOTP=null,e.nodeAccountKit=null,e.lbErrorAKit=null,e.phone="",e.language=null,e.captchaVerify="",e}return o(e,t),e.prototype.onLoad=function(){this.language=s.TextData[a.default.getInstance().UserData.textPackage],cc.systemEvent.on(l.default.EVENT_API.UPDATE_PHONE,this.updatePhoneResponse.bind(this),this),cc.systemEvent.on(l.default.EVENT_API.ACTIVE_PHONE,this.activePhoneResponse.bind(this),this),cc.systemEvent.on(l.default.EVENT_API.REMOVE_PHONE,this.removePhoneResponse.bind(this),this),cc.systemEvent.on(l.default.EVENT_API.GET_CAPTCHA,this.onGetCaptchaResponse.bind(this),this),cc.systemEvent.on(l.default.EVENT_API.UPDATE_PHONE_ACCOUNT_KIT,this.updatePhoneSuccess.bind(this),this),cc.systemEvent.on(l.default.EVENT_LOBBY.UPDATE_PHONE_FAIL,this.updatePhoneFail.bind(this),this),cc.systemEvent.on("UPDATE_PHONE_DONE",this.onUpdateSuccess.bind(this),this)},e.prototype.onUpdateSuccess=function(t){c.default.getInstance().processUpdatePhoneAccountKit(t)},e.prototype.onEnable=function(){this.lbError.string="",this.lbErrorAKit.string="",0==d.GameConfigs.server_config.account_kit?(this.refreshCaptcha(),""!=a.default.getInstance().UserData.phone?(this.labelPhone.string=this.optimizePhone(a.default.getInstance().UserData.phone),this.listStep[0].active=!1,this.listStep[1].active=!0,this.nodeSecond.active=!1,this.nodeThird.active=!0):(this.resetDefault(),this.nodeOTP.active=!0,this.listStep[0].active=!0,this.listStep[1].active=!1,this.nodeSecond.active=!0,this.nodeThird.active=!1)):(this.lbError.string="",this.lbErrorAKit.string="",this.lbError.node.color=cc.Color.RED,""!=a.default.getInstance().UserData.phone?(this.labelPhone.string=this.optimizePhone(a.default.getInstance().UserData.phone),this.listStep[0].active=!1,this.listStep[1].active=!0,this.nodeSecond.active=!1,this.nodeThird.active=!0):this.nodeAccountKit.active=!0)},e.prototype.updatePhoneSuccess=function(t){r.default.getInstance().hide(),this.lbErrorAKit.string="",null!=t&&(0==t.status?(a.default.getInstance().UserData.phone=t.data.phone,this.labelPhone.string=this.optimizePhone(t.data.phone),this.lbErrorAKit.string="",this.listStep[0].active=!1,this.listStep[1].active=!0,this.nodeSecond.active=!1,this.nodeThird.active=!0,this.nodeAccountKit.active=!1,cc.systemEvent.emit(l.default.EVENT_LOBBY.UPDATE_BALANCE,t.data.balance)):(r.default.getInstance().hide(),this.lbErrorAKit.string=c.default.getInstance().statusApiError(t.status)))},e.prototype.updatePhoneFail=function(t){r.default.getInstance().hide(),this.lbError.string=c.default.getInstance().statusApiError(t)},e.prototype.onBtnUpdatePhoneAccountKit=function(t){cc.systemEvent.emit("ACCOUNT_KIT_LOGIN")},e.prototype.onTextChangePhone=function(){"0"==this.eboxPhone.string.charAt(0)&&(this.eboxPhone.string=this.eboxPhone.string.replace("0",""))},e.prototype.resetDefault=function(){this.eboxPhone.string="",this.eboxCaptcha.string="",this.eboxOTP.string="",this.lbError.string="",this.lbErrorAKit.string=""},e.prototype.onGetCaptchaResponse=function(t){this.captchaVerify=t.data.captchaVerify;var e="data:image/png;base64,"+t.data.captchaImage,n=new Image;n.src=e;var o=new cc.Texture2D;o.initWithElement(n),o.handleLoadedTexture(),this.sprCaptcha.spriteFrame=new cc.SpriteFrame(o)},e.prototype.refreshCaptcha=function(){c.default.getInstance().processGetCaptcha()},e.prototype.optimizePhone=function(t){var e="****"+t.substr(t.length-2,t.length);return t.substr(0,t.length-6)+e},e.prototype.updatePhoneResponse=function(t){r.default.getInstance().hide(),null!=t?(this.lbError.string=c.default.getInstance().statusApiError(t.status),0==t.status&&(this.listStep[0].active=!1,this.listStep[1].active=!0,this.nodeSecond.active=!0,this.nodeThird.active=!1,this.lbError.string="",this.labelPhone.string=this.optimizePhone(this.phone)),this.eboxCaptcha.string="",this.refreshCaptcha()):this.lbError.string=this.language.system_busy},e.prototype.activePhoneResponse=function(t){r.default.getInstance().hide(),null!=t?(this.lbError.string=c.default.getInstance().statusApiError(t.status),0==t.status&&(this.nodeSecond.active=!1,this.nodeThird.active=!0,this.lbError.string="",a.default.getInstance().UserData.phone=this.phone,this.userInfo.onActivePhoneDone()),this.eboxOTP.string=""):this.lbError.string=this.language.system_busy},e.prototype.removePhoneResponse=function(t){r.default.getInstance().hide(),null!=t?(this.lbError.string=c.default.getInstance().statusApiError(t.status),0==t.status?(this.labelPhone.string="",this.eboxPhone.string="",this.eboxCaptcha.string="",this.listStep[0].active=!0,this.listStep[1].active=!1,this.nodeSecond.active=!0,this.nodeThird.active=!1,this.lbError.string="",a.default.getInstance().UserData.phone="",0==d.GameConfigs.server_config.account_kit?(this.refreshCaptcha(),this.nodeOTP.active=!0):this.nodeAccountKit.active=!0):-60==t.status&&(this.lbError.string=c.default.getInstance().statusApiError(t.status)+" "+t.data+" ti\u1ebfng"),this.eboxOTP.string=""):this.lbError.string=this.language.system_busy},e.prototype.onBtnUpdatePhone=function(t){this.lbError.node.color=cc.Color.RED,0!=this.eboxPhone.string.length?0!=this.eboxCaptcha.string.length?(this.lbError.string="",r.default.getInstance().show(),this.phone="+84"+this.eboxPhone.string,c.default.getInstance().processUpdatePhone(this.phone,this.eboxCaptcha.string,this.captchaVerify)):this.lbError.string=this.language.null_captcha:this.lbError.string=this.language.null_phone},e.prototype.onBtnActivePhone=function(t){this.lbError.node.color=cc.Color.RED,0!=this.eboxOTP.string.length?(this.lbError.string="",r.default.getInstance().show(),c.default.getInstance().processActivePhone(this.phone,this.eboxOTP.string)):this.lbError.string=this.language.null_otp},e.prototype.onBtnRemovePhone=function(t){this.lbError.node.color=cc.Color.RED,0!=this.eboxOTP.string.length?(this.lbError.string="",r.default.getInstance().show(),c.default.getInstance().processRemovePhone(a.default.getInstance().UserData.phone,this.eboxOTP.string)):this.lbError.string=this.language.null_otp},e.prototype.onBtnOTP=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent(p.default).showOTP(),t.getComponent(p.default).activePhone=!0,t.getComponent(p.default).setContent(this.language.noti_get_otp),cc.director.getScene().addChild(t,d.GameConfigs.zOderGame.POP_UP)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([_(cc.Node)],e.prototype,"listStep",void 0),i([_(cc.Label)],e.prototype,"labelPhone",void 0),i([_(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([_(cc.EditBox)],e.prototype,"eboxPhone",void 0),i([_(cc.EditBox)],e.prototype,"eboxCaptcha",void 0),i([_(cc.EditBox)],e.prototype,"eboxOTP",void 0),i([_(cc.Sprite)],e.prototype,"sprCaptcha",void 0),i([_(cc.Node)],e.prototype,"nodeSecond",void 0),i([_(cc.Node)],e.prototype,"nodeThird",void 0),i([_(u.default)],e.prototype,"userInfo",void 0),i([_(cc.Label)],e.prototype,"lbError",void 0),i([_(cc.Node)],e.prototype,"nodeOTP",void 0),i([_(cc.Node)],e.prototype,"nodeAccountKit",void 0),i([_(cc.Label)],e.prototype,"lbErrorAKit",void 0),e=i([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/UI/Notification":"Notification","./LoadingManager":"LoadingManager","./UserInfo":"UserInfo"}],UserData:[function(t,e,n){"use strict";cc._RF.push(e,"988ebynVn5Dk6GYFdkQmnP+","UserData"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./LabelHelperConfigs"),i=function(){return function(){this.showAdsFirst=!1,this.isFirstTimeLauchApp=!1,this.isMusicEnabled=!0,this.isSoundEnabled=!0,this.textPackage=o.TextPackage.Vietnamese,this.userid="",this.pub_id="",this.username="",this.password="",this.nick="",this.balance=0,this.avatar=1,this.freeze_money=0,this.phone="",this.account_type=0,this.hash="",this.bearer="",this.token="",this.mail="",this.security=0,this.min_balance=0,this.link="",this.number_mail=0,this.vippoint=0,this.curr_level=0,this.total_vip=0,this.ratio_usd=0,this.turn_vqmm=0}}();n.default=i,cc._RF.pop()},{"./LabelHelperConfigs":"LabelHelperConfigs"}],UserInfo:[function(t,e,n){"use strict";cc._RF.push(e,"3eca3ZkZA1DTajDcbXoVxxX","UserInfo");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./Security"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listTopButton=[],e.listNode=[],e.title=null,e}return o(e,t),e.prototype.onActivePhoneDone=function(){this.onBtnTop(this.listTopButton[0],0)},e.prototype.onBtnTop=function(t,e){for(var n in this.title.active=!0,this.listTopButton)parseInt(n)==e?(this.listNode[n].active=!0,this.listTopButton[n].node.opacity=255):(this.listNode[n].active=!1,this.listTopButton[n].node.opacity=0);0==+e&&(this.listNode[0].children[0].active=!0,this.listNode[0].children[1].active=!1,this.listNode[0].children[2].active=!1)},e.prototype.setToSecurity=function(t){this.onBtnTop(this.listTopButton[2],2),"PHONE"==t?this.listNode[2].getComponent(a.default).setToUpdatePhone():this.listNode[2].getComponent(a.default).setToUpdateBMDN()},i([r(cc.Button)],e.prototype,"listTopButton",void 0),i([r(cc.Node)],e.prototype,"listNode",void 0),i([r(cc.Node)],e.prototype,"title",void 0),e=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./Security":"Security"}],Utility:[function(t,e,n){"use strict";cc._RF.push(e,"9ca94Y3zG9NQLmRCL6Fk2JC","Utility");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=(i.property,function(){function t(){}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e,this.Instance.init()),this.Instance},t.prototype.init=function(){},t.prototype.dowloadImageUrl=function(t,e,n){},t.prototype.numberToCurrency=function(t){return(t+"").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")},t.prototype.add_commas=function(t){return t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):"0"},t.prototype.moneytoNumber=function(t){return t.replace(/[.]+/g,"")},t.prototype.randomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.prototype.base64ToArrayBuffer=function(t){for(var e=atob(t),n=e.length,o=new Uint8Array(n),i=0;i<n;i++)o[i]=e.charCodeAt(i);return o.buffer},t.prototype.abbrNum=function(t){if(t<1e3)return t.toString();var e=2;e=Math.pow(10,e);for(var n=["K","M","B","T"],o="K",i=n.length-1;i>=0;i--){var a=Math.pow(10,3*(i+1));if(a<=t){1e3==(t=Math.round(t*e/a)/e)&&i<n.length-1&&(t=1,i++),o=n[i];break}}return t.toString()+o},t.prototype.distanceTwoPoint=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},t.prototype.sendSMSOTP=function(){},t.prototype.calcAngle1=function(t,e){var n=this.distance2Point(t,e);if(0==n)return 0;var o=(t.x-e.x)/n,i=Math.acos(o);return t.y<e.y&&(i=-i),i},t.prototype.calcAngle=function(t,e){var n=this.distance2Point(t,e);if(0==n)return 0;var o=(t.x-e.x)/n,i=Math.acos(o);return t.y>e.y?i=2*Math.PI-i:i+=Math.PI/2,i},t.prototype.buildCircle=function(t,e,n){if(!(n<=0)){for(var o=2*Math.PI/n,i=[],a=0;a<n;a++){var c=t.x+e*Math.cos(a*o),s=t.y+e*Math.sin(a*o);i.push(cc.v2(c,s))}return i}},t.prototype.angle_range=function(t){for(;t<=2*-Math.PI;)t+=2*Math.PI;for(t<0&&(t+=2*Math.PI);t>=2*Math.PI;)t-=2*Math.PI;return t},t.prototype.getTargetPoint=function(t,e,n,o,i){return(n=this.angle_range(n))>0&&n<Math.PI/2?(o=cc.winSize.width+300,i=e+(cc.winSize.width-t+300)*Math.tan(n)):n>=Math.PI/2&&n<Math.PI?(o=-300,i=e-(t+300)*Math.tan(n)):n>=Math.PI&&n<Math.PI/2*3?(o=-300,i=e-(t+300)*Math.tan(n)):(o=cc.winSize.width+300,i=e+(cc.winSize.width-t+300)*Math.tan(n)),cc.v2(o,i)},t.prototype.shakeCamera=function(t){var e=this,n=cc.find("Canvas").getChildByName("BG"),o=0,i=setInterval(function(){n.setPosition(0+e.randomInt(-10,10),0+e.randomInt(-10,10)),(o+=100)>1e3*t&&(clearInterval(i),n.position=cc.v2(0,0))},100)},t.prototype.numberToMoneyString=function(t){return""},t.prototype.vector2Point=function(t,e){return cc.v2(e.x-t.x,e.y-t.y)},t.prototype.distance2Point=function(t,e){return t.sub(e).mag()},t.prototype.angle2Vector=function(t,e,n){return void 0===n&&(n=1),t.sub(e).angle(cc.v2(n,0))},t.prototype.getCurrDate=function(){var t=new Date,e=t.getDate(),n=t.getMonth()+1,o=t.getFullYear();return(e>=10?e:"0"+e)+"/"+(n>=10?n:"0"+n)+"/"+o},t.prototype.getCurrDateInt=function(){var t=new Date,e=t.getDate(),n=t.getMonth()+1;return t.getFullYear()+""+(n>=10?n:"0"+n)+(e>=10?e:"0"+e)},t.prototype.getCurrentDay=function(){return(new Date).getDay()+1},t.prototype.getCurrentMonth=function(){return(new Date).getMonth()+1},t.prototype.currentDate=function(){var t=new Date,e=t.getDate(),n=t.getMonth()+1,o=t.getFullYear();return(e>=10?e:"0"+e)+"/"+(n>=10?n:"0"+n)+"/"+o},t.prototype.formatDateInt=function(t){if(""==t)return"";var e=t.split("/");return e[2]+""+e[1]+e[0]},t.prototype.getCurrentDate=function(){return(new Date).getDate()},t.Instance=null,t=e=o([a],t)}());n.Utility=c,cc._RF.pop()},{}],VQMM:[function(t,e,n){"use strict";cc._RF.push(e,"493eaDhcwBGmon6fmBECqXt","VQMM");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Network/ConnectHandler"),c=t("../../Common/Data/GameConfigs"),s=t("../../Common/Data/LabelHelperConfigs"),r=t("../../Common/Data/GameData"),l=t("../../Common/Data/Constants"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spin1=null,e.notiPrefab=null,e.btnSpin=null,e.anim=null,e.btnClose=null,e.language=null,e.time=0,e.nameCoin="LONG",e}return o(e,t),e.prototype.onLoad=function(){this.language=s.TextData[r.default.getInstance().UserData.textPackage],cc.systemEvent.on(l.default.EVENT_API.SPIN_VQMM,this.onSpinVQMMResponse.bind(this),this)},e.prototype.onSpinVQMMResponse=function(t){var e=this;null!=t?0==t.status?(this.btnClose.interactable=!1,this.spin1.runAction(cc.sequence(cc.rotateBy(1,-30),cc.rotateBy(2,720),cc.rotateBy(1,360),cc.rotateBy(1,220),cc.rotateBy(1,100),cc.rotateBy(5,70+this.parseDegree(t.data.award_id)),cc.callFunc(function(){}),cc.delayTime(1),cc.callFunc(function(){if(9!=t.data.award_id&&15!=t.data.award_id){var n="";n=t.data.amount>10?"Ch\xfac m\u1eebng, b\u1ea1n \u0111\xe3 th\u1eafng "+e.parseAward(t.data.award_id)+".\nVui l\xf2ng v\xe0o h\u1ed9p th\u01b0 \u0111\u1ec3 nh\u1eadn th\u01b0\u1edfng !!!":"Ch\xfac m\u1eebng, b\u1ea1n \u0111\xe3 th\u1eafng "+e.parseAward(t.data.award_id),e.enableNoti(n);var o=r.default.getInstance().UserData.number_mail;o+=1,cc.systemEvent.emit(l.default.EVENT_LOBBY.NOTI_MAIL,o)}else e.enableNoti("R\u1ea5t ti\u1ebfc, ch\xfac b\u1ea1n may m\u1eafn l\u1ea7n sau");e.btnClose.interactable=!0,e.anim.play()})))):this.enableNoti(a.default.getInstance().statusApiError(t.status)):this.enableNoti(this.language.system_busy)},e.prototype.onBtnSpin=function(t){this.btnSpin.interactable=!1,cc.systemEvent.emit(l.default.EVENT_LOBBY.DONE_VQMM),a.default.getInstance().processSpinVQMM()},e.prototype.parseDegree=function(t){switch(t){case 1:return 40;case 2:return 160;case 3:return 280;case 4:return 320;case 5:return 200;case 6:return 240;case 7:return 120;case 8:return 0;case 9:return 80;case 10:return 320;case 11:return 200;case 12:return 240;case 13:return 120;case 14:return 0;case 15:return 80}},e.prototype.parseAward=function(t){switch(t){case 1:return"200.000 "+this.nameCoin;case 2:return"50.000 "+this.nameCoin;case 3:return"10.000 "+this.nameCoin;case 4:return"5.000 "+this.nameCoin;case 5:return"2.000 "+this.nameCoin;case 6:return"2 l\u01b0\u1ee3t Free Spin C\u1eedu V\u1ef9 H\u1ed3";case 7:return"2 l\u01b0\u1ee3t Free Spin Long H\u1ed5";case 8:return"2 l\u01b0\u1ee3t Free Spin Ki\u1ebfm Th\u1ebf";case 9:return"Tr\u01b0\u1ee3t";case 10:return"5.000 "+this.nameCoin;case 11:return"2.000 "+this.nameCoin;case 12:return"2 l\u01b0\u1ee3t Free Spin C\u1eedu V\u1ef9 H\u1ed3";case 13:return"2 l\u01b0\u1ee3t Free Spin Long H\u1ed5";case 14:return"2 l\u01b0\u1ee3t Free Spin Ki\u1ebfm Th\u1ebf";case 15:return"Tr\u01b0\u1ee3t"}},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent("Notification").setContent(t),e.getComponent("Notification").showDialog(3),cc.director.getScene().addChild(e,c.GameConfigs.zOderGame.POP_UP)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([d(cc.Node)],e.prototype,"spin1",void 0),i([d(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([d(cc.Button)],e.prototype,"btnSpin",void 0),i([d(cc.Animation)],e.prototype,"anim",void 0),i([d(cc.Button)],e.prototype,"btnClose",void 0),e=i([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler"}],VipBXH:[function(t,e,n){"use strict";cc._RF.push(e,"515bfP1EPNAI4VDZT5hvf0Q","VipBXH");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Network/ConnectHandler"),c=t("../../Common/Data/Constants"),s=t("./LoadingManager"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.cell=null,e.page=0,e}return o(e,t),e.prototype.onEnable=function(){s.default.getInstance().show(),this.content.removeAllChildren(!0),a.default.getInstance().processGetTopVippoint(),cc.systemEvent.on(c.default.EVENT_API.GET_TOP_VIP,this.onGetTopVipResponse.bind(this),this)},e.prototype.onGetTopVipResponse=function(t){if(s.default.getInstance().hide(),null!=t&&0==t.status)for(var e in t.data){var n=cc.instantiate(this.cell);parseInt(e)%2==0?n.getChildByName("1").active=!0:n.getChildByName("2").active=!0,+e<3?n.getChildByName("rank_"+e).active=!0:n.getChildByName("rank").getComponent(cc.Label).string=+e+1+"",n.getChildByName("nick").getComponent(cc.Label).string=t.data[e].nick,n.getChildByName("level").getComponent(cc.Label).string=t.data[e].level,n.getChildByName("vippoint").getComponent(cc.Label).string=t.data[e].vippoint,this.content.addChild(n)}},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([u(cc.Node)],e.prototype,"content",void 0),i([u(cc.Prefab)],e.prototype,"cell",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Network/ConnectHandler":"ConnectHandler","./LoadingManager":"LoadingManager"}],Vippoint:[function(t,e,n){"use strict";cc._RF.push(e,"af69aJ8/gJCvoIKV9+O0YW+","Vippoint");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Network/ConnectHandler"),c=t("../../Common/Utilities/Utility"),s=t("../../Common/Data/LabelHelperConfigs"),r=t("../../Common/Data/GameData"),l=t("../../Common/Data/GameConfigs"),u=t("../../Common/Data/Constants"),p=t("./LoadingManager"),d=t("../../Common/UI/Notification"),h=cc._decorator,f=h.ccclass,_=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTotalVip=null,e.lbCurrVippoint=null,e.lbVPFee=null,e.lbReceive=null,e.eboxVippoint=null,e.eboxOTP=null,e.notiPrefab=null,e.lbCountDown=null,e.btnConfirm=null,e.listFromVip=[],e.language=null,e.vippointChange=0,e.interCountDown=null,e.canChange=!1,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(u.default.EVENT_API.GET_VIP_INFO,this.onGetVipInfoResponse.bind(this),this),cc.systemEvent.on(u.default.EVENT_API.GET_VIPPOINT,this.onGetVippointResponse.bind(this),this),cc.systemEvent.on(u.default.EVENT_API.CHANGE_VIPPOINT,this.onChangeVippointResponse.bind(this),this)},e.prototype.onEnable=function(){this.language=s.TextData[r.default.getInstance().UserData.textPackage],a.default.getInstance().processGetListVippoint(),this.onTimeChangeVippoint(),this.resetDefault()},e.prototype.onDisable=function(){clearInterval(this.interCountDown)},e.prototype.resetDefault=function(){this.lbCountDown.string="",this.eboxVippoint.string="",this.eboxOTP.string="",this.lbReceive.string="0"},e.prototype.onTimeChangeVippoint=function(){if(""!=l.GameConfigs.server_config.time_change_vippoint){var t=l.GameConfigs.server_config.time_change_vippoint.split("-"),e=c.Utility.getInstance().getCurrentDate(),n=new Date,o=+t[0],i=0;if(t.length>0)i=+t[1];else i=new Date(n.getFullYear(),n.getMonth()+1,0).getDate();e<o?this.countDownBanner(o,n.getMonth(),n.getFullYear()):(this.canChange=!0,i>0&&e>i&&this.countDownBanner(o,n.getMonth()+1,n.getFullYear()))}},e.prototype.onChangeVippointResponse=function(t){if(p.default.getInstance().hide(),null!=t){if(0==t.status){cc.systemEvent.emit(u.default.EVENT_LOBBY.UPDATE_BALANCE,t.data),a.default.getInstance().processGetVipInfo();var e="Quy \u0111\u1ed5i VIPPOINT th\xe0nh c\xf4ng. S\u1ed1 LONG nh\u1eadn \u0111\u01b0\u1ee3c l\xe0 "+this.lbReceive.string;this.enableNoti(e)}else this.enableNoti(a.default.getInstance().statusApiError(t.status));this.eboxOTP.string=""}else this.enableNoti(this.language.system_busy)},e.prototype.onGetVipInfoResponse=function(t){null!=t&&0==t.status&&(r.default.getInstance().UserData.vippoint=t.data.vippoint,r.default.getInstance().UserData.curr_level=t.data.curr_level,r.default.getInstance().UserData.total_vip=t.data.total_vip,this.lbCurrVippoint.string=t.data.vippoint,this.lbVPFee.string=t.data.bet_slot+t.data.bet_tx,this.lbTotalVip.string=t.data.total_vip+"/"+this.listFromVip[t.data.curr_level])},e.prototype.onGetVippointResponse=function(t){if(null!=t&&0==t.status){for(var e in this.listFromVip=[],t.data)r.default.getInstance().UserData.curr_level==t.data[e].level_id&&(this.vippointChange=t.data[e].vippoint_change),this.listFromVip.push(t.data[e].from_vip);a.default.getInstance().processGetVipInfo()}},e.prototype.onEditVippoint=function(){var t=+this.eboxVippoint.string*this.vippointChange;this.lbReceive.string=c.Utility.getInstance().numberToCurrency(t)},e.prototype.onBtnConfirm=function(t){if(!this.canChange)return this.canChange=!0,void this.enableNoti("Hi\u1ec7n t\u1ea1i ch\u01b0a t\u1edbi th\u1eddi gian quy \u0111\u1ed5i VIPPOINT, vui l\xf2ng quay l\u1ea1i sau");0!=this.eboxVippoint.string.length?0!=this.eboxOTP.string.length?(p.default.getInstance().show(),a.default.getInstance().processChangeVippoint(this.eboxVippoint.string,this.eboxOTP.string)):this.enableNoti(this.language.null_otp):this.enableNoti(this.language.null_vippoint)},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent(d.default).setContent(t),e.getComponent(d.default).showDialog(2),cc.director.getScene().addChild(e,l.GameConfigs.zOderGame.POP_UP)},e.prototype.onBtnOTP=function(){var t=cc.instantiate(this.notiPrefab);t.getComponent(d.default).showOTP(),t.getComponent(d.default).setContent(this.language.noti_get_otp),cc.director.getScene().addChild(t,l.GameConfigs.zOderGame.POP_UP)},e.prototype.countDownBanner=function(t,e,n){var o=this;try{var i=new Date(n,e,t).getTime();this.interCountDown=setInterval(function(){var t=(new Date).getTime(),e=i-t,n=Math.floor(e/864e5),a=Math.floor(e%864e5/36e5),c=Math.floor(e%36e5/6e4),s=Math.floor(e%6e4/1e3),r=a>=10?a:"0"+a,l=c>=10?c:"0"+c,u=s>=10?s:"0"+s;e<0?(o.canChange=!0,null!=o.lbCountDown&&(o.lbCountDown.string=""),null!=o.btnConfirm&&(o.btnConfirm.color=cc.Color.WHITE),clearInterval(o.interCountDown)):(o.canChange=!1,null!=o.btnConfirm&&(o.btnConfirm.color=cc.Color.GRAY),null!=o.lbCountDown&&(o.lbCountDown.string="\u0110\u1ed5i trong: "+n+" ng\xe0y - "+r+":"+l+":"+u))},1e3)}catch(t){}},e.prototype.onDestroy=function(){clearInterval(this.interCountDown),cc.systemEvent.targetOff(this)},i([_(cc.Label)],e.prototype,"lbTotalVip",void 0),i([_(cc.Label)],e.prototype,"lbCurrVippoint",void 0),i([_(cc.Label)],e.prototype,"lbVPFee",void 0),i([_(cc.Label)],e.prototype,"lbReceive",void 0),i([_(cc.EditBox)],e.prototype,"eboxVippoint",void 0),i([_(cc.EditBox)],e.prototype,"eboxOTP",void 0),i([_(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([_(cc.Label)],e.prototype,"lbCountDown",void 0),i([_(cc.Node)],e.prototype,"btnConfirm",void 0),e=i([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/Data/LabelHelperConfigs":"LabelHelperConfigs","../../Common/Network/ConnectHandler":"ConnectHandler","../../Common/UI/Notification":"Notification","../../Common/Utilities/Utility":"Utility","./LoadingManager":"LoadingManager"}],Vip:[function(t,e,n){"use strict";cc._RF.push(e,"a8f52MXyGFEeqN2RF2YOUor","Vip");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listNode=[],e.listButton=[],e}return o(e,t),e.prototype.onEnable=function(){this.onBtnLeft(null,"0")},e.prototype.onBtnLeft=function(t,e){switch(e){case"0":this.listButton[0].interactable=!1,this.listButton[1].interactable=!0,this.listNode[0].active=!0,this.listNode[1].active=!1;break;case"1":this.listButton[0].interactable=!0,this.listButton[1].interactable=!1,this.listNode[0].active=!1,this.listNode[1].active=!0}},i([s(cc.Node)],e.prototype,"listNode",void 0),i([s(cc.Button)],e.prototype,"listButton",void 0),e=i([c],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],VongQuay:[function(t,e,n){"use strict";cc._RF.push(e,"e60bfUUjjNJ6rYFlt63MqM1","VongQuay");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./PhongThanHandler"),c=t("../../Common/Data/Constants"),s=t("../../Common/Data/GameConfigs"),r=t("../../Common/Data/GameData"),l=t("../../Common/Utilities/Utility"),u=t("../../Common/UI/NumberRun"),p=t("../../Common/UI/PopupInterface"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbGold=null,e.lbFlag=null,e.vongTrong=null,e.vongNgoai=null,e.notiPrefab=null,e.btnSpin=null,e.btnAutoSpin=null,e.stealPrefab=null,e.lbRoomValue=null,e.btnStopAuto=null,e.animState=null,e.animSpecial=null,e.atlas=null,e.btnClose=null,e.lbNoti=null,e.lbJackpot=null,e.roomValue=0,e.prevRoomValue=0,e.isAuto=!1,e}return o(e,t),e.prototype.onLoad=function(){var t=this;cc.systemEvent.on(c.default.PT_EVENT.SPIN_GAME,this.onSpinGame.bind(this),this),cc.systemEvent.on(c.default.PT_EVENT.BACK_SPIN,this.onBackSpin.bind(this),this),cc.systemEvent.on(c.default.PT_EVENT.GET_HONOR,this.onPushNoti.bind(this),this),cc.systemEvent.on(c.default.PT_EVENT.ON_JP,this.onPushJackpot.bind(this),this),cc.systemEvent.on(c.default.PT_EVENT.UPDATE_PT_POINT,this.onPTPoint.bind(this),this),a.PhongThanHandler.getInstance().getHonor(),this.roomValue=a.PhongThanHandler.getInstance().getRoomBet(),this.lbRoomValue.string=this.roomValue+"",this.prevRoomValue=this.roomValue;var e=a.PhongThanHandler.getInstance().accountInfo;this.lbGold.string=l.Utility.getInstance().numberToCurrency(e.knb);var n=0,o=a.PhongThanHandler.getInstance().getLevelByPoint();n=o<22?2e3:o<28?5e3:o<37?1e4:2e4,this.lbGold.string+="/"+n,this.lbFlag.string=this.checkPoint(e.point),this.onSetupAward(),cc.director.getScene().name!=s.GameConfigs.SceneName.Lobby&&(this.node.getComponent(p.default).addTouchMove(),this.node.on(cc.Node.EventType.TOUCH_START,function(){t.node.zIndex=s.GameConfigs.zOderGame.MINIGAME++}).bind(this)),this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(180),cc.callFunc(function(){a.PhongThanHandler.getInstance().getHonor()}))))},e.prototype.onPTPoint=function(t){this.lbFlag.string=this.checkPoint(t)},e.prototype.onPushJackpot=function(t){var e=a.PhongThanHandler.getInstance().getRoomIdByLevel(),n=t.jackpot_str.split(",");this.lbJackpot.runNumber(n[e-1],!0)},e.prototype.onPushNoti=function(t){var e=this;if(0!=t.length){this.lbNoti.string="",this.lbNoti.node.stopAllActions(),this.lbNoti.node.setPosition(260,0);for(var n="<color=#f6e29c>Ch\xfac m\u1eebng </color>",o=0;o<15&&null!=t[o];o++)t[o].prize_value<=0||(n+="<color=#47FF00>"+t[o].nick+"</color> <color=#f6e29c>\u0111\xe3 tr\xfang</color> ",t[o].prize_value<=1e5?n+="<color=#f6e29c> ph\u1ea7n th\u01b0\u1edfng tr\u1ecb gi\xe1</color> ":n+="<color=#FFFF00>"+t[o].prize_name+"</color> <color=#f6e29c>tr\u1ecb gi\xe1</color> ",n+="<color=#FAEA2D>"+l.Utility.getInstance().numberToCurrency(t[o].prize_value)+" LONG</color>",o!=t.length-1&&(n+="<color=#f6e29c>, </color>"));this.lbNoti.string=n;var i=this.lbNoti.node.getContentSize().width,a=0;a=t.length<=3?15:t.length>3&&t.length<6?25:40,this.lbNoti.node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(a,-328-i,0),cc.callFunc(function(){e.lbNoti.node.setPosition(250,0)}))))}},e.prototype.onSetupAward=function(){var t=0;switch(this.roomValue){case 1:t=1;break;case 10:t=18;break;case 100:t=35}for(var e in this.vongNgoai.children){this.vongNgoai.children[e].getComponent(cc.Sprite).spriteFrame=this.atlas.getSpriteFrame(t+""),t++}},e.prototype.onBackSpin=function(){this.isAuto&&this.onBtnQuay()},e.prototype.onSpinGame=function(t){var e=this;if(this.btnClose.interactable=!1,this.btnSpin.interactable=!1,this.btnAutoSpin.interactable=!1,0!=t.game_status)return this.btnSpin.interactable=!0,this.btnAutoSpin.interactable=!0,void this.enableNoti("L\u1ed7i h\u1ec7 th\u1ed1ng");this.vongNgoai.rotation=0,this.vongTrong.rotation=0;var n=t.data,o=n.response,i=n.award_id,u=n.award_id2,p=n.award_name,d=n.award_name2,h=n.award_value,f=n.award_value2,_=n.is_steal,g=n.is_gift,m=n.amount_level,y=n.knb,v=n.jackpot_value,b=n.is_jackpot;if(-1!=o){a.PhongThanHandler.getInstance().accountInfo.knb=y,cc.systemEvent.emit(c.default.PT_EVENT.UPDATE_KNB,y),this.lbGold.string=l.Utility.getInstance().numberToCurrency(y);var C=0,T=a.PhongThanHandler.getInstance().getLevelByPoint();C=T<22?2e3:T<28?5e3:T<37?1e4:2e4,this.lbGold.string+="/"+C,this.vongNgoai.runAction(cc.sequence(cc.rotateBy(.5,-30),cc.rotateBy(.5,360),cc.rotateBy(.5,220),cc.rotateBy(.5,100),cc.rotateBy(1,70+this.parseDegree(i)))),this.vongTrong.runAction(cc.sequence(cc.rotateBy(.5,-30),cc.rotateBy(.5,360),cc.rotateBy(.5,220),cc.rotateBy(.5,100),cc.rotateBy(1.5,70+this.parseDegree2(u)))),this.node.runAction(cc.sequence(cc.delayTime(4),cc.callFunc(function(){0==b&&(0==h&&0!=f&&e.enableNoti("B\u1ea1n v\u1eeba tr\xfang "+d),0!=h&&0==f&&e.enableNoti("B\u1ea1n v\u1eeba tr\xfang "+p),0!=h&&0!=f&&e.enableNoti("B\u1ea1n v\u1eeba tr\xfang "+p+", "+d),0==h&&0==f&&e.enableNoti("Ch\xfac b\u1ea1n may m\u1eafn l\u1ea7n sau")),e.btnSpin.interactable=!0,e.btnAutoSpin.interactable=!0,e.btnClose.interactable=!0;var t=e.showAnimSpecialAward(i,h,v);if(1==b){var n=+r.default.getInstance().UserData.balance+ +v;cc.systemEvent.emit(c.default.EVENT_LOBBY.UPDATE_BALANCE,n)}if(!g){n=+r.default.getInstance().UserData.balance+ +h;cc.systemEvent.emit(c.default.EVENT_LOBBY.UPDATE_BALANCE,n)}if(_)e.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){var t=cc.instantiate(e.stealPrefab),n=cc.winSize;t.x=n.width/2,t.y=n.height/2,cc.director.getScene().addChild(t,s.GameConfigs.zOderGame.POP_UP)})));else{a.PhongThanHandler.getInstance().accountInfo.point+=f;var o=a.PhongThanHandler.getInstance().accountInfo.point;if(cc.systemEvent.emit(c.default.PT_EVENT.UPDATE_PT_POINT,o),e.lbFlag.string=e.checkPoint(o),e.roomValue=a.PhongThanHandler.getInstance().getRoomBet(),e.lbRoomValue.string=e.roomValue+"",e.prevRoomValue!=e.roomValue&&(e.prevRoomValue=e.roomValue,e.onSetupAward()),e.showAnimNewState(m),e.isAuto){if(m>0||t||1==b)return;e.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){e.onBtnQuay()})))}}})))}else this.enableNoti("B\u1ea1n \u0111ang trong m\xe0n c\u01b0\u1edbp")},e.prototype.showAnimSpecialAward=function(t,e,n){var o="",i="";switch(t){case 7:case 8:o="The_DT";break;case 10:o="Chuot_Razer_300k";break;case 24:case 25:o="The_DT";break;case 27:o="Dongho_2000k";break;case 41:o="Tainghe-250k";break;case 42:o="Banphim-1000k";break;case 44:o="IPAD-10.000K";break;case 9:case 26:case 43:o="NOHU"}if(""==o)return!1;i="NOHU"==o?n:e;var a=cc.instantiate(this.animSpecial),c=cc.winSize;return a.x=c.width/2,a.y=c.height/2,a.getChildByName("money").getComponent(u.default).runNumber(i,!0),a.getChildByName("anim").getComponent(sp.Skeleton).animation=o,cc.director.getScene().addChild(a,s.GameConfigs.zOderGame.POP_UP),!0},e.prototype.showAnimNewState=function(t){if(t>0){var e=cc.instantiate(this.animState),n=cc.winSize;e.x=n.width/2,e.y=n.height/2;var o="";switch(a.PhongThanHandler.getInstance().getLevelByPoint()){case 4:o="Nv2_Open";break;case 19:o="Nv3_Open";break;case 22:o="Nv4_Open";break;case 25:o="Nv5_Open";break;case 28:o="Nv6_Open";break;case 31:o="Nv7_Open";break;case 34:o="Nv08_Open";break;case 37:o="Nv09_Open";break;case 40:o="Nv10_Open";break;case 46:o="Nv11_Open";break;case 52:o="Nv12_Open"}e.getChildByName("anim").getComponent(sp.Skeleton).animation=o,e.getChildByName("money").getComponent(u.default).runNumber(t,!0),cc.director.getScene().addChild(e,s.GameConfigs.zOderGame.POP_UP)}},e.prototype.parseDegree=function(t){switch(t){case 1:case 18:case 35:return 35;case 2:case 19:case 36:return 70;case 3:case 20:case 37:return 100;case 4:case 21:case 38:return 132;case 5:case 22:case 39:return 165;case 6:case 23:case 40:return 197;case 7:case 24:case 41:return 230;case 8:case 25:case 42:return 262;case 9:case 26:case 43:return 295;case 10:case 27:case 44:return 328;case 11:case 28:case 45:return 0}},e.prototype.parseDegree2=function(t){switch(t){case 12:case 29:case 46:return 245;case 13:case 30:case 47:return 300;case 14:case 31:case 48:return 120;case 15:case 32:case 49:return 0;case 16:case 33:case 50:return 180;case 17:case 34:case 51:return 60}},e.prototype.checkPoint=function(t){for(var e=0,n=0,o=a.PhongThanHandler.getInstance().listLevel;n<o.length;n++){var i=o[n];if(t<+i.point){e=+i.point;break}}return l.Utility.getInstance().numberToCurrency(t)+"/"+e},e.prototype.onBtnQuay=function(){if(a.PhongThanHandler.getInstance().accountInfo.knb<this.roomValue)this.enableNoti("B\u1ea1n kh\xf4ng \u0111\u1ee7 kim nguy\xean b\u1ea3o");else{this.vongNgoai.rotation=0,this.vongTrong.rotation=0;var t=a.PhongThanHandler.getInstance().getRoomIdByLevel();a.PhongThanHandler.getInstance().spinGame(t)}},e.prototype.onBtnAuto=function(){this.isAuto=!0,this.btnStopAuto.active=!0,this.onBtnQuay()},e.prototype.onBtnStopAuto=function(){this.isAuto=!1,this.btnStopAuto.active=!1},e.prototype.enableNoti=function(t){var e=cc.instantiate(this.notiPrefab);e.getComponent("Notification").setContent(t),e.getComponent("Notification").showDialog(2),cc.director.getScene().addChild(e,s.GameConfigs.zOderGame.POP_UP)},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},i([f(cc.Label)],e.prototype,"lbGold",void 0),i([f(cc.Label)],e.prototype,"lbFlag",void 0),i([f(cc.Node)],e.prototype,"vongTrong",void 0),i([f(cc.Node)],e.prototype,"vongNgoai",void 0),i([f(cc.Prefab)],e.prototype,"notiPrefab",void 0),i([f(cc.Button)],e.prototype,"btnSpin",void 0),i([f(cc.Button)],e.prototype,"btnAutoSpin",void 0),i([f(cc.Prefab)],e.prototype,"stealPrefab",void 0),i([f(cc.Label)],e.prototype,"lbRoomValue",void 0),i([f(cc.Node)],e.prototype,"btnStopAuto",void 0),i([f(cc.Prefab)],e.prototype,"animState",void 0),i([f(cc.Prefab)],e.prototype,"animSpecial",void 0),i([f(cc.SpriteAtlas)],e.prototype,"atlas",void 0),i([f(cc.Button)],e.prototype,"btnClose",void 0),i([f(cc.RichText)],e.prototype,"lbNoti",void 0),i([f(u.default)],e.prototype,"lbJackpot",void 0),e=i([h],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Data/GameConfigs":"GameConfigs","../../Common/Data/GameData":"GameData","../../Common/UI/NumberRun":"NumberRun","../../Common/UI/PopupInterface":"PopupInterface","../../Common/Utilities/Utility":"Utility","./PhongThanHandler":"PhongThanHandler"}],WebEditBox:[function(t,e,n){"use strict";cc._RF.push(e,"00b6e09nbxMRK0jZnU6v60q","WebEditBox");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.preTarget=null,e.nextTarget=null,e}return o(e,t),e.prototype.start=function(){var t=this;try{this._impl._edTxt.addEventListener("keydown",function(e){if(9==e.keyCode)return e.preventDefault&&e.preventDefault(),e.shiftKey?t.preTarget&&t.preTarget.setFocus():t.nextTarget&&t.nextTarget.setFocus(),!1})}catch(t){}},i([s(cc.EditBox)],e.prototype,"preTarget",void 0),i([s(cc.EditBox)],e.prototype,"nextTarget",void 0),e=i([c],e)}(cc.EditBox);n.default=r,cc._RF.pop()},{}],WebSocketConnecter:[function(t,e,n){"use strict";cc._RF.push(e,"8950d4iJl1Ou5lv5N/JLxuz","WebSocketConnecter");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Data/Constants"),a=cc._decorator,c=a.ccclass,s=(a.property,function(){function t(t){this.timeoutInterval=1e4,this.reconetTimeoutInterval=2e3,this.protocols=[],this.url="",this.requestCouter=0,this.cookie="",this.caFile="",this.negotiateUrl="",this.isReconnectFirst=!0,this.lastTime=0,this.reconnectCouter=0,this.uid=-1,this.connected=!1,this.intervalPong=null,this.onopen=function(t){},this.onclose=function(t){},this.onconnecting=function(){},this.onmessage=function(t){},this.onerror=function(t){},this.name=t}return t.prototype.isConect=function(){return this.ws&&this.connected},t.prototype.connect=function(t,e){void 0===e&&(e=""),this.url=""!=e?t+"hash="+e:t,this.connectWS(this.url)},t.prototype.connectChat=function(t,e,n,o){this.url=t+"hash="+e+"&channel="+n+"&room_idx="+o,this.connectWS(this.url)},t.prototype.connectJP=function(t){this.url=t,this.connectWS(this.url)},t.prototype.sendMessage=function(t,e){if(this.isConect()){this.requestCouter++;var n='{"m":"'+t+'", "d":'+e+"}",o=this.stringToArrayBuffer(n);this.ws.send(o),this.lastTime=(new Date).getTime()}},t.prototype.sendApi=function(t){if(this.isConect()){this.requestCouter++;var e=this.stringToArrayBuffer(t);this.ws.send(e),this.lastTime=(new Date).getTime()}},t.prototype.sendMessageNodeJs=function(t,e){if(this.isConect()){this.requestCouter++;var n='{"m":'+t+',"d":'+e+"}";this.ws.send(n),this.lastTime=(new Date).getTime()}},t.prototype.sendPong=function(){if(this.isConect()){this.ws.send("pong"),this.lastTime=(new Date).getTime()}},t.prototype.close=function(){this.ws&&this.closeWS()},t.prototype.connectWS=function(t){var e=this;try{this.ws=null,this.url=t,this.ws=new WebSocket(this.url),this.ws.binaryType="arraybuffer",this.connected=!1}catch(t){}this.ws.onerror=function(t){e.onerror(t)},this.ws.onopen=function(t){e.lastTime=0,e.reconnectCouter=0,e.connected=!0,e.onopen(t),"Game"==e.name&&(i.default.IS_SEND_PONG||(i.default.IS_SEND_PONG=!0,e.intervalPong=setInterval(function(){e.sendPong()},5e3)))},this.ws.onclose=function(t){if(e.ws=null,e.reconnectCouter<5)var n=setTimeout(function(){e.connectWS(e.url),e.reconnectCouter++,clearTimeout(n)},e.reconetTimeoutInterval);else e.reconnectCouter=0,e.connected=!1,e.onclose(t),"Game"==e.name&&(clearInterval(e.intervalPong),i.default.IS_SEND_PONG=!1)},this.ws.onmessage=function(t){e.onmessage(t)}},t.prototype.closeWS=function(){this.ws&&this.ws.close()},t.prototype.stringToArrayBuffer=function(t){if(/[\u0080-\uffff]/.test(t))throw new Error("this needs encoding, like UTF-8");for(var e=new Uint8Array(t.length),n=t.length;n--;)e[n]=t.charCodeAt(n);return e.buffer},t=o([c],t)}());n.WebSocketConnecter=s,cc._RF.pop()},{"../Data/Constants":"Constants"}],WinEffect:[function(t,e,n){"use strict";cc._RF.push(e,"50107rakjpMi5k8C9rb7lb6","WinEffect");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/UI/NumberRun"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbName=null,e.money=null,e.listPar=[],e.Spink=null,e.numberMoney=0,e.delay=0,e.nameUser="",e.nameAmin="",e}return o(e,t),e.prototype.init=function(t,e,n,o){var i=this;void 0===o&&(o=""),this.numberMoney=e,this.delay=n,this.nameUser=o,this.nameAmin=t,this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){""!=i.nameUser&&(i.lbName.string=i.nameUser,i.lbName.node.active=!0),i.money.node.active=!0,i.money.runNumber(i.numberMoney,!0,i.delay>10?10:i.delay/2)},this),cc.delayTime(this.delay-1),cc.removeSelf(!0)))},e.prototype.onLoad=function(){this.Spink.getComponent(sp.Skeleton).animation=this.nameAmin,"thanglon"==this.nameAmin&&(this.listPar[0].active=!0),"thangslon"==this.nameAmin?this.listPar[1].active=!0:this.listPar[2].active=!0,"thangslon"==this.nameAmin||"thanglon"==this.nameAmin?this.money.fontSize=25:this.money.fontSize=20},i([r(cc.Label)],e.prototype,"lbName",void 0),i([r(a.default)],e.prototype,"money",void 0),i([r(cc.Node)],e.prototype,"listPar",void 0),i([r(cc.Node)],e.prototype,"Spink",void 0),e=i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../Common/UI/NumberRun":"NumberRun"}],WsHandler:[function(t,e,n){"use strict";cc._RF.push(e,"8c81btDprpEmpoq2K342BP+","WsHandler");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./WebSocketConnecter"),a=t("../Data/GameConfigs"),c=t("../Data/Constants"),s=t("../Data/GameData"),r=t("./ConnectHandler"),l=t("./RecconnetPopup"),u=t("../../scenemanager/scripts/SceneManager"),p=t("../../TaiXiu/Scripts/ChatHandler"),d=t("../../TaiXiu/Scripts/TaiXiuHandler"),h=t("../../PhongThan/Scripts/PhongThanHandler"),f=cc._decorator,_=f.ccclass,g=(f.property,function(){function t(){this.ws=null,this.wsApi=null,this.listJPAll=[],this.isLogin=!1,this.forceLoguot=!1,this.isConnectChat=!1}var e;return e=t,t.getInstance=function(){return null!==this.Instance&&void 0!==this.Instance||(this.Instance=new e,this.Instance.init()),this.Instance},t.prototype.connect=function(){this.ws.isConect()||this.ws.connectWS(a.GameConfigs.server_config.link_ws),this.wsApi.isConect()||this.wsApi.connectWS(a.GameConfigs.server_config.link_authen)},t.prototype.close=function(){this.ws.close()},t.prototype.init=function(){this.ws=new i.WebSocketConnecter("Game"),this.wsApi=new i.WebSocketConnecter("Billing"),this.initNetWork(),this.initAPI()},t.prototype.initNetWork=function(){var t=this;this.ws.onmessage=function(e){try{var n=null,o=null,i=t.arrayBufferToString(e.data),a=JSON.parse(i);if(null!=a&&a.hasOwnProperty("d")&&(n=a.m,o=a.d),null!=o&&null!=n)switch(n){case"jackpot":switch(o.cmd){case"push_notification":if(null==o.data)return;var s=JSON.parse(o.data);cc.systemEvent.emit(c.default.EVENT_LOBBY.NOTIFICATION,s.data);break;case"push_honor":s=JSON.parse(o.data);cc.systemEvent.emit(c.default.EVENT_LOBBY.LIST_HONOR,s.data);break;case"jackpot_all":cc.systemEvent.emit("ARRANGE"),t.parseJackpotAll(o.data)}break;case"require":if(o.code<0)return void cc.systemEvent.emit(c.default.EVENT_LOBBY.ERROR_CONNECT,o.data);case"join_game":"chat"==o.game&&1==o.data.code&&(t.isConnectChat=!0,p.ChatHandler.getInstance().joinRoomTX()),cc.systemEvent.emit(o.game+"join_game",o.data);break;case"leave_game":"chat"==o.game&&(t.isConnectChat=!1),cc.systemEvent.emit(o.game+"leave_game",o.data);break;case"play_game":cc.systemEvent.emit(o.game,o.data);break;case"login":1==o.code&&(t.isLogin=!0,p.ChatHandler.getInstance().connect(),cc.systemEvent.emit(c.default.EVENT_LOBBY.OPEN_TX,"TAIXIU"),h.PhongThanHandler.getInstance().connect());break;case"logout":1==o.code&&(t.isLogin=!1,d.default.getInstance().isConnect=!1,r.default.getInstance().processLogOut())}}catch(t){console.error(t)}},this.ws.onopen=function(t){},this.ws.onclose=function(e){l.default.Instance.isGameClose=!0,l.default.Instance.Show(),t.forceLoguot=!0,t.isLogin=!1,cc.director.getScene().name!=a.GameConfigs.SceneName.Lobby&&u.clientdev.SceneManager.Instance.LoadScene(a.GameConfigs.SceneName.Lobby,function(){})}},t.prototype.initAPI=function(){var t=this;this.wsApi.onmessage=function(e){var n=null,o=null;try{var i=t.arrayBufferToString(e.data),a=JSON.parse(i);if(null!=a&&a.hasOwnProperty("api_name")&&(n=(o=a.api_name)==c.default.EVENT_API.CLOSE?a.data:JSON.parse(a.data)),null!=o&&null!=n&&t.callEvent(o,n),null!=a&&a.hasOwnProperty("cmd"))switch(n=a.data,a.cmd){case"telco_charge":r.default.getInstance().processGetBalance();break;case"notification":var s=n.info;switch(s.name){case"receive_transfer":cc.systemEvent.emit(c.default.EVENT_LOBBY.RECEIVE_TRANSFER,s)}}}catch(t){}},this.wsApi.onerror=function(t){},this.wsApi.onopen=function(t){},this.wsApi.onclose=function(e){l.default.Instance.isAPiClose=!0,l.default.Instance.Show(),t.forceLoguot=!0,t.isLogin=!1,cc.director.getScene().name!=a.GameConfigs.SceneName.Lobby&&u.clientdev.SceneManager.Instance.LoadScene(a.GameConfigs.SceneName.Lobby,function(){})}},t.prototype.callEvent=function(t,e){cc.systemEvent.emit(t,e)},t.prototype.parseJackpotAll=function(t){for(var e in this.listJPAll=t,t)null!=t[e].value&&cc.systemEvent.emit(t[e].name,t[e].value.split(","))},t.prototype.login=function(){if(!this.isLogin){var t=JSON.stringify({username:s.default.getInstance().UserData.username,hash:s.default.getInstance().UserData.hash});this.ws.sendMessage("login",t)}},t.prototype.joinGame=function(t){this.ws.sendMessage("join_game",JSON.stringify({game:t,data:null}))},t.prototype.leaveGame=function(t){this.ws.sendMessage("leave_game",JSON.stringify({game:t,data:null}))},t.prototype.logout=function(){this.ws.sendMessage("logout",null)},t.prototype.getTopTen=function(){this.ws.sendMessage("get_topten",null)},t.prototype.playGame=function(t,e){var n='{"game":"'+t+'", "data":'+e+"}";this.ws.sendMessage("play_game",n)},t.prototype.sendApi=function(t){this.wsApi.sendApi(t)},t.prototype.arrayBufferToString=function(t){var e="",n=0,o=0,i=0,a=0,c=new Uint8Array(t);for(c.length>=3&&239===c[0]&&187===c[1]&&191===c[2]&&(n=3);n<c.length;)if((o=c[n])<128)e+=String.fromCharCode(o),n++;else if(o>191&&o<224){if(n+1>=c.length)throw"UTF-8 Decode failed. Two byte character was truncated.";i=c[n+1],e+=String.fromCharCode((31&o)<<6|63&i),n+=2}else{if(n+2>=c.length)throw"UTF-8 Decode failed. Multi byte character was truncated.";i=c[n+1],a=c[n+2],e+=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a),n+=3}return e},t.prototype.stringToArrayBuffer=function(t){if(/[\u0080-\uffff]/.test(t))throw new Error("this needs encoding, like UTF-8");for(var e=new Uint8Array(t.length),n=t.length;n--;)e[n]=t.charCodeAt(n);return e.buffer},t.Instance=null,t=e=o([_],t)}());n.WsHandler=g,cc._RF.pop()},{"../../PhongThan/Scripts/PhongThanHandler":"PhongThanHandler","../../TaiXiu/Scripts/ChatHandler":"ChatHandler","../../TaiXiu/Scripts/TaiXiuHandler":"TaiXiuHandler","../../scenemanager/scripts/SceneManager":"SceneManager","../Data/Constants":"Constants","../Data/GameConfigs":"GameConfigs","../Data/GameData":"GameData","./ConnectHandler":"ConnectHandler","./RecconnetPopup":"RecconnetPopup","./WebSocketConnecter":"WebSocketConnecter"}],XHu:[function(t,e,n){"use strict";cc._RF.push(e,"dbb9fCGwv9CjKHmmcbHaNIT","XHu");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,c=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(a<3?i(c):a>3?i(e,n,c):i(e,n))||c);return a>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Data/Constants"),c=t("../../Common/Utilities/Utility"),s=t("./CountDownBanner"),r=cc._decorator,l=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listGame=[],e.listFrame=[],e}return o(e,t),e.prototype.onLoad=function(){this.onEventOpen()},e.prototype.onEventOpen=function(){for(var t=0,e=a.default.EVENT_OPEN;t<e.length;t++){var n=e[t];if(this.checkIsMatchDay(n.day_event)){var o=this.parseGameIDToEvent(n.id);if(-1==o)continue;this.listGame[o].getChildByName("100").getComponent(cc.Sprite).spriteFrame=this.listFrame[n.room100-2],this.listGame[o].getChildByName("1k").getComponent(cc.Sprite).spriteFrame=this.listFrame[n.room1k-2],this.listGame[o].getChildByName("10k").getComponent(cc.Sprite).spriteFrame=this.listFrame[n.room10k-2];var i=c.Utility.getInstance().currentDate();this.listGame[o].getChildByName("lbCountDown").getComponent(s.default).countDownXHu(i,"23:59:59")}}},e.prototype.checkIsMatchDay=function(t){for(var e=0,n=t.split(",");e<n.length;e++){if(+n[e]==c.Utility.getInstance().getCurrentDay())return!0}return!1},e.prototype.parseGameIDToEvent=function(t){switch(t){case 2:return 0;case 6:return 1;case 9:return 2;case 7:return 3;case 8:return 4;case 5:return 5;case 4:return 6;default:return-1}},i([u(cc.Node)],e.prototype,"listGame",void 0),i([u(cc.SpriteFrame)],e.prototype,"listFrame",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Data/Constants":"Constants","../../Common/Utilities/Utility":"Utility","./CountDownBanner":"CountDownBanner"}],XXTE:[function(require,module,exports){"use strict";cc._RF.push(module,"5e43eQAqa9N65hyfoCkGXXV","XXTE"),function(t){void 0===t.btoa&&(t.btoa=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return function(e){var n,o,i,a,c,s,r;for(o=i=0,a=e.length,s=(a-=c=a%3)/3<<2,c>0&&(s+=4),n=new Array(s);o<a;)r=e.charCodeAt(o++)<<16|e.charCodeAt(o++)<<8|e.charCodeAt(o++),n[i++]=t[r>>18]+t[r>>12&63]+t[r>>6&63]+t[63&r];return 1==c?(r=e.charCodeAt(o++),n[i++]=t[r>>2]+t[(3&r)<<4]+"=="):2==c&&(r=e.charCodeAt(o++)<<8|e.charCodeAt(o++),n[i++]=t[r>>10]+t[r>>4&63]+t[(15&r)<<2]+"="),n.join("")}}()),void 0===t.atob&&(t.atob=function(){var t=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];return function(e){var n,o,i,a,c,s,r,l,u,p;if((r=e.length)%4!=0)return"";if(/[^ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\+\/\=]/.test(e))return"";for(u=r,(l="="==e.charAt(r-2)?1:"="==e.charAt(r-1)?2:0)>0&&(u-=4),u=3*(u>>2)+l,p=new Array(u),c=s=0;c<r&&-1!=(n=t[e.charCodeAt(c++)])&&-1!=(o=t[e.charCodeAt(c++)])&&(p[s++]=String.fromCharCode(n<<2|(48&o)>>4),-1!=(i=t[e.charCodeAt(c++)]))&&(p[s++]=String.fromCharCode((15&o)<<4|(60&i)>>2),-1!=(a=t[e.charCodeAt(c++)]));)p[s++]=String.fromCharCode((3&i)<<6|a);return p.join("")}}());var e=2654435769;function n(t,e){var n=t.length,o=n<<2;if(e){var i=t[n-1];if(i<(o-=4)-3||i>o)return null;o=i}for(var a=0;a<n;a++)t[a]=String.fromCharCode(255&t[a],t[a]>>>8&255,t[a]>>>16&255,t[a]>>>24&255);var c=t.join("");return e?c.substring(0,o):c}function o(t,e){var n,o=t.length,i=o>>2;0!=(3&o)&&++i,e?(n=new Array(i+1))[i]=o:n=new Array(i);for(var a=0;a<o;++a)n[a>>2]|=t.charCodeAt(a)<<((3&a)<<3);return n}function i(t){return 4294967295&t}function a(t,e,n,o,i,a){return(n>>>5^e<<2)+(e>>>3^n<<4)^(t^e)+(a[3&o^i]^n)}function c(t){return t.length<4&&(t.length=4),t}function s(t,n){var o,c,s,r,l,u,p=t.length,d=p-1;for(c=t[d],s=0,u=0|Math.floor(6+52/p);u>0;--u){for(r=(s=i(s+e))>>>2&3,l=0;l<d;++l)o=t[l+1],c=t[l]=i(t[l]+a(s,o,c,l,r,n));o=t[0],c=t[d]=i(t[d]+a(s,o,c,d,r,n))}return t}function r(t,n){var o,c,s,r,l,u=t.length,p=u-1;for(o=t[0],s=i(Math.floor(6+52/u)*e);0!==s;s=i(s-e)){for(r=s>>>2&3,l=p;l>0;--l)c=t[l-1],o=t[l]=i(t[l]-a(s,o,c,l,r,n));c=t[p],o=t[0]=i(t[0]-a(s,o,c,0,r,n))}return t}function l(t){if(/^[\x00-\x7f]*$/.test(t))return t;for(var e=[],n=t.length,o=0,i=0;o<n;++o,++i){var a=t.charCodeAt(o);if(a<128)e[i]=t.charAt(o);else if(a<2048)e[i]=String.fromCharCode(192|a>>6,128|63&a);else{if(!(a<55296||a>57343)){if(o+1<n){var c=t.charCodeAt(o+1);if(a<56320&&56320<=c&&c<=57343){var s=65536+((1023&a)<<10|1023&c);e[i]=String.fromCharCode(240|s>>18&63,128|s>>12&63,128|s>>6&63,128|63&s),++o;continue}}throw new Error("Malformed string")}e[i]=String.fromCharCode(224|a>>12,128|a>>6&63,128|63&a)}}return e.join("")}function u(t,e){for(var n=new Array(e),o=0,i=0,a=t.length;o<e&&i<a;o++){var c=t.charCodeAt(i++);switch(c>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n[o]=c;break;case 12:case 13:if(!(i<a))throw new Error("Unfinished UTF-8 octet sequence");n[o]=(31&c)<<6|63&t.charCodeAt(i++);break;case 14:if(!(i+1<a))throw new Error("Unfinished UTF-8 octet sequence");n[o]=(15&c)<<12|(63&t.charCodeAt(i++))<<6|63&t.charCodeAt(i++);break;case 15:if(!(i+2<a))throw new Error("Unfinished UTF-8 octet sequence");var s=((7&c)<<18|(63&t.charCodeAt(i++))<<12|(63&t.charCodeAt(i++))<<6|63&t.charCodeAt(i++))-65536;if(!(0<=s&&s<=1048575))throw new Error("Character outside valid Unicode range: 0x"+s.toString(16));n[o++]=s>>10&1023|55296,n[o]=1023&s|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+c.toString(16))}}return o<e&&(n.length=o),String.fromCharCode.apply(String,n)}function p(t,e){for(var n=[],o=new Array(32768),i=0,a=0,c=t.length;i<e&&a<c;i++){var s=t.charCodeAt(a++);switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o[i]=s;break;case 12:case 13:if(!(a<c))throw new Error("Unfinished UTF-8 octet sequence");o[i]=(31&s)<<6|63&t.charCodeAt(a++);break;case 14:if(!(a+1<c))throw new Error("Unfinished UTF-8 octet sequence");o[i]=(15&s)<<12|(63&t.charCodeAt(a++))<<6|63&t.charCodeAt(a++);break;case 15:if(!(a+2<c))throw new Error("Unfinished UTF-8 octet sequence");var r=((7&s)<<18|(63&t.charCodeAt(a++))<<12|(63&t.charCodeAt(a++))<<6|63&t.charCodeAt(a++))-65536;if(!(0<=r&&r<=1048575))throw new Error("Character outside valid Unicode range: 0x"+r.toString(16));o[i++]=r>>10&1023|55296,o[i]=1023&r|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+s.toString(16))}if(i>=32766){var l=i+1;o.length=l,n[n.length]=String.fromCharCode.apply(String,o),e-=l,i=-1}}return i>0&&(o.length=i,n[n.length]=String.fromCharCode.apply(String,o)),n.join("")}function d(t,e){return(void 0===e||null===e||e<0)&&(e=t.length),0===e?"":/^[\x00-\x7f]*$/.test(t)||!/^[\x00-\xff]*$/.test(t)?e===t.length?t:t.substr(0,e):e<65535?u(t,e):p(t,e)}function h(t,e){return void 0===t||null===t||0===t.length?t:(t=l(t),e=l(e),n(s(o(t,!0),c(o(e,!1))),!1))}function f(t,e){return void 0===t||null===t||0===t.length?t:(e=l(e),d(n(r(o(t,!1),c(o(e,!1))),!0)))}t.XXTEA={utf8Encode:l,utf8Decode:d,encrypt:h,encryptToBase64:function(e,n){return t.btoa(h(e,n))},decrypt:f,decryptFromBase64:function(e,n){return void 0===e||null===e||0===e.length?e:f(t.atob(e),n)}}}(eval("this")),cc._RF.pop()},{}]},{},["PopupHistory","PopupTopJackpot","PopupTopWinner","Scroll","ThinhKinh","ThinhKinhEff","ThinhKinhHandler","ThinhKinhLine","BanCaData","BanCaHandler","BattleControl","BulletControl","FishManager","FishObject","NotificationShow","Particle","PlayerControl","PopupListHu","PopupMoney","PopupRateFish","WinEffect","Constants","GameConfigs","GameData","GameRoomData","LabelHelperConfigs","UserData","MD5","XXTE","NativeHelper","ConnectHandler","RecconnetPopup","WebSocketConnecter","WsHandler","CanvasScene","DestroyNodeTimer","Dialog","DialogLifeTime","Effect","LabelEx","LabelLocalize","LabelManager","LanguageID","LocalizeButton","PlaceHoderLocalize","RichTextLocalize","NodeScaleEffect","Notification","NumberRun","PlaceHoderEx","PopupInterface","WebEditBox","Shake","Utility","DestroyNodeTimerMn","DNTCBonus","DNTCController","DNTCDataFree","DNTCEntry","DNTCHandler","DNTCHelp","DNTCHistory","DNTCItem","DNTCLine","DNTCRank","DNTCScroll","DNTCTop","Bupg","BupgGuide","BupgHandler","BupgHistory","BupgRank","BupgScroll","HLHandler","HLModules","HighLow","HighLowAccesCard","HighLowCardPlay","HighLowHistory","HighLowRanking","DataFree","KTBonus","KTBonusItem","KTController","KTEffect","KTHandler","KTHelp","KTHistory","KTItem","KTLobby","KTModule","KTRank","KTScroll","KTTop","KTX2","ListJackpot","ListJackpotItem","LongdingController","Avatar","Card","CashOut","ChangePass","ChangeVippoint","ChargeCard","CountDownBanner","Event","EventAlpha","EventManager","EventTop","ForgetPass","Freeze","Giftcode","History","HistoryDetail","Info","JackpotController","Language","LoadingManager","LobbyControler","LoginController","MailBox","MailContent","Merchant","Mission","MissionCell","Payment","PresentBox","Register","Security","SecurityFirst","SecurityLogin","Transfer","UpdateMail","UpdateNickName","UpdatePhone","UserInfo","Vip","VipBXH","Vippoint","XHu","DestroyNodeTimerLH","LHoBonus","LHoBonusItem","LHoChooseLineDialog","LHoChooseLineItem","LHoController","LHoDataTryMode","LHoEffect","LHoHandler","LHoHelp","LHoHistory","LHoItem","LHoModule","LHoRank","LHoRoom","LHoRoomItem","LHoScroll","LHoTop","LHoX2","IconMiniGame","MiniGameController","HandlerMinipoker","MiniPoker","MiniPokerPrize","MiniPokerWild","PopupPokerHistory","PopupPokerHonor","NWBonus","NWController","NWDataFree","NWEntry","NWHandler","NWHelp","NWHistory","NWItem","NWLine","NWRank","NWScroll","NWTop","PhongThanAnim","PhongThanBoard","PhongThanBonusKNB","PhongThanController","PhongThanDiemDanh","PhongThanGift","PhongThanHandler","PhongThanHistory","PhongThanHistorySpin","PhongThanHistorySteal","PhongThanHomQua","PhongThanMuaKNB","PhongThanSteal","PhongThanThemKNB","PhongThanTop","PopupController","VongQuay","ChatHandler","EventTX","NodeBetTXMini","NodeChatTXMini","NodeEvent","PopTXThongKe","PopupTXEvent","PopupTXHelp","PopupTXHistory","PopupTXSession","PopupTXSoiCau","PopupTXTopWinner","TXAnim","TXCalender","TaiXiuHandler","TaiXiuMini","DestroyNodeTimerTT","TPBonus","TPBonusItem","TPChooseLineDialog","TPChooseLineItem","TPController","TPEffect","TPHandler","TPHelp","TPHistory","TPItem","TPModule","TPRank","TPRoom","TPRoomItem","TPScroll","TPScrollEfect","TPTop","TPX2","DragonEgg","DragonEggHandler","DragonEggHistory","DragonEggHistoryDetail","DragonEggJackpotHistory","DragonEggRank","DragonEggScroll","DestroyNodeTimerTH","THBonus","THBonusItem","THChooseLineDialog","THChooseLineItem","THController","THDataTryMode","THEffect","THHandler","THHelp","THHistory","THItem","THModule","THRank","THRoom","THRoomItem","THScroll","THTop","THX2","VQMM","RemoteResources","SceneManager"]);